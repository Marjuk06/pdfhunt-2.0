(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function qm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Jc={exports:{}},Go={},Zc={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function J0(){if(Sp)return Ne;Sp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.iterator;function N(D){return D===null||typeof D!="object"?null:(D=R&&D[R]||D["@@iterator"],typeof D=="function"?D:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,Y={};function q(D,B,ne){this.props=D,this.context=B,this.refs=Y,this.updater=ne||U}q.prototype.isReactComponent={},q.prototype.setState=function(D,B){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,B,"setState")},q.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Ee(){}Ee.prototype=q.prototype;function pe(D,B,ne){this.props=D,this.context=B,this.refs=Y,this.updater=ne||U}var de=pe.prototype=new Ee;de.constructor=pe,K(de,q.prototype),de.isPureReactComponent=!0;var Se=Array.isArray,Be=Object.prototype.hasOwnProperty,Ce={current:null},V={key:!0,ref:!0,__self:!0,__source:!0};function T(D,B,ne){var ve,Ie={},Re=null,Ve=null;if(B!=null)for(ve in B.ref!==void 0&&(Ve=B.ref),B.key!==void 0&&(Re=""+B.key),B)Be.call(B,ve)&&!V.hasOwnProperty(ve)&&(Ie[ve]=B[ve]);var Le=arguments.length-2;if(Le===1)Ie.children=ne;else if(1<Le){for(var We=Array(Le),ht=0;ht<Le;ht++)We[ht]=arguments[ht+2];Ie.children=We}if(D&&D.defaultProps)for(ve in Le=D.defaultProps,Le)Ie[ve]===void 0&&(Ie[ve]=Le[ve]);return{$$typeof:i,type:D,key:Re,ref:Ve,props:Ie,_owner:Ce.current}}function k(D,B){return{$$typeof:i,type:D.type,key:B,ref:D.ref,props:D.props,_owner:D._owner}}function C(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function b(D){var B={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ne){return B[ne]})}var M=/\/+/g;function I(D,B){return typeof D=="object"&&D!==null&&D.key!=null?b(""+D.key):B.toString(36)}function Qe(D,B,ne,ve,Ie){var Re=typeof D;(Re==="undefined"||Re==="boolean")&&(D=null);var Ve=!1;if(D===null)Ve=!0;else switch(Re){case"string":case"number":Ve=!0;break;case"object":switch(D.$$typeof){case i:case e:Ve=!0}}if(Ve)return Ve=D,Ie=Ie(Ve),D=ve===""?"."+I(Ve,0):ve,Se(Ie)?(ne="",D!=null&&(ne=D.replace(M,"$&/")+"/"),Qe(Ie,B,ne,"",function(ht){return ht})):Ie!=null&&(C(Ie)&&(Ie=k(Ie,ne+(!Ie.key||Ve&&Ve.key===Ie.key?"":(""+Ie.key).replace(M,"$&/")+"/")+D)),B.push(Ie)),1;if(Ve=0,ve=ve===""?".":ve+":",Se(D))for(var Le=0;Le<D.length;Le++){Re=D[Le];var We=ve+I(Re,Le);Ve+=Qe(Re,B,ne,We,Ie)}else if(We=N(D),typeof We=="function")for(D=We.call(D),Le=0;!(Re=D.next()).done;)Re=Re.value,We=ve+I(Re,Le++),Ve+=Qe(Re,B,ne,We,Ie);else if(Re==="object")throw B=String(D),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Ve}function ft(D,B,ne){if(D==null)return D;var ve=[],Ie=0;return Qe(D,ve,"","",function(Re){return B.call(ne,Re,Ie++)}),ve}function ct(D){if(D._status===-1){var B=D._result;B=B(),B.then(function(ne){(D._status===0||D._status===-1)&&(D._status=1,D._result=ne)},function(ne){(D._status===0||D._status===-1)&&(D._status=2,D._result=ne)}),D._status===-1&&(D._status=0,D._result=B)}if(D._status===1)return D._result.default;throw D._result}var $e={current:null},ee={transition:null},ce={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:ee,ReactCurrentOwner:Ce};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:ft,forEach:function(D,B,ne){ft(D,function(){B.apply(this,arguments)},ne)},count:function(D){var B=0;return ft(D,function(){B++}),B},toArray:function(D){return ft(D,function(B){return B})||[]},only:function(D){if(!C(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ne.Component=q,Ne.Fragment=n,Ne.Profiler=a,Ne.PureComponent=pe,Ne.StrictMode=s,Ne.Suspense=v,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ce,Ne.act=te,Ne.cloneElement=function(D,B,ne){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var ve=K({},D.props),Ie=D.key,Re=D.ref,Ve=D._owner;if(B!=null){if(B.ref!==void 0&&(Re=B.ref,Ve=Ce.current),B.key!==void 0&&(Ie=""+B.key),D.type&&D.type.defaultProps)var Le=D.type.defaultProps;for(We in B)Be.call(B,We)&&!V.hasOwnProperty(We)&&(ve[We]=B[We]===void 0&&Le!==void 0?Le[We]:B[We])}var We=arguments.length-2;if(We===1)ve.children=ne;else if(1<We){Le=Array(We);for(var ht=0;ht<We;ht++)Le[ht]=arguments[ht+2];ve.children=Le}return{$$typeof:i,type:D.type,key:Ie,ref:Re,props:ve,_owner:Ve}},Ne.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:c,_context:D},D.Consumer=D},Ne.createElement=T,Ne.createFactory=function(D){var B=T.bind(null,D);return B.type=D,B},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(D){return{$$typeof:m,render:D}},Ne.isValidElement=C,Ne.lazy=function(D){return{$$typeof:S,_payload:{_status:-1,_result:D},_init:ct}},Ne.memo=function(D,B){return{$$typeof:_,type:D,compare:B===void 0?null:B}},Ne.startTransition=function(D){var B=ee.transition;ee.transition={};try{D()}finally{ee.transition=B}},Ne.unstable_act=te,Ne.useCallback=function(D,B){return $e.current.useCallback(D,B)},Ne.useContext=function(D){return $e.current.useContext(D)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(D){return $e.current.useDeferredValue(D)},Ne.useEffect=function(D,B){return $e.current.useEffect(D,B)},Ne.useId=function(){return $e.current.useId()},Ne.useImperativeHandle=function(D,B,ne){return $e.current.useImperativeHandle(D,B,ne)},Ne.useInsertionEffect=function(D,B){return $e.current.useInsertionEffect(D,B)},Ne.useLayoutEffect=function(D,B){return $e.current.useLayoutEffect(D,B)},Ne.useMemo=function(D,B){return $e.current.useMemo(D,B)},Ne.useReducer=function(D,B,ne){return $e.current.useReducer(D,B,ne)},Ne.useRef=function(D){return $e.current.useRef(D)},Ne.useState=function(D){return $e.current.useState(D)},Ne.useSyncExternalStore=function(D,B,ne){return $e.current.useSyncExternalStore(D,B,ne)},Ne.useTransition=function(){return $e.current.useTransition()},Ne.version="18.3.1",Ne}var Ip;function Vh(){return Ip||(Ip=1,Zc.exports=J0()),Zc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function Z0(){if(kp)return Go;kp=1;var i=Vh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(m,v,_){var S,R={},N=null,U=null;_!==void 0&&(N=""+_),v.key!==void 0&&(N=""+v.key),v.ref!==void 0&&(U=v.ref);for(S in v)s.call(v,S)&&!c.hasOwnProperty(S)&&(R[S]=v[S]);if(m&&m.defaultProps)for(S in v=m.defaultProps,v)R[S]===void 0&&(R[S]=v[S]);return{$$typeof:e,type:m,key:N,ref:U,props:R,_owner:a.current}}return Go.Fragment=n,Go.jsx=d,Go.jsxs=d,Go}var Ap;function ev(){return Ap||(Ap=1,Jc.exports=Z0()),Jc.exports}var E=ev(),fe=Vh();const tv=qm(fe);var Ml={},eh={exports:{}},an={},th={exports:{}},nh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function nv(){return Cp||(Cp=1,(function(i){function e(ee,ce){var te=ee.length;ee.push(ce);e:for(;0<te;){var D=te-1>>>1,B=ee[D];if(0<a(B,ce))ee[D]=ce,ee[te]=B,te=D;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var ce=ee[0],te=ee.pop();if(te!==ce){ee[0]=te;e:for(var D=0,B=ee.length,ne=B>>>1;D<ne;){var ve=2*(D+1)-1,Ie=ee[ve],Re=ve+1,Ve=ee[Re];if(0>a(Ie,te))Re<B&&0>a(Ve,Ie)?(ee[D]=Ve,ee[Re]=te,D=Re):(ee[D]=Ie,ee[ve]=te,D=ve);else if(Re<B&&0>a(Ve,te))ee[D]=Ve,ee[Re]=te,D=Re;else break e}}return ce}function a(ee,ce){var te=ee.sortIndex-ce.sortIndex;return te!==0?te:ee.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();i.unstable_now=function(){return d.now()-m}}var v=[],_=[],S=1,R=null,N=3,U=!1,K=!1,Y=!1,q=typeof setTimeout=="function"?setTimeout:null,Ee=typeof clearTimeout=="function"?clearTimeout:null,pe=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function de(ee){for(var ce=n(_);ce!==null;){if(ce.callback===null)s(_);else if(ce.startTime<=ee)s(_),ce.sortIndex=ce.expirationTime,e(v,ce);else break;ce=n(_)}}function Se(ee){if(Y=!1,de(ee),!K)if(n(v)!==null)K=!0,ct(Be);else{var ce=n(_);ce!==null&&$e(Se,ce.startTime-ee)}}function Be(ee,ce){K=!1,Y&&(Y=!1,Ee(T),T=-1),U=!0;var te=N;try{for(de(ce),R=n(v);R!==null&&(!(R.expirationTime>ce)||ee&&!b());){var D=R.callback;if(typeof D=="function"){R.callback=null,N=R.priorityLevel;var B=D(R.expirationTime<=ce);ce=i.unstable_now(),typeof B=="function"?R.callback=B:R===n(v)&&s(v),de(ce)}else s(v);R=n(v)}if(R!==null)var ne=!0;else{var ve=n(_);ve!==null&&$e(Se,ve.startTime-ce),ne=!1}return ne}finally{R=null,N=te,U=!1}}var Ce=!1,V=null,T=-1,k=5,C=-1;function b(){return!(i.unstable_now()-C<k)}function M(){if(V!==null){var ee=i.unstable_now();C=ee;var ce=!0;try{ce=V(!0,ee)}finally{ce?I():(Ce=!1,V=null)}}else Ce=!1}var I;if(typeof pe=="function")I=function(){pe(M)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,ft=Qe.port2;Qe.port1.onmessage=M,I=function(){ft.postMessage(null)}}else I=function(){q(M,0)};function ct(ee){V=ee,Ce||(Ce=!0,I())}function $e(ee,ce){T=q(function(){ee(i.unstable_now())},ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ee){ee.callback=null},i.unstable_continueExecution=function(){K||U||(K=!0,ct(Be))},i.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ee?Math.floor(1e3/ee):5},i.unstable_getCurrentPriorityLevel=function(){return N},i.unstable_getFirstCallbackNode=function(){return n(v)},i.unstable_next=function(ee){switch(N){case 1:case 2:case 3:var ce=3;break;default:ce=N}var te=N;N=ce;try{return ee()}finally{N=te}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ee,ce){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var te=N;N=ee;try{return ce()}finally{N=te}},i.unstable_scheduleCallback=function(ee,ce,te){var D=i.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?D+te:D):te=D,ee){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=te+B,ee={id:S++,callback:ce,priorityLevel:ee,startTime:te,expirationTime:B,sortIndex:-1},te>D?(ee.sortIndex=te,e(_,ee),n(v)===null&&ee===n(_)&&(Y?(Ee(T),T=-1):Y=!0,$e(Se,te-D))):(ee.sortIndex=B,e(v,ee),K||U||(K=!0,ct(Be))),ee},i.unstable_shouldYield=b,i.unstable_wrapCallback=function(ee){var ce=N;return function(){var te=N;N=ce;try{return ee.apply(this,arguments)}finally{N=te}}}})(nh)),nh}var Rp;function rv(){return Rp||(Rp=1,th.exports=nv()),th.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp;function iv(){if(Pp)return an;Pp=1;var i=Vh(),e=rv();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){d(t,r),d(t+"Capture",r)}function d(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),v=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},R={};function N(t){return v.call(R,t)?!0:v.call(S,t)?!1:_.test(t)?R[t]=!0:(S[t]=!0,!1)}function U(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function K(t,r,o,u){if(r===null||typeof r>"u"||U(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Y(t,r,o,u,h,p,y){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=y}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){q[t]=new Y(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];q[r]=new Y(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){q[t]=new Y(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){q[t]=new Y(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){q[t]=new Y(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){q[t]=new Y(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){q[t]=new Y(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){q[t]=new Y(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){q[t]=new Y(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ee=/[\-:]([a-z])/g;function pe(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(Ee,pe);q[r]=new Y(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(Ee,pe);q[r]=new Y(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(Ee,pe);q[r]=new Y(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){q[t]=new Y(t,1,!1,t.toLowerCase(),null,!1,!1)}),q.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){q[t]=new Y(t,1,!1,t.toLowerCase(),null,!0,!0)});function de(t,r,o,u){var h=q.hasOwnProperty(r)?q[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(K(r,o,h,u)&&(o=null),u||h===null?N(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var Se=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Be=Symbol.for("react.element"),Ce=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),b=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),Qe=Symbol.for("react.suspense_list"),ft=Symbol.for("react.memo"),ct=Symbol.for("react.lazy"),$e=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ce(t){return t===null||typeof t!="object"?null:(t=ee&&t[ee]||t["@@iterator"],typeof t=="function"?t:null)}var te=Object.assign,D;function B(t){if(D===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);D=r&&r[1]||""}return`
`+D+t}var ne=!1;function ve(t,r){if(!t||ne)return"";ne=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(F){var u=F}Reflect.construct(t,[],r)}else{try{r.call()}catch(F){u=F}t.call(r.prototype)}else{try{throw Error()}catch(F){u=F}t()}}catch(F){if(F&&u&&typeof F.stack=="string"){for(var h=F.stack.split(`
`),p=u.stack.split(`
`),y=h.length-1,x=p.length-1;1<=y&&0<=x&&h[y]!==p[x];)x--;for(;1<=y&&0<=x;y--,x--)if(h[y]!==p[x]){if(y!==1||x!==1)do if(y--,x--,0>x||h[y]!==p[x]){var A=`
`+h[y].replace(" at new "," at ");return t.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",t.displayName)),A}while(1<=y&&0<=x);break}}}finally{ne=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?B(t):""}function Ie(t){switch(t.tag){case 5:return B(t.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return t=ve(t.type,!1),t;case 11:return t=ve(t.type.render,!1),t;case 1:return t=ve(t.type,!0),t;default:return""}}function Re(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case Ce:return"Portal";case k:return"Profiler";case T:return"StrictMode";case I:return"Suspense";case Qe:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case b:return(t.displayName||"Context")+".Consumer";case C:return(t._context.displayName||"Context")+".Provider";case M:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ft:return r=t.displayName||null,r!==null?r:Re(t.type)||"Memo";case ct:r=t._payload,t=t._init;try{return Re(t(r))}catch{}}return null}function Ve(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Le(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function We(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ht(t){var r=We(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(y){u=""+y,p.call(this,y)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(y){u=""+y},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function un(t){t._valueTracker||(t._valueTracker=ht(t))}function Kn(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=We(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function cn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nn(t,r){var o=r.checked;return te({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function J(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Le(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function et(t,r){r=r.checked,r!=null&&de(t,"checked",r,!1)}function qe(t,r){et(t,r);var o=Le(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Gt(t,r.type,o):r.hasOwnProperty("defaultValue")&&Gt(t,r.type,Le(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Ft(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Gt(t,r,o){(r!=="number"||cn(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Jt=Array.isArray;function Vn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Le(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Ji(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pr(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Jt(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Le(o)}}function ue(t,r){var o=Le(r.value),u=Le(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function be(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function De(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xe(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?De(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vn,no=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(vn=vn||document.createElement("div"),vn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=vn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function br(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gi=["Webkit","ms","Moz","O"];Object.keys(mi).forEach(function(t){gi.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),mi[r]=mi[t]})});function ro(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||mi.hasOwnProperty(t)&&mi[t]?(""+r).trim():r+"px"}function io(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=ro(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var so=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oo(t,r){if(r){if(so[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function ao(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yi=null;function Zi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var es=null,_n=null,Xn=null;function ts(t){if(t=Vo(t)){if(typeof es!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Xa(r),es(t.stateNode,t.type,r))}}function Yn(t){_n?Xn?Xn.push(t):Xn=[t]:_n=t}function lo(){if(_n){var t=_n,r=Xn;if(Xn=_n=null,ts(t),r)for(t=0;t<r.length;t++)ts(r[t])}}function vi(t,r){return t(r)}function uo(){}var mr=!1;function co(t,r,o){if(mr)return t(r,o);mr=!0;try{return vi(t,r,o)}finally{mr=!1,(_n!==null||Xn!==null)&&(uo(),lo())}}function pt(t,r){var o=t.stateNode;if(o===null)return null;var u=Xa(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var ns=!1;if(m)try{var bn={};Object.defineProperty(bn,"passive",{get:function(){ns=!0}}),window.addEventListener("test",bn,bn),window.removeEventListener("test",bn,bn)}catch{ns=!1}function _i(t,r,o,u,h,p,y,x,A){var F=Array.prototype.slice.call(arguments,3);try{r.apply(o,F)}catch(W){this.onError(W)}}var wi=!1,rs=null,Dn=!1,ho=null,ku={onError:function(t){wi=!0,rs=t}};function is(t,r,o,u,h,p,y,x,A){wi=!1,rs=null,_i.apply(ku,arguments)}function Ea(t,r,o,u,h,p,y,x,A){if(is.apply(this,arguments),wi){if(wi){var F=rs;wi=!1,rs=null}else throw Error(n(198));Dn||(Dn=!0,ho=F)}}function Mn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function Ei(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Ln(t){if(Mn(t)!==t)throw Error(n(188))}function Ta(t){var r=t.alternate;if(!r){if(r=Mn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return Ln(h),t;if(p===u)return Ln(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var y=!1,x=h.child;x;){if(x===o){y=!0,o=h,u=p;break}if(x===u){y=!0,u=h,o=p;break}x=x.sibling}if(!y){for(x=p.child;x;){if(x===o){y=!0,o=p,u=h;break}if(x===u){y=!0,u=p,o=h;break}x=x.sibling}if(!y)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function fo(t){return t=Ta(t),t!==null?ss(t):null}function ss(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=ss(t);if(r!==null)return r;t=t.sibling}return null}var os=e.unstable_scheduleCallback,po=e.unstable_cancelCallback,xa=e.unstable_shouldYield,Au=e.unstable_requestPaint,Je=e.unstable_now,Sa=e.unstable_getCurrentPriorityLevel,Ti=e.unstable_ImmediatePriority,Dr=e.unstable_UserBlockingPriority,wn=e.unstable_NormalPriority,mo=e.unstable_LowPriority,Ia=e.unstable_IdlePriority,xi=null,hn=null;function ka(t){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(xi,t,void 0,(t.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:Ca,go=Math.log,Aa=Math.LN2;function Ca(t){return t>>>=0,t===0?32:31-(go(t)/Aa|0)|0}var as=64,ls=4194304;function Mr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Si(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,y=o&268435455;if(y!==0){var x=y&~h;x!==0?u=Mr(x):(p&=y,p!==0&&(u=Mr(p)))}else y=o&~h,y!==0?u=Mr(y):p!==0&&(u=Mr(p));if(u===0)return 0;if(r!==0&&r!==u&&(r&h)===0&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Qt(r),h=1<<o,u|=t[o],r&=~h;return u}function Cu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gr(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var y=31-Qt(p),x=1<<y,A=h[y];A===-1?((x&o)===0||(x&u)!==0)&&(h[y]=Cu(x,r)):A<=r&&(t.expiredLanes|=x),p&=~x}}function dn(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ii(){var t=as;return as<<=1,(as&4194240)===0&&(as=64),t}function Lr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Or(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Qt(r),t[r]=o}function Ye(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Qt(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function jr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Qt(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Oe=0;function Fr(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Ra,us,Pa,Na,Va,yo=!1,Jn=[],Vt=null,On=null,jn=null,zr=new Map,En=new Map,Zn=[],Ru="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ba(t,r){switch(t){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":zr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":En.delete(r.pointerId)}}function Zt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Vo(r),r!==null&&us(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Pu(t,r,o,u,h){switch(r){case"focusin":return Vt=Zt(Vt,t,r,o,u,h),!0;case"dragenter":return On=Zt(On,t,r,o,u,h),!0;case"mouseover":return jn=Zt(jn,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return zr.set(p,Zt(zr.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,En.set(p,Zt(En.get(p)||null,t,r,o,u,h)),!0}return!1}function Da(t){var r=Pi(t.target);if(r!==null){var o=Mn(r);if(o!==null){if(r=o.tag,r===13){if(r=Ei(o),r!==null){t.blockedOn=r,Va(t.priority,function(){Pa(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=cs(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);yi=u,o.target.dispatchEvent(u),yi=null}else return r=Vo(o),r!==null&&us(r),t.blockedOn=o,!1;r.shift()}return!0}function ki(t,r,o){yr(t)&&o.delete(r)}function Ma(){yo=!1,Vt!==null&&yr(Vt)&&(Vt=null),On!==null&&yr(On)&&(On=null),jn!==null&&yr(jn)&&(jn=null),zr.forEach(ki),En.forEach(ki)}function Fn(t,r){t.blockedOn===r&&(t.blockedOn=null,yo||(yo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ma)))}function zn(t){function r(h){return Fn(h,t)}if(0<Jn.length){Fn(Jn[0],t);for(var o=1;o<Jn.length;o++){var u=Jn[o];u.blockedOn===t&&(u.blockedOn=null)}}for(Vt!==null&&Fn(Vt,t),On!==null&&Fn(On,t),jn!==null&&Fn(jn,t),zr.forEach(r),En.forEach(r),o=0;o<Zn.length;o++)u=Zn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Zn.length&&(o=Zn[0],o.blockedOn===null);)Da(o),o.blockedOn===null&&Zn.shift()}var vr=Se.ReactCurrentBatchConfig,Ur=!0;function it(t,r,o,u){var h=Oe,p=vr.transition;vr.transition=null;try{Oe=1,vo(t,r,o,u)}finally{Oe=h,vr.transition=p}}function Nu(t,r,o,u){var h=Oe,p=vr.transition;vr.transition=null;try{Oe=4,vo(t,r,o,u)}finally{Oe=h,vr.transition=p}}function vo(t,r,o,u){if(Ur){var h=cs(t,r,o,u);if(h===null)Bu(t,r,u,Ai,o),ba(t,u);else if(Pu(h,t,r,o,u))u.stopPropagation();else if(ba(t,u),r&4&&-1<Ru.indexOf(t)){for(;h!==null;){var p=Vo(h);if(p!==null&&Ra(p),p=cs(t,r,o,u),p===null&&Bu(t,r,u,Ai,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Bu(t,r,u,null,o)}}var Ai=null;function cs(t,r,o,u){if(Ai=null,t=Zi(u),t=Pi(t),t!==null)if(r=Mn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=Ei(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Ai=t,null}function _o(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sa()){case Ti:return 1;case Dr:return 4;case wn:case mo:return 16;case Ia:return 536870912;default:return 16}default:return 16}}var fn=null,hs=null,en=null;function wo(){if(en)return en;var t,r=hs,o=r.length,u,h="value"in fn?fn.value:fn.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var y=o-t;for(u=1;u<=y&&r[o-u]===h[p-u];u++);return en=h.slice(t,1<u?1-u:void 0)}function ds(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function er(){return!0}function Eo(){return!1}function bt(t){function r(o,u,h,p,y){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(o=t[x],this[x]=o?o(p):p[x]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?er:Eo,this.isPropagationStopped=Eo,this}return te(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),r}var Un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fs=bt(Un),tr=te({},Un,{view:0,detail:0}),Vu=bt(tr),ps,_r,Br,Ci=te({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Br&&(Br&&t.type==="mousemove"?(ps=t.screenX-Br.screenX,_r=t.screenY-Br.screenY):_r=ps=0,Br=t),ps)},movementY:function(t){return"movementY"in t?t.movementY:_r}}),ms=bt(Ci),To=te({},Ci,{dataTransfer:0}),La=bt(To),gs=te({},tr,{relatedTarget:0}),ys=bt(gs),Oa=te({},Un,{animationName:0,elapsedTime:0,pseudoElement:0}),wr=bt(Oa),ja=te({},Un,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fa=bt(ja),za=te({},Un,{data:0}),xo=bt(za),vs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ua={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ba(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ua[t])?!!r[t]:!1}function nr(){return Ba}var l=te({},tr,{key:function(t){if(t.key){var r=vs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ds(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Kt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(t){return t.type==="keypress"?ds(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ds(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f=bt(l),g=te({},Ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=bt(g),L=te({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),z=bt(L),Z=te({},Un,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ke=bt(Z),Et=te({},Ci,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),je=bt(Et),kt=[9,13,27,32],yt=m&&"CompositionEvent"in window,Tn=null;m&&"documentMode"in document&&(Tn=document.documentMode);var pn=m&&"TextEvent"in window&&!Tn,Ri=m&&(!yt||Tn&&8<Tn&&11>=Tn),_s=" ",yd=!1;function vd(t,r){switch(t){case"keyup":return kt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _d(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ws=!1;function Ky(t,r){switch(t){case"compositionend":return _d(r);case"keypress":return r.which!==32?null:(yd=!0,_s);case"textInput":return t=r.data,t===_s&&yd?null:t;default:return null}}function Xy(t,r){if(ws)return t==="compositionend"||!yt&&vd(t,r)?(t=wo(),en=hs=fn=null,ws=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ri&&r.locale!=="ko"?null:r.data;default:return null}}var Yy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Yy[t.type]:r==="textarea"}function Ed(t,r,o,u){Yn(u),r=Ga(r,"onChange"),0<r.length&&(o=new fs("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var So=null,Io=null;function Jy(t){Fd(t,0)}function $a(t){var r=Is(t);if(Kn(r))return t}function Zy(t,r){if(t==="change")return r}var Td=!1;if(m){var bu;if(m){var Du="oninput"in document;if(!Du){var xd=document.createElement("div");xd.setAttribute("oninput","return;"),Du=typeof xd.oninput=="function"}bu=Du}else bu=!1;Td=bu&&(!document.documentMode||9<document.documentMode)}function Sd(){So&&(So.detachEvent("onpropertychange",Id),Io=So=null)}function Id(t){if(t.propertyName==="value"&&$a(Io)){var r=[];Ed(r,Io,t,Zi(t)),co(Jy,r)}}function e0(t,r,o){t==="focusin"?(Sd(),So=r,Io=o,So.attachEvent("onpropertychange",Id)):t==="focusout"&&Sd()}function t0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $a(Io)}function n0(t,r){if(t==="click")return $a(r)}function r0(t,r){if(t==="input"||t==="change")return $a(r)}function i0(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Bn=typeof Object.is=="function"?Object.is:i0;function ko(t,r){if(Bn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!v.call(r,h)||!Bn(t[h],r[h]))return!1}return!0}function kd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ad(t,r){var o=kd(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=kd(o)}}function Cd(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Cd(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Rd(){for(var t=window,r=cn();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=cn(t.document)}return r}function Mu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function s0(t){var r=Rd(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Cd(o.ownerDocument.documentElement,o)){if(u!==null&&Mu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=Ad(o,p);var y=Ad(o,u);h&&y&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==y.node||t.focusOffset!==y.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(y.node,y.offset)):(r.setEnd(y.node,y.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var o0=m&&"documentMode"in document&&11>=document.documentMode,Es=null,Lu=null,Ao=null,Ou=!1;function Pd(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ou||Es==null||Es!==cn(u)||(u=Es,"selectionStart"in u&&Mu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ao&&ko(Ao,u)||(Ao=u,u=Ga(Lu,"onSelect"),0<u.length&&(r=new fs("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=Es)))}function Ha(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var Ts={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionend:Ha("Transition","TransitionEnd")},ju={},Nd={};m&&(Nd=document.createElement("div").style,"AnimationEvent"in window||(delete Ts.animationend.animation,delete Ts.animationiteration.animation,delete Ts.animationstart.animation),"TransitionEvent"in window||delete Ts.transitionend.transition);function qa(t){if(ju[t])return ju[t];if(!Ts[t])return t;var r=Ts[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Nd)return ju[t]=r[o];return t}var Vd=qa("animationend"),bd=qa("animationiteration"),Dd=qa("animationstart"),Md=qa("transitionend"),Ld=new Map,Od="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(t,r){Ld.set(t,r),c(r,[t])}for(var Fu=0;Fu<Od.length;Fu++){var zu=Od[Fu],a0=zu.toLowerCase(),l0=zu[0].toUpperCase()+zu.slice(1);$r(a0,"on"+l0)}$r(Vd,"onAnimationEnd"),$r(bd,"onAnimationIteration"),$r(Dd,"onAnimationStart"),$r("dblclick","onDoubleClick"),$r("focusin","onFocus"),$r("focusout","onBlur"),$r(Md,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Co));function jd(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,Ea(u,r,void 0,t),t.currentTarget=null}function Fd(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var y=u.length-1;0<=y;y--){var x=u[y],A=x.instance,F=x.currentTarget;if(x=x.listener,A!==p&&h.isPropagationStopped())break e;jd(h,x,F),p=A}else for(y=0;y<u.length;y++){if(x=u[y],A=x.instance,F=x.currentTarget,x=x.listener,A!==p&&h.isPropagationStopped())break e;jd(h,x,F),p=A}}}if(Dn)throw t=ho,Dn=!1,ho=null,t}function tt(t,r){var o=r[Qu];o===void 0&&(o=r[Qu]=new Set);var u=t+"__bubble";o.has(u)||(zd(r,t,2,!1),o.add(u))}function Uu(t,r,o){var u=0;r&&(u|=4),zd(o,t,u,r)}var Wa="_reactListening"+Math.random().toString(36).slice(2);function Ro(t){if(!t[Wa]){t[Wa]=!0,s.forEach(function(o){o!=="selectionchange"&&(u0.has(o)||Uu(o,!1,t),Uu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Wa]||(r[Wa]=!0,Uu("selectionchange",!1,r))}}function zd(t,r,o,u){switch(_o(r)){case 1:var h=it;break;case 4:h=Nu;break;default:h=vo}o=h.bind(null,r,o,t),h=void 0,!ns||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Bu(t,r,o,u,h){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var y=u.tag;if(y===3||y===4){var x=u.stateNode.containerInfo;if(x===h||x.nodeType===8&&x.parentNode===h)break;if(y===4)for(y=u.return;y!==null;){var A=y.tag;if((A===3||A===4)&&(A=y.stateNode.containerInfo,A===h||A.nodeType===8&&A.parentNode===h))return;y=y.return}for(;x!==null;){if(y=Pi(x),y===null)return;if(A=y.tag,A===5||A===6){u=p=y;continue e}x=x.parentNode}}u=u.return}co(function(){var F=p,W=Zi(o),Q=[];e:{var H=Ld.get(t);if(H!==void 0){var re=fs,oe=t;switch(t){case"keypress":if(ds(o)===0)break e;case"keydown":case"keyup":re=f;break;case"focusin":oe="focus",re=ys;break;case"focusout":oe="blur",re=ys;break;case"beforeblur":case"afterblur":re=ys;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":re=ms;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":re=La;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":re=z;break;case Vd:case bd:case Dd:re=wr;break;case Md:re=Ke;break;case"scroll":re=Vu;break;case"wheel":re=je;break;case"copy":case"cut":case"paste":re=Fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":re=w}var ae=(r&4)!==0,mt=!ae&&t==="scroll",O=ae?H!==null?H+"Capture":null:H;ae=[];for(var P=F,j;P!==null;){j=P;var X=j.stateNode;if(j.tag===5&&X!==null&&(j=X,O!==null&&(X=pt(P,O),X!=null&&ae.push(Po(P,X,j)))),mt)break;P=P.return}0<ae.length&&(H=new re(H,oe,null,o,W),Q.push({event:H,listeners:ae}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",re=t==="mouseout"||t==="pointerout",H&&o!==yi&&(oe=o.relatedTarget||o.fromElement)&&(Pi(oe)||oe[Er]))break e;if((re||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,re?(oe=o.relatedTarget||o.toElement,re=F,oe=oe?Pi(oe):null,oe!==null&&(mt=Mn(oe),oe!==mt||oe.tag!==5&&oe.tag!==6)&&(oe=null)):(re=null,oe=F),re!==oe)){if(ae=ms,X="onMouseLeave",O="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(ae=w,X="onPointerLeave",O="onPointerEnter",P="pointer"),mt=re==null?H:Is(re),j=oe==null?H:Is(oe),H=new ae(X,P+"leave",re,o,W),H.target=mt,H.relatedTarget=j,X=null,Pi(W)===F&&(ae=new ae(O,P+"enter",oe,o,W),ae.target=j,ae.relatedTarget=mt,X=ae),mt=X,re&&oe)t:{for(ae=re,O=oe,P=0,j=ae;j;j=xs(j))P++;for(j=0,X=O;X;X=xs(X))j++;for(;0<P-j;)ae=xs(ae),P--;for(;0<j-P;)O=xs(O),j--;for(;P--;){if(ae===O||O!==null&&ae===O.alternate)break t;ae=xs(ae),O=xs(O)}ae=null}else ae=null;re!==null&&Ud(Q,H,re,ae,!1),oe!==null&&mt!==null&&Ud(Q,mt,oe,ae,!0)}}e:{if(H=F?Is(F):window,re=H.nodeName&&H.nodeName.toLowerCase(),re==="select"||re==="input"&&H.type==="file")var le=Zy;else if(wd(H))if(Td)le=r0;else{le=t0;var me=e0}else(re=H.nodeName)&&re.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(le=n0);if(le&&(le=le(t,F))){Ed(Q,le,o,W);break e}me&&me(t,H,F),t==="focusout"&&(me=H._wrapperState)&&me.controlled&&H.type==="number"&&Gt(H,"number",H.value)}switch(me=F?Is(F):window,t){case"focusin":(wd(me)||me.contentEditable==="true")&&(Es=me,Lu=F,Ao=null);break;case"focusout":Ao=Lu=Es=null;break;case"mousedown":Ou=!0;break;case"contextmenu":case"mouseup":case"dragend":Ou=!1,Pd(Q,o,W);break;case"selectionchange":if(o0)break;case"keydown":case"keyup":Pd(Q,o,W)}var ge;if(yt)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else ws?vd(t,o)&&(Te="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Te="onCompositionStart");Te&&(Ri&&o.locale!=="ko"&&(ws||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&ws&&(ge=wo()):(fn=W,hs="value"in fn?fn.value:fn.textContent,ws=!0)),me=Ga(F,Te),0<me.length&&(Te=new xo(Te,t,null,o,W),Q.push({event:Te,listeners:me}),ge?Te.data=ge:(ge=_d(o),ge!==null&&(Te.data=ge)))),(ge=pn?Ky(t,o):Xy(t,o))&&(F=Ga(F,"onBeforeInput"),0<F.length&&(W=new xo("onBeforeInput","beforeinput",null,o,W),Q.push({event:W,listeners:F}),W.data=ge))}Fd(Q,r)})}function Po(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Ga(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=pt(t,o),p!=null&&u.unshift(Po(t,p,h)),p=pt(t,r),p!=null&&u.push(Po(t,p,h))),t=t.return}return u}function xs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ud(t,r,o,u,h){for(var p=r._reactName,y=[];o!==null&&o!==u;){var x=o,A=x.alternate,F=x.stateNode;if(A!==null&&A===u)break;x.tag===5&&F!==null&&(x=F,h?(A=pt(o,p),A!=null&&y.unshift(Po(o,A,x))):h||(A=pt(o,p),A!=null&&y.push(Po(o,A,x)))),o=o.return}y.length!==0&&t.push({event:r,listeners:y})}var c0=/\r\n?/g,h0=/\u0000|\uFFFD/g;function Bd(t){return(typeof t=="string"?t:""+t).replace(c0,`
`).replace(h0,"")}function Qa(t,r,o){if(r=Bd(r),Bd(t)!==r&&o)throw Error(n(425))}function Ka(){}var $u=null,Hu=null;function qu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wu=typeof setTimeout=="function"?setTimeout:void 0,d0=typeof clearTimeout=="function"?clearTimeout:void 0,$d=typeof Promise=="function"?Promise:void 0,f0=typeof queueMicrotask=="function"?queueMicrotask:typeof $d<"u"?function(t){return $d.resolve(null).then(t).catch(p0)}:Wu;function p0(t){setTimeout(function(){throw t})}function Gu(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),zn(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);zn(r)}function Hr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Hd(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Ss=Math.random().toString(36).slice(2),rr="__reactFiber$"+Ss,No="__reactProps$"+Ss,Er="__reactContainer$"+Ss,Qu="__reactEvents$"+Ss,m0="__reactListeners$"+Ss,g0="__reactHandles$"+Ss;function Pi(t){var r=t[rr];if(r)return r;for(var o=t.parentNode;o;){if(r=o[Er]||o[rr]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Hd(t);t!==null;){if(o=t[rr])return o;t=Hd(t)}return r}t=o,o=t.parentNode}return null}function Vo(t){return t=t[rr]||t[Er],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Is(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Xa(t){return t[No]||null}var Ku=[],ks=-1;function qr(t){return{current:t}}function nt(t){0>ks||(t.current=Ku[ks],Ku[ks]=null,ks--)}function Ze(t,r){ks++,Ku[ks]=t.current,t.current=r}var Wr={},zt=qr(Wr),tn=qr(!1),Ni=Wr;function As(t,r){var o=t.type.contextTypes;if(!o)return Wr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function nn(t){return t=t.childContextTypes,t!=null}function Ya(){nt(tn),nt(zt)}function qd(t,r,o){if(zt.current!==Wr)throw Error(n(168));Ze(zt,r),Ze(tn,o)}function Wd(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,Ve(t)||"Unknown",h));return te({},o,u)}function Ja(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Wr,Ni=zt.current,Ze(zt,t),Ze(tn,tn.current),!0}function Gd(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Wd(t,r,Ni),u.__reactInternalMemoizedMergedChildContext=t,nt(tn),nt(zt),Ze(zt,t)):nt(tn),Ze(tn,o)}var Tr=null,Za=!1,Xu=!1;function Qd(t){Tr===null?Tr=[t]:Tr.push(t)}function y0(t){Za=!0,Qd(t)}function Gr(){if(!Xu&&Tr!==null){Xu=!0;var t=0,r=Oe;try{var o=Tr;for(Oe=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}Tr=null,Za=!1}catch(h){throw Tr!==null&&(Tr=Tr.slice(t+1)),os(Ti,Gr),h}finally{Oe=r,Xu=!1}}return null}var Cs=[],Rs=0,el=null,tl=0,xn=[],Sn=0,Vi=null,xr=1,Sr="";function bi(t,r){Cs[Rs++]=tl,Cs[Rs++]=el,el=t,tl=r}function Kd(t,r,o){xn[Sn++]=xr,xn[Sn++]=Sr,xn[Sn++]=Vi,Vi=t;var u=xr;t=Sr;var h=32-Qt(u)-1;u&=~(1<<h),o+=1;var p=32-Qt(r)+h;if(30<p){var y=h-h%5;p=(u&(1<<y)-1).toString(32),u>>=y,h-=y,xr=1<<32-Qt(r)+h|o<<h|u,Sr=p+t}else xr=1<<p|o<<h|u,Sr=t}function Yu(t){t.return!==null&&(bi(t,1),Kd(t,1,0))}function Ju(t){for(;t===el;)el=Cs[--Rs],Cs[Rs]=null,tl=Cs[--Rs],Cs[Rs]=null;for(;t===Vi;)Vi=xn[--Sn],xn[Sn]=null,Sr=xn[--Sn],xn[Sn]=null,xr=xn[--Sn],xn[Sn]=null}var mn=null,gn=null,st=!1,$n=null;function Xd(t,r){var o=Cn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Yd(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,mn=t,gn=Hr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,mn=t,gn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Vi!==null?{id:xr,overflow:Sr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=Cn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,mn=t,gn=null,!0):!1;default:return!1}}function Zu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ec(t){if(st){var r=gn;if(r){var o=r;if(!Yd(t,r)){if(Zu(t))throw Error(n(418));r=Hr(o.nextSibling);var u=mn;r&&Yd(t,r)?Xd(u,o):(t.flags=t.flags&-4097|2,st=!1,mn=t)}}else{if(Zu(t))throw Error(n(418));t.flags=t.flags&-4097|2,st=!1,mn=t}}}function Jd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mn=t}function nl(t){if(t!==mn)return!1;if(!st)return Jd(t),st=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!qu(t.type,t.memoizedProps)),r&&(r=gn)){if(Zu(t))throw Zd(),Error(n(418));for(;r;)Xd(t,r),r=Hr(r.nextSibling)}if(Jd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){gn=Hr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}gn=null}}else gn=mn?Hr(t.stateNode.nextSibling):null;return!0}function Zd(){for(var t=gn;t;)t=Hr(t.nextSibling)}function Ps(){gn=mn=null,st=!1}function tc(t){$n===null?$n=[t]:$n.push(t)}var v0=Se.ReactCurrentBatchConfig;function bo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(y){var x=h.refs;y===null?delete x[p]:x[p]=y},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function rl(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function ef(t){var r=t._init;return r(t._payload)}function tf(t){function r(O,P){if(t){var j=O.deletions;j===null?(O.deletions=[P],O.flags|=16):j.push(P)}}function o(O,P){if(!t)return null;for(;P!==null;)r(O,P),P=P.sibling;return null}function u(O,P){for(O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(O,P){return O=ti(O,P),O.index=0,O.sibling=null,O}function p(O,P,j){return O.index=j,t?(j=O.alternate,j!==null?(j=j.index,j<P?(O.flags|=2,P):j):(O.flags|=2,P)):(O.flags|=1048576,P)}function y(O){return t&&O.alternate===null&&(O.flags|=2),O}function x(O,P,j,X){return P===null||P.tag!==6?(P=Wc(j,O.mode,X),P.return=O,P):(P=h(P,j),P.return=O,P)}function A(O,P,j,X){var le=j.type;return le===V?W(O,P,j.props.children,X,j.key):P!==null&&(P.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ct&&ef(le)===P.type)?(X=h(P,j.props),X.ref=bo(O,P,j),X.return=O,X):(X=Al(j.type,j.key,j.props,null,O.mode,X),X.ref=bo(O,P,j),X.return=O,X)}function F(O,P,j,X){return P===null||P.tag!==4||P.stateNode.containerInfo!==j.containerInfo||P.stateNode.implementation!==j.implementation?(P=Gc(j,O.mode,X),P.return=O,P):(P=h(P,j.children||[]),P.return=O,P)}function W(O,P,j,X,le){return P===null||P.tag!==7?(P=Ui(j,O.mode,X,le),P.return=O,P):(P=h(P,j),P.return=O,P)}function Q(O,P,j){if(typeof P=="string"&&P!==""||typeof P=="number")return P=Wc(""+P,O.mode,j),P.return=O,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Be:return j=Al(P.type,P.key,P.props,null,O.mode,j),j.ref=bo(O,null,P),j.return=O,j;case Ce:return P=Gc(P,O.mode,j),P.return=O,P;case ct:var X=P._init;return Q(O,X(P._payload),j)}if(Jt(P)||ce(P))return P=Ui(P,O.mode,j,null),P.return=O,P;rl(O,P)}return null}function H(O,P,j,X){var le=P!==null?P.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return le!==null?null:x(O,P,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Be:return j.key===le?A(O,P,j,X):null;case Ce:return j.key===le?F(O,P,j,X):null;case ct:return le=j._init,H(O,P,le(j._payload),X)}if(Jt(j)||ce(j))return le!==null?null:W(O,P,j,X,null);rl(O,j)}return null}function re(O,P,j,X,le){if(typeof X=="string"&&X!==""||typeof X=="number")return O=O.get(j)||null,x(P,O,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case Be:return O=O.get(X.key===null?j:X.key)||null,A(P,O,X,le);case Ce:return O=O.get(X.key===null?j:X.key)||null,F(P,O,X,le);case ct:var me=X._init;return re(O,P,j,me(X._payload),le)}if(Jt(X)||ce(X))return O=O.get(j)||null,W(P,O,X,le,null);rl(P,X)}return null}function oe(O,P,j,X){for(var le=null,me=null,ge=P,Te=P=0,Rt=null;ge!==null&&Te<j.length;Te++){ge.index>Te?(Rt=ge,ge=null):Rt=ge.sibling;var He=H(O,ge,j[Te],X);if(He===null){ge===null&&(ge=Rt);break}t&&ge&&He.alternate===null&&r(O,ge),P=p(He,P,Te),me===null?le=He:me.sibling=He,me=He,ge=Rt}if(Te===j.length)return o(O,ge),st&&bi(O,Te),le;if(ge===null){for(;Te<j.length;Te++)ge=Q(O,j[Te],X),ge!==null&&(P=p(ge,P,Te),me===null?le=ge:me.sibling=ge,me=ge);return st&&bi(O,Te),le}for(ge=u(O,ge);Te<j.length;Te++)Rt=re(ge,O,Te,j[Te],X),Rt!==null&&(t&&Rt.alternate!==null&&ge.delete(Rt.key===null?Te:Rt.key),P=p(Rt,P,Te),me===null?le=Rt:me.sibling=Rt,me=Rt);return t&&ge.forEach(function(ni){return r(O,ni)}),st&&bi(O,Te),le}function ae(O,P,j,X){var le=ce(j);if(typeof le!="function")throw Error(n(150));if(j=le.call(j),j==null)throw Error(n(151));for(var me=le=null,ge=P,Te=P=0,Rt=null,He=j.next();ge!==null&&!He.done;Te++,He=j.next()){ge.index>Te?(Rt=ge,ge=null):Rt=ge.sibling;var ni=H(O,ge,He.value,X);if(ni===null){ge===null&&(ge=Rt);break}t&&ge&&ni.alternate===null&&r(O,ge),P=p(ni,P,Te),me===null?le=ni:me.sibling=ni,me=ni,ge=Rt}if(He.done)return o(O,ge),st&&bi(O,Te),le;if(ge===null){for(;!He.done;Te++,He=j.next())He=Q(O,He.value,X),He!==null&&(P=p(He,P,Te),me===null?le=He:me.sibling=He,me=He);return st&&bi(O,Te),le}for(ge=u(O,ge);!He.done;Te++,He=j.next())He=re(ge,O,Te,He.value,X),He!==null&&(t&&He.alternate!==null&&ge.delete(He.key===null?Te:He.key),P=p(He,P,Te),me===null?le=He:me.sibling=He,me=He);return t&&ge.forEach(function(Y0){return r(O,Y0)}),st&&bi(O,Te),le}function mt(O,P,j,X){if(typeof j=="object"&&j!==null&&j.type===V&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Be:e:{for(var le=j.key,me=P;me!==null;){if(me.key===le){if(le=j.type,le===V){if(me.tag===7){o(O,me.sibling),P=h(me,j.props.children),P.return=O,O=P;break e}}else if(me.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ct&&ef(le)===me.type){o(O,me.sibling),P=h(me,j.props),P.ref=bo(O,me,j),P.return=O,O=P;break e}o(O,me);break}else r(O,me);me=me.sibling}j.type===V?(P=Ui(j.props.children,O.mode,X,j.key),P.return=O,O=P):(X=Al(j.type,j.key,j.props,null,O.mode,X),X.ref=bo(O,P,j),X.return=O,O=X)}return y(O);case Ce:e:{for(me=j.key;P!==null;){if(P.key===me)if(P.tag===4&&P.stateNode.containerInfo===j.containerInfo&&P.stateNode.implementation===j.implementation){o(O,P.sibling),P=h(P,j.children||[]),P.return=O,O=P;break e}else{o(O,P);break}else r(O,P);P=P.sibling}P=Gc(j,O.mode,X),P.return=O,O=P}return y(O);case ct:return me=j._init,mt(O,P,me(j._payload),X)}if(Jt(j))return oe(O,P,j,X);if(ce(j))return ae(O,P,j,X);rl(O,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,P!==null&&P.tag===6?(o(O,P.sibling),P=h(P,j),P.return=O,O=P):(o(O,P),P=Wc(j,O.mode,X),P.return=O,O=P),y(O)):o(O,P)}return mt}var Ns=tf(!0),nf=tf(!1),il=qr(null),sl=null,Vs=null,nc=null;function rc(){nc=Vs=sl=null}function ic(t){var r=il.current;nt(il),t._currentValue=r}function sc(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function bs(t,r){sl=t,nc=Vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(rn=!0),t.firstContext=null)}function In(t){var r=t._currentValue;if(nc!==t)if(t={context:t,memoizedValue:r,next:null},Vs===null){if(sl===null)throw Error(n(308));Vs=t,sl.dependencies={lanes:0,firstContext:t}}else Vs=Vs.next=t;return r}var Di=null;function oc(t){Di===null?Di=[t]:Di.push(t)}function rf(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,oc(r)):(o.next=h.next,h.next=o),r.interleaved=o,Ir(t,u)}function Ir(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Qr=!1;function ac(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Kr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ue&2)!==0){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,Ir(t,o)}return h=u.interleaved,h===null?(r.next=r,oc(u)):(r.next=h.next,h.next=r),u.interleaved=r,Ir(t,o)}function ol(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,jr(t,o)}}function of(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var y={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=y:p=p.next=y,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function al(t,r,o,u){var h=t.updateQueue;Qr=!1;var p=h.firstBaseUpdate,y=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var A=x,F=A.next;A.next=null,y===null?p=F:y.next=F,y=A;var W=t.alternate;W!==null&&(W=W.updateQueue,x=W.lastBaseUpdate,x!==y&&(x===null?W.firstBaseUpdate=F:x.next=F,W.lastBaseUpdate=A))}if(p!==null){var Q=h.baseState;y=0,W=F=A=null,x=p;do{var H=x.lane,re=x.eventTime;if((u&H)===H){W!==null&&(W=W.next={eventTime:re,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var oe=t,ae=x;switch(H=r,re=o,ae.tag){case 1:if(oe=ae.payload,typeof oe=="function"){Q=oe.call(re,Q,H);break e}Q=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=ae.payload,H=typeof oe=="function"?oe.call(re,Q,H):oe,H==null)break e;Q=te({},Q,H);break e;case 2:Qr=!0}}x.callback!==null&&x.lane!==0&&(t.flags|=64,H=h.effects,H===null?h.effects=[x]:H.push(x))}else re={eventTime:re,lane:H,tag:x.tag,payload:x.payload,callback:x.callback,next:null},W===null?(F=W=re,A=Q):W=W.next=re,y|=H;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;H=x,x=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);if(W===null&&(A=Q),h.baseState=A,h.firstBaseUpdate=F,h.lastBaseUpdate=W,r=h.shared.interleaved,r!==null){h=r;do y|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);Oi|=y,t.lanes=y,t.memoizedState=Q}}function af(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Do={},ir=qr(Do),Mo=qr(Do),Lo=qr(Do);function Mi(t){if(t===Do)throw Error(n(174));return t}function lc(t,r){switch(Ze(Lo,r),Ze(Mo,t),Ze(ir,Do),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Xe(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=Xe(r,t)}nt(ir),Ze(ir,r)}function Ds(){nt(ir),nt(Mo),nt(Lo)}function lf(t){Mi(Lo.current);var r=Mi(ir.current),o=Xe(r,t.type);r!==o&&(Ze(Mo,t),Ze(ir,o))}function uc(t){Mo.current===t&&(nt(ir),nt(Mo))}var ot=qr(0);function ll(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var cc=[];function hc(){for(var t=0;t<cc.length;t++)cc[t]._workInProgressVersionPrimary=null;cc.length=0}var ul=Se.ReactCurrentDispatcher,dc=Se.ReactCurrentBatchConfig,Li=0,at=null,Tt=null,At=null,cl=!1,Oo=!1,jo=0,_0=0;function Ut(){throw Error(n(321))}function fc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Bn(t[o],r[o]))return!1;return!0}function pc(t,r,o,u,h,p){if(Li=p,at=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ul.current=t===null||t.memoizedState===null?x0:S0,t=o(u,h),Oo){p=0;do{if(Oo=!1,jo=0,25<=p)throw Error(n(301));p+=1,At=Tt=null,r.updateQueue=null,ul.current=I0,t=o(u,h)}while(Oo)}if(ul.current=fl,r=Tt!==null&&Tt.next!==null,Li=0,At=Tt=at=null,cl=!1,r)throw Error(n(300));return t}function mc(){var t=jo!==0;return jo=0,t}function sr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?at.memoizedState=At=t:At=At.next=t,At}function kn(){if(Tt===null){var t=at.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var r=At===null?at.memoizedState:At.next;if(r!==null)At=r,Tt=t;else{if(t===null)throw Error(n(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},At===null?at.memoizedState=At=t:At=At.next=t}return At}function Fo(t,r){return typeof r=="function"?r(t):r}function gc(t){var r=kn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=Tt,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var y=h.next;h.next=p.next,p.next=y}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var x=y=null,A=null,F=p;do{var W=F.lane;if((Li&W)===W)A!==null&&(A=A.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),u=F.hasEagerState?F.eagerState:t(u,F.action);else{var Q={lane:W,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};A===null?(x=A=Q,y=u):A=A.next=Q,at.lanes|=W,Oi|=W}F=F.next}while(F!==null&&F!==p);A===null?y=u:A.next=x,Bn(u,r.memoizedState)||(rn=!0),r.memoizedState=u,r.baseState=y,r.baseQueue=A,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,at.lanes|=p,Oi|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function yc(t){var r=kn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var y=h=h.next;do p=t(p,y.action),y=y.next;while(y!==h);Bn(p,r.memoizedState)||(rn=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function uf(){}function cf(t,r){var o=at,u=kn(),h=r(),p=!Bn(u.memoizedState,h);if(p&&(u.memoizedState=h,rn=!0),u=u.queue,vc(ff.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||At!==null&&At.memoizedState.tag&1){if(o.flags|=2048,zo(9,df.bind(null,o,u,h,r),void 0,null),Ct===null)throw Error(n(349));(Li&30)!==0||hf(o,r,h)}return h}function hf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=at.updateQueue,r===null?(r={lastEffect:null,stores:null},at.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function df(t,r,o,u){r.value=o,r.getSnapshot=u,pf(r)&&mf(t)}function ff(t,r,o){return o(function(){pf(r)&&mf(t)})}function pf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Bn(t,o)}catch{return!0}}function mf(t){var r=Ir(t,1);r!==null&&Gn(r,t,1,-1)}function gf(t){var r=sr();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fo,lastRenderedState:t},r.queue=t,t=t.dispatch=T0.bind(null,at,t),[r.memoizedState,t]}function zo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=at.updateQueue,r===null?(r={lastEffect:null,stores:null},at.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function yf(){return kn().memoizedState}function hl(t,r,o,u){var h=sr();at.flags|=t,h.memoizedState=zo(1|r,o,void 0,u===void 0?null:u)}function dl(t,r,o,u){var h=kn();u=u===void 0?null:u;var p=void 0;if(Tt!==null){var y=Tt.memoizedState;if(p=y.destroy,u!==null&&fc(u,y.deps)){h.memoizedState=zo(r,o,p,u);return}}at.flags|=t,h.memoizedState=zo(1|r,o,p,u)}function vf(t,r){return hl(8390656,8,t,r)}function vc(t,r){return dl(2048,8,t,r)}function _f(t,r){return dl(4,2,t,r)}function wf(t,r){return dl(4,4,t,r)}function Ef(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Tf(t,r,o){return o=o!=null?o.concat([t]):null,dl(4,4,Ef.bind(null,r,t),o)}function _c(){}function xf(t,r){var o=kn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&fc(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Sf(t,r){var o=kn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&fc(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function If(t,r,o){return(Li&21)===0?(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=o):(Bn(o,r)||(o=Ii(),at.lanes|=o,Oi|=o,t.baseState=!0),r)}function w0(t,r){var o=Oe;Oe=o!==0&&4>o?o:4,t(!0);var u=dc.transition;dc.transition={};try{t(!1),r()}finally{Oe=o,dc.transition=u}}function kf(){return kn().memoizedState}function E0(t,r,o){var u=Zr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Af(t))Cf(r,o);else if(o=rf(t,r,o,u),o!==null){var h=Yt();Gn(o,t,u,h),Rf(o,r,u)}}function T0(t,r,o){var u=Zr(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Af(t))Cf(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var y=r.lastRenderedState,x=p(y,o);if(h.hasEagerState=!0,h.eagerState=x,Bn(x,y)){var A=r.interleaved;A===null?(h.next=h,oc(r)):(h.next=A.next,A.next=h),r.interleaved=h;return}}catch{}finally{}o=rf(t,r,h,u),o!==null&&(h=Yt(),Gn(o,t,u,h),Rf(o,r,u))}}function Af(t){var r=t.alternate;return t===at||r!==null&&r===at}function Cf(t,r){Oo=cl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Rf(t,r,o){if((o&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,jr(t,o)}}var fl={readContext:In,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},x0={readContext:In,useCallback:function(t,r){return sr().memoizedState=[t,r===void 0?null:r],t},useContext:In,useEffect:vf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,hl(4194308,4,Ef.bind(null,r,t),o)},useLayoutEffect:function(t,r){return hl(4194308,4,t,r)},useInsertionEffect:function(t,r){return hl(4,2,t,r)},useMemo:function(t,r){var o=sr();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=sr();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=E0.bind(null,at,t),[u.memoizedState,t]},useRef:function(t){var r=sr();return t={current:t},r.memoizedState=t},useState:gf,useDebugValue:_c,useDeferredValue:function(t){return sr().memoizedState=t},useTransition:function(){var t=gf(!1),r=t[0];return t=w0.bind(null,t[1]),sr().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=at,h=sr();if(st){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),Ct===null)throw Error(n(349));(Li&30)!==0||hf(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,vf(ff.bind(null,u,p,t),[t]),u.flags|=2048,zo(9,df.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=sr(),r=Ct.identifierPrefix;if(st){var o=Sr,u=xr;o=(u&~(1<<32-Qt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=jo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=_0++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},S0={readContext:In,useCallback:xf,useContext:In,useEffect:vc,useImperativeHandle:Tf,useInsertionEffect:_f,useLayoutEffect:wf,useMemo:Sf,useReducer:gc,useRef:yf,useState:function(){return gc(Fo)},useDebugValue:_c,useDeferredValue:function(t){var r=kn();return If(r,Tt.memoizedState,t)},useTransition:function(){var t=gc(Fo)[0],r=kn().memoizedState;return[t,r]},useMutableSource:uf,useSyncExternalStore:cf,useId:kf,unstable_isNewReconciler:!1},I0={readContext:In,useCallback:xf,useContext:In,useEffect:vc,useImperativeHandle:Tf,useInsertionEffect:_f,useLayoutEffect:wf,useMemo:Sf,useReducer:yc,useRef:yf,useState:function(){return yc(Fo)},useDebugValue:_c,useDeferredValue:function(t){var r=kn();return Tt===null?r.memoizedState=t:If(r,Tt.memoizedState,t)},useTransition:function(){var t=yc(Fo)[0],r=kn().memoizedState;return[t,r]},useMutableSource:uf,useSyncExternalStore:cf,useId:kf,unstable_isNewReconciler:!1};function Hn(t,r){if(t&&t.defaultProps){r=te({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function wc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:te({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var pl={isMounted:function(t){return(t=t._reactInternals)?Mn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=Yt(),h=Zr(t),p=kr(u,h);p.payload=r,o!=null&&(p.callback=o),r=Kr(t,p,h),r!==null&&(Gn(r,t,h,u),ol(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=Yt(),h=Zr(t),p=kr(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Kr(t,p,h),r!==null&&(Gn(r,t,h,u),ol(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=Yt(),u=Zr(t),h=kr(o,u);h.tag=2,r!=null&&(h.callback=r),r=Kr(t,h,u),r!==null&&(Gn(r,t,u,o),ol(r,t,u))}};function Pf(t,r,o,u,h,p,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,y):r.prototype&&r.prototype.isPureReactComponent?!ko(o,u)||!ko(h,p):!0}function Nf(t,r,o){var u=!1,h=Wr,p=r.contextType;return typeof p=="object"&&p!==null?p=In(p):(h=nn(r)?Ni:zt.current,u=r.contextTypes,p=(u=u!=null)?As(t,h):Wr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=pl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function Vf(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&pl.enqueueReplaceState(r,r.state,null)}function Ec(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},ac(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=In(p):(p=nn(r)?Ni:zt.current,h.context=As(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(wc(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&pl.enqueueReplaceState(h,h.state,null),al(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Ms(t,r){try{var o="",u=r;do o+=Ie(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function Tc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function xc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var k0=typeof WeakMap=="function"?WeakMap:Map;function bf(t,r,o){o=kr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){El||(El=!0,jc=u),xc(t,r)},o}function Df(t,r,o){o=kr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){xc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){xc(t,r),typeof u!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})}),o}function Mf(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new k0;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=z0.bind(null,t,r,o),r.then(t,t))}function Lf(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Of(t,r,o,u,h){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=kr(-1,1),r.tag=2,Kr(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var A0=Se.ReactCurrentOwner,rn=!1;function Xt(t,r,o,u){r.child=t===null?nf(r,null,o,u):Ns(r,t.child,o,u)}function jf(t,r,o,u,h){o=o.render;var p=r.ref;return bs(r,h),u=pc(t,r,o,u,p,h),o=mc(),t!==null&&!rn?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,Ar(t,r,h)):(st&&o&&Yu(r),r.flags|=1,Xt(t,r,u,h),r.child)}function Ff(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!qc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,zf(t,r,p,u,h)):(t=Al(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,(t.lanes&h)===0){var y=p.memoizedProps;if(o=o.compare,o=o!==null?o:ko,o(y,u)&&t.ref===r.ref)return Ar(t,r,h)}return r.flags|=1,t=ti(p,u),t.ref=r.ref,t.return=r,r.child=t}function zf(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(ko(p,u)&&t.ref===r.ref)if(rn=!1,r.pendingProps=u=p,(t.lanes&h)!==0)(t.flags&131072)!==0&&(rn=!0);else return r.lanes=t.lanes,Ar(t,r,h)}return Sc(t,r,o,u,h)}function Uf(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ze(Os,yn),yn|=o;else{if((o&1073741824)===0)return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Ze(Os,yn),yn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,Ze(Os,yn),yn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,Ze(Os,yn),yn|=u;return Xt(t,r,h,o),r.child}function Bf(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Sc(t,r,o,u,h){var p=nn(o)?Ni:zt.current;return p=As(r,p),bs(r,h),o=pc(t,r,o,u,p,h),u=mc(),t!==null&&!rn?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,Ar(t,r,h)):(st&&u&&Yu(r),r.flags|=1,Xt(t,r,o,h),r.child)}function $f(t,r,o,u,h){if(nn(o)){var p=!0;Ja(r)}else p=!1;if(bs(r,h),r.stateNode===null)gl(t,r),Nf(r,o,u),Ec(r,o,u,h),u=!0;else if(t===null){var y=r.stateNode,x=r.memoizedProps;y.props=x;var A=y.context,F=o.contextType;typeof F=="object"&&F!==null?F=In(F):(F=nn(o)?Ni:zt.current,F=As(r,F));var W=o.getDerivedStateFromProps,Q=typeof W=="function"||typeof y.getSnapshotBeforeUpdate=="function";Q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==u||A!==F)&&Vf(r,y,u,F),Qr=!1;var H=r.memoizedState;y.state=H,al(r,u,y,h),A=r.memoizedState,x!==u||H!==A||tn.current||Qr?(typeof W=="function"&&(wc(r,o,W,u),A=r.memoizedState),(x=Qr||Pf(r,o,x,u,H,A,F))?(Q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=A),y.props=u,y.state=A,y.context=F,u=x):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{y=r.stateNode,sf(t,r),x=r.memoizedProps,F=r.type===r.elementType?x:Hn(r.type,x),y.props=F,Q=r.pendingProps,H=y.context,A=o.contextType,typeof A=="object"&&A!==null?A=In(A):(A=nn(o)?Ni:zt.current,A=As(r,A));var re=o.getDerivedStateFromProps;(W=typeof re=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(x!==Q||H!==A)&&Vf(r,y,u,A),Qr=!1,H=r.memoizedState,y.state=H,al(r,u,y,h);var oe=r.memoizedState;x!==Q||H!==oe||tn.current||Qr?(typeof re=="function"&&(wc(r,o,re,u),oe=r.memoizedState),(F=Qr||Pf(r,o,F,u,H,oe,A)||!1)?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,oe,A),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,oe,A)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||x===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=oe),y.props=u,y.state=oe,y.context=A,u=F):(typeof y.componentDidUpdate!="function"||x===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||x===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),u=!1)}return Ic(t,r,o,u,p,h)}function Ic(t,r,o,u,h,p){Bf(t,r);var y=(r.flags&128)!==0;if(!u&&!y)return h&&Gd(r,o,!1),Ar(t,r,p);u=r.stateNode,A0.current=r;var x=y&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&y?(r.child=Ns(r,t.child,null,p),r.child=Ns(r,null,x,p)):Xt(t,r,x,p),r.memoizedState=u.state,h&&Gd(r,o,!0),r.child}function Hf(t){var r=t.stateNode;r.pendingContext?qd(t,r.pendingContext,r.pendingContext!==r.context):r.context&&qd(t,r.context,!1),lc(t,r.containerInfo)}function qf(t,r,o,u,h){return Ps(),tc(h),r.flags|=256,Xt(t,r,o,u),r.child}var kc={dehydrated:null,treeContext:null,retryLane:0};function Ac(t){return{baseLanes:t,cachePool:null,transitions:null}}function Wf(t,r,o){var u=r.pendingProps,h=ot.current,p=!1,y=(r.flags&128)!==0,x;if((x=y)||(x=t!==null&&t.memoizedState===null?!1:(h&2)!==0),x?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),Ze(ot,h&1),t===null)return ec(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(y=u.children,t=u.fallback,p?(u=r.mode,p=r.child,y={mode:"hidden",children:y},(u&1)===0&&p!==null?(p.childLanes=0,p.pendingProps=y):p=Cl(y,u,0,null),t=Ui(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=Ac(o),r.memoizedState=kc,t):Cc(r,y));if(h=t.memoizedState,h!==null&&(x=h.dehydrated,x!==null))return C0(t,r,y,u,x,h,o);if(p){p=u.fallback,y=r.mode,h=t.child,x=h.sibling;var A={mode:"hidden",children:u.children};return(y&1)===0&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=A,r.deletions=null):(u=ti(h,A),u.subtreeFlags=h.subtreeFlags&14680064),x!==null?p=ti(x,p):(p=Ui(p,y,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,y=t.child.memoizedState,y=y===null?Ac(o):{baseLanes:y.baseLanes|o,cachePool:null,transitions:y.transitions},p.memoizedState=y,p.childLanes=t.childLanes&~o,r.memoizedState=kc,u}return p=t.child,t=p.sibling,u=ti(p,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Cc(t,r){return r=Cl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function ml(t,r,o,u){return u!==null&&tc(u),Ns(r,t.child,null,o),t=Cc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function C0(t,r,o,u,h,p,y){if(o)return r.flags&256?(r.flags&=-257,u=Tc(Error(n(422))),ml(t,r,y,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=Cl({mode:"visible",children:u.children},h,0,null),p=Ui(p,h,y,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,(r.mode&1)!==0&&Ns(r,t.child,null,y),r.child.memoizedState=Ac(y),r.memoizedState=kc,p);if((r.mode&1)===0)return ml(t,r,y,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var x=u.dgst;return u=x,p=Error(n(419)),u=Tc(p,u,void 0),ml(t,r,y,u)}if(x=(y&t.childLanes)!==0,rn||x){if(u=Ct,u!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(u.suspendedLanes|y))!==0?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,Ir(t,h),Gn(u,t,h,-1))}return Hc(),u=Tc(Error(n(421))),ml(t,r,y,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=U0.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,gn=Hr(h.nextSibling),mn=r,st=!0,$n=null,t!==null&&(xn[Sn++]=xr,xn[Sn++]=Sr,xn[Sn++]=Vi,xr=t.id,Sr=t.overflow,Vi=r),r=Cc(r,u.children),r.flags|=4096,r)}function Gf(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),sc(t.return,r,o)}function Rc(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Qf(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(Xt(t,r,u.children,o),u=ot.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gf(t,o,r);else if(t.tag===19)Gf(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(Ze(ot,u),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&ll(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),Rc(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&ll(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}Rc(r,!0,o,null,p);break;case"together":Rc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function gl(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function Ar(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Oi|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=ti(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=ti(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function R0(t,r,o){switch(r.tag){case 3:Hf(r),Ps();break;case 5:lf(r);break;case 1:nn(r.type)&&Ja(r);break;case 4:lc(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;Ze(il,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(Ze(ot,ot.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?Wf(t,r,o):(Ze(ot,ot.current&1),t=Ar(t,r,o),t!==null?t.sibling:null);Ze(ot,ot.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(t.flags&128)!==0){if(u)return Qf(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ze(ot,ot.current),u)break;return null;case 22:case 23:return r.lanes=0,Uf(t,r,o)}return Ar(t,r,o)}var Kf,Pc,Xf,Yf;Kf=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Pc=function(){},Xf=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,Mi(ir.current);var p=null;switch(o){case"input":h=Nn(t,h),u=Nn(t,u),p=[];break;case"select":h=te({},h,{value:void 0}),u=te({},u,{value:void 0}),p=[];break;case"textarea":h=Ji(t,h),u=Ji(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Ka)}oo(o,u);var y;o=null;for(F in h)if(!u.hasOwnProperty(F)&&h.hasOwnProperty(F)&&h[F]!=null)if(F==="style"){var x=h[F];for(y in x)x.hasOwnProperty(y)&&(o||(o={}),o[y]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(a.hasOwnProperty(F)?p||(p=[]):(p=p||[]).push(F,null));for(F in u){var A=u[F];if(x=h!=null?h[F]:void 0,u.hasOwnProperty(F)&&A!==x&&(A!=null||x!=null))if(F==="style")if(x){for(y in x)!x.hasOwnProperty(y)||A&&A.hasOwnProperty(y)||(o||(o={}),o[y]="");for(y in A)A.hasOwnProperty(y)&&x[y]!==A[y]&&(o||(o={}),o[y]=A[y])}else o||(p||(p=[]),p.push(F,o)),o=A;else F==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,x=x?x.__html:void 0,A!=null&&x!==A&&(p=p||[]).push(F,A)):F==="children"?typeof A!="string"&&typeof A!="number"||(p=p||[]).push(F,""+A):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(a.hasOwnProperty(F)?(A!=null&&F==="onScroll"&&tt("scroll",t),p||x===A||(p=[])):(p=p||[]).push(F,A))}o&&(p=p||[]).push("style",o);var F=p;(r.updateQueue=F)&&(r.flags|=4)}},Yf=function(t,r,o,u){o!==u&&(r.flags|=4)};function Uo(t,r){if(!st)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Bt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function P0(t,r,o){var u=r.pendingProps;switch(Ju(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(r),null;case 1:return nn(r.type)&&Ya(),Bt(r),null;case 3:return u=r.stateNode,Ds(),nt(tn),nt(zt),hc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(nl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,$n!==null&&(Uc($n),$n=null))),Pc(t,r),Bt(r),null;case 5:uc(r);var h=Mi(Lo.current);if(o=r.type,t!==null&&r.stateNode!=null)Xf(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Bt(r),null}if(t=Mi(ir.current),nl(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[rr]=r,u[No]=p,t=(r.mode&1)!==0,o){case"dialog":tt("cancel",u),tt("close",u);break;case"iframe":case"object":case"embed":tt("load",u);break;case"video":case"audio":for(h=0;h<Co.length;h++)tt(Co[h],u);break;case"source":tt("error",u);break;case"img":case"image":case"link":tt("error",u),tt("load",u);break;case"details":tt("toggle",u);break;case"input":J(u,p),tt("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},tt("invalid",u);break;case"textarea":pr(u,p),tt("invalid",u)}oo(o,p),h=null;for(var y in p)if(p.hasOwnProperty(y)){var x=p[y];y==="children"?typeof x=="string"?u.textContent!==x&&(p.suppressHydrationWarning!==!0&&Qa(u.textContent,x,t),h=["children",x]):typeof x=="number"&&u.textContent!==""+x&&(p.suppressHydrationWarning!==!0&&Qa(u.textContent,x,t),h=["children",""+x]):a.hasOwnProperty(y)&&x!=null&&y==="onScroll"&&tt("scroll",u)}switch(o){case"input":un(u),Ft(u,p,!0);break;case"textarea":un(u),be(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Ka)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=De(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=y.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=y.createElement(o,{is:u.is}):(t=y.createElement(o),o==="select"&&(y=t,u.multiple?y.multiple=!0:u.size&&(y.size=u.size))):t=y.createElementNS(t,o),t[rr]=r,t[No]=u,Kf(t,r,!1,!1),r.stateNode=t;e:{switch(y=ao(o,u),o){case"dialog":tt("cancel",t),tt("close",t),h=u;break;case"iframe":case"object":case"embed":tt("load",t),h=u;break;case"video":case"audio":for(h=0;h<Co.length;h++)tt(Co[h],t);h=u;break;case"source":tt("error",t),h=u;break;case"img":case"image":case"link":tt("error",t),tt("load",t),h=u;break;case"details":tt("toggle",t),h=u;break;case"input":J(t,u),h=Nn(t,u),tt("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=te({},u,{value:void 0}),tt("invalid",t);break;case"textarea":pr(t,u),h=Ji(t,u),tt("invalid",t);break;default:h=u}oo(o,h),x=h;for(p in x)if(x.hasOwnProperty(p)){var A=x[p];p==="style"?io(t,A):p==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,A!=null&&no(t,A)):p==="children"?typeof A=="string"?(o!=="textarea"||A!=="")&&br(t,A):typeof A=="number"&&br(t,""+A):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?A!=null&&p==="onScroll"&&tt("scroll",t):A!=null&&de(t,p,A,y))}switch(o){case"input":un(t),Ft(t,u,!1);break;case"textarea":un(t),be(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Le(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Vn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Vn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Ka)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Bt(r),null;case 6:if(t&&r.stateNode!=null)Yf(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Mi(Lo.current),Mi(ir.current),nl(r)){if(u=r.stateNode,o=r.memoizedProps,u[rr]=r,(p=u.nodeValue!==o)&&(t=mn,t!==null))switch(t.tag){case 3:Qa(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qa(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[rr]=r,r.stateNode=u}return Bt(r),null;case 13:if(nt(ot),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(st&&gn!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Zd(),Ps(),r.flags|=98560,p=!1;else if(p=nl(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[rr]=r}else Ps(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Bt(r),p=!1}else $n!==null&&(Uc($n),$n=null),p=!0;if(!p)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(ot.current&1)!==0?xt===0&&(xt=3):Hc())),r.updateQueue!==null&&(r.flags|=4),Bt(r),null);case 4:return Ds(),Pc(t,r),t===null&&Ro(r.stateNode.containerInfo),Bt(r),null;case 10:return ic(r.type._context),Bt(r),null;case 17:return nn(r.type)&&Ya(),Bt(r),null;case 19:if(nt(ot),p=r.memoizedState,p===null)return Bt(r),null;if(u=(r.flags&128)!==0,y=p.rendering,y===null)if(u)Uo(p,!1);else{if(xt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(y=ll(t),y!==null){for(r.flags|=128,Uo(p,!1),u=y.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,y=p.alternate,y===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=y.childLanes,p.lanes=y.lanes,p.child=y.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=y.memoizedProps,p.memoizedState=y.memoizedState,p.updateQueue=y.updateQueue,p.type=y.type,t=y.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Ze(ot,ot.current&1|2),r.child}t=t.sibling}p.tail!==null&&Je()>js&&(r.flags|=128,u=!0,Uo(p,!1),r.lanes=4194304)}else{if(!u)if(t=ll(y),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Uo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!st)return Bt(r),null}else 2*Je()-p.renderingStartTime>js&&o!==1073741824&&(r.flags|=128,u=!0,Uo(p,!1),r.lanes=4194304);p.isBackwards?(y.sibling=r.child,r.child=y):(o=p.last,o!==null?o.sibling=y:r.child=y,p.last=y)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Je(),r.sibling=null,o=ot.current,Ze(ot,u?o&1|2:o&1),r):(Bt(r),null);case 22:case 23:return $c(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(yn&1073741824)!==0&&(Bt(r),r.subtreeFlags&6&&(r.flags|=8192)):Bt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function N0(t,r){switch(Ju(r),r.tag){case 1:return nn(r.type)&&Ya(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ds(),nt(tn),nt(zt),hc(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return uc(r),null;case 13:if(nt(ot),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Ps()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return nt(ot),null;case 4:return Ds(),null;case 10:return ic(r.type._context),null;case 22:case 23:return $c(),null;case 24:return null;default:return null}}var yl=!1,$t=!1,V0=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ls(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){dt(t,r,u)}else o.current=null}function Nc(t,r,o){try{o()}catch(u){dt(t,r,u)}}var Jf=!1;function b0(t,r){if($u=Ur,t=Rd(),Mu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var y=0,x=-1,A=-1,F=0,W=0,Q=t,H=null;t:for(;;){for(var re;Q!==o||h!==0&&Q.nodeType!==3||(x=y+h),Q!==p||u!==0&&Q.nodeType!==3||(A=y+u),Q.nodeType===3&&(y+=Q.nodeValue.length),(re=Q.firstChild)!==null;)H=Q,Q=re;for(;;){if(Q===t)break t;if(H===o&&++F===h&&(x=y),H===p&&++W===u&&(A=y),(re=Q.nextSibling)!==null)break;Q=H,H=Q.parentNode}Q=re}o=x===-1||A===-1?null:{start:x,end:A}}else o=null}o=o||{start:0,end:0}}else o=null;for(Hu={focusedElem:t,selectionRange:o},Ur=!1,se=r;se!==null;)if(r=se,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,se=t;else for(;se!==null;){r=se;try{var oe=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(oe!==null){var ae=oe.memoizedProps,mt=oe.memoizedState,O=r.stateNode,P=O.getSnapshotBeforeUpdate(r.elementType===r.type?ae:Hn(r.type,ae),mt);O.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var j=r.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(X){dt(r,r.return,X)}if(t=r.sibling,t!==null){t.return=r.return,se=t;break}se=r.return}return oe=Jf,Jf=!1,oe}function Bo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&Nc(r,o,p)}h=h.next}while(h!==u)}}function vl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Vc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Zf(t){var r=t.alternate;r!==null&&(t.alternate=null,Zf(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[rr],delete r[No],delete r[Qu],delete r[m0],delete r[g0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ep(t){return t.tag===5||t.tag===3||t.tag===4}function tp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ep(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ka));else if(u!==4&&(t=t.child,t!==null))for(bc(t,r,o),t=t.sibling;t!==null;)bc(t,r,o),t=t.sibling}function Dc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Dc(t,r,o),t=t.sibling;t!==null;)Dc(t,r,o),t=t.sibling}var Dt=null,qn=!1;function Xr(t,r,o){for(o=o.child;o!==null;)np(t,r,o),o=o.sibling}function np(t,r,o){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(xi,o)}catch{}switch(o.tag){case 5:$t||Ls(o,r);case 6:var u=Dt,h=qn;Dt=null,Xr(t,r,o),Dt=u,qn=h,Dt!==null&&(qn?(t=Dt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Dt.removeChild(o.stateNode));break;case 18:Dt!==null&&(qn?(t=Dt,o=o.stateNode,t.nodeType===8?Gu(t.parentNode,o):t.nodeType===1&&Gu(t,o),zn(t)):Gu(Dt,o.stateNode));break;case 4:u=Dt,h=qn,Dt=o.stateNode.containerInfo,qn=!0,Xr(t,r,o),Dt=u,qn=h;break;case 0:case 11:case 14:case 15:if(!$t&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,y=p.destroy;p=p.tag,y!==void 0&&((p&2)!==0||(p&4)!==0)&&Nc(o,r,y),h=h.next}while(h!==u)}Xr(t,r,o);break;case 1:if(!$t&&(Ls(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(x){dt(o,r,x)}Xr(t,r,o);break;case 21:Xr(t,r,o);break;case 22:o.mode&1?($t=(u=$t)||o.memoizedState!==null,Xr(t,r,o),$t=u):Xr(t,r,o);break;default:Xr(t,r,o)}}function rp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new V0),r.forEach(function(u){var h=B0.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function Wn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,y=r,x=y;e:for(;x!==null;){switch(x.tag){case 5:Dt=x.stateNode,qn=!1;break e;case 3:Dt=x.stateNode.containerInfo,qn=!0;break e;case 4:Dt=x.stateNode.containerInfo,qn=!0;break e}x=x.return}if(Dt===null)throw Error(n(160));np(p,y,h),Dt=null,qn=!1;var A=h.alternate;A!==null&&(A.return=null),h.return=null}catch(F){dt(h,r,F)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)ip(r,t),r=r.sibling}function ip(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wn(r,t),or(t),u&4){try{Bo(3,t,t.return),vl(3,t)}catch(ae){dt(t,t.return,ae)}try{Bo(5,t,t.return)}catch(ae){dt(t,t.return,ae)}}break;case 1:Wn(r,t),or(t),u&512&&o!==null&&Ls(o,o.return);break;case 5:if(Wn(r,t),or(t),u&512&&o!==null&&Ls(o,o.return),t.flags&32){var h=t.stateNode;try{br(h,"")}catch(ae){dt(t,t.return,ae)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,y=o!==null?o.memoizedProps:p,x=t.type,A=t.updateQueue;if(t.updateQueue=null,A!==null)try{x==="input"&&p.type==="radio"&&p.name!=null&&et(h,p),ao(x,y);var F=ao(x,p);for(y=0;y<A.length;y+=2){var W=A[y],Q=A[y+1];W==="style"?io(h,Q):W==="dangerouslySetInnerHTML"?no(h,Q):W==="children"?br(h,Q):de(h,W,Q,F)}switch(x){case"input":qe(h,p);break;case"textarea":ue(h,p);break;case"select":var H=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var re=p.value;re!=null?Vn(h,!!p.multiple,re,!1):H!==!!p.multiple&&(p.defaultValue!=null?Vn(h,!!p.multiple,p.defaultValue,!0):Vn(h,!!p.multiple,p.multiple?[]:"",!1))}h[No]=p}catch(ae){dt(t,t.return,ae)}}break;case 6:if(Wn(r,t),or(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(ae){dt(t,t.return,ae)}}break;case 3:if(Wn(r,t),or(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{zn(r.containerInfo)}catch(ae){dt(t,t.return,ae)}break;case 4:Wn(r,t),or(t);break;case 13:Wn(r,t),or(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Oc=Je())),u&4&&rp(t);break;case 22:if(W=o!==null&&o.memoizedState!==null,t.mode&1?($t=(F=$t)||W,Wn(r,t),$t=F):Wn(r,t),or(t),u&8192){if(F=t.memoizedState!==null,(t.stateNode.isHidden=F)&&!W&&(t.mode&1)!==0)for(se=t,W=t.child;W!==null;){for(Q=se=W;se!==null;){switch(H=se,re=H.child,H.tag){case 0:case 11:case 14:case 15:Bo(4,H,H.return);break;case 1:Ls(H,H.return);var oe=H.stateNode;if(typeof oe.componentWillUnmount=="function"){u=H,o=H.return;try{r=u,oe.props=r.memoizedProps,oe.state=r.memoizedState,oe.componentWillUnmount()}catch(ae){dt(u,o,ae)}}break;case 5:Ls(H,H.return);break;case 22:if(H.memoizedState!==null){ap(Q);continue}}re!==null?(re.return=H,se=re):ap(Q)}W=W.sibling}e:for(W=null,Q=t;;){if(Q.tag===5){if(W===null){W=Q;try{h=Q.stateNode,F?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(x=Q.stateNode,A=Q.memoizedProps.style,y=A!=null&&A.hasOwnProperty("display")?A.display:null,x.style.display=ro("display",y))}catch(ae){dt(t,t.return,ae)}}}else if(Q.tag===6){if(W===null)try{Q.stateNode.nodeValue=F?"":Q.memoizedProps}catch(ae){dt(t,t.return,ae)}}else if((Q.tag!==22&&Q.tag!==23||Q.memoizedState===null||Q===t)&&Q.child!==null){Q.child.return=Q,Q=Q.child;continue}if(Q===t)break e;for(;Q.sibling===null;){if(Q.return===null||Q.return===t)break e;W===Q&&(W=null),Q=Q.return}W===Q&&(W=null),Q.sibling.return=Q.return,Q=Q.sibling}}break;case 19:Wn(r,t),or(t),u&4&&rp(t);break;case 21:break;default:Wn(r,t),or(t)}}function or(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(ep(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(br(h,""),u.flags&=-33);var p=tp(t);Dc(t,p,h);break;case 3:case 4:var y=u.stateNode.containerInfo,x=tp(t);bc(t,x,y);break;default:throw Error(n(161))}}catch(A){dt(t,t.return,A)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function D0(t,r,o){se=t,sp(t)}function sp(t,r,o){for(var u=(t.mode&1)!==0;se!==null;){var h=se,p=h.child;if(h.tag===22&&u){var y=h.memoizedState!==null||yl;if(!y){var x=h.alternate,A=x!==null&&x.memoizedState!==null||$t;x=yl;var F=$t;if(yl=y,($t=A)&&!F)for(se=h;se!==null;)y=se,A=y.child,y.tag===22&&y.memoizedState!==null?lp(h):A!==null?(A.return=y,se=A):lp(h);for(;p!==null;)se=p,sp(p),p=p.sibling;se=h,yl=x,$t=F}op(t)}else(h.subtreeFlags&8772)!==0&&p!==null?(p.return=h,se=p):op(t)}}function op(t){for(;se!==null;){var r=se;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:$t||vl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!$t)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Hn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&af(r,p,u);break;case 3:var y=r.updateQueue;if(y!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}af(r,y,o)}break;case 5:var x=r.stateNode;if(o===null&&r.flags&4){o=x;var A=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":A.autoFocus&&o.focus();break;case"img":A.src&&(o.src=A.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var F=r.alternate;if(F!==null){var W=F.memoizedState;if(W!==null){var Q=W.dehydrated;Q!==null&&zn(Q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}$t||r.flags&512&&Vc(r)}catch(H){dt(r,r.return,H)}}if(r===t){se=null;break}if(o=r.sibling,o!==null){o.return=r.return,se=o;break}se=r.return}}function ap(t){for(;se!==null;){var r=se;if(r===t){se=null;break}var o=r.sibling;if(o!==null){o.return=r.return,se=o;break}se=r.return}}function lp(t){for(;se!==null;){var r=se;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{vl(4,r)}catch(A){dt(r,o,A)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(A){dt(r,h,A)}}var p=r.return;try{Vc(r)}catch(A){dt(r,p,A)}break;case 5:var y=r.return;try{Vc(r)}catch(A){dt(r,y,A)}}}catch(A){dt(r,r.return,A)}if(r===t){se=null;break}var x=r.sibling;if(x!==null){x.return=r.return,se=x;break}se=r.return}}var M0=Math.ceil,_l=Se.ReactCurrentDispatcher,Mc=Se.ReactCurrentOwner,An=Se.ReactCurrentBatchConfig,Ue=0,Ct=null,vt=null,Mt=0,yn=0,Os=qr(0),xt=0,$o=null,Oi=0,wl=0,Lc=0,Ho=null,sn=null,Oc=0,js=1/0,Cr=null,El=!1,jc=null,Yr=null,Tl=!1,Jr=null,xl=0,qo=0,Fc=null,Sl=-1,Il=0;function Yt(){return(Ue&6)!==0?Je():Sl!==-1?Sl:Sl=Je()}function Zr(t){return(t.mode&1)===0?1:(Ue&2)!==0&&Mt!==0?Mt&-Mt:v0.transition!==null?(Il===0&&(Il=Ii()),Il):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:_o(t.type)),t)}function Gn(t,r,o,u){if(50<qo)throw qo=0,Fc=null,Error(n(185));Or(t,o,u),((Ue&2)===0||t!==Ct)&&(t===Ct&&((Ue&2)===0&&(wl|=o),xt===4&&ei(t,Mt)),on(t,u),o===1&&Ue===0&&(r.mode&1)===0&&(js=Je()+500,Za&&Gr()))}function on(t,r){var o=t.callbackNode;gr(t,r);var u=Si(t,t===Ct?Mt:0);if(u===0)o!==null&&po(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&po(o),r===1)t.tag===0?y0(cp.bind(null,t)):Qd(cp.bind(null,t)),f0(function(){(Ue&6)===0&&Gr()}),o=null;else{switch(Fr(u)){case 1:o=Ti;break;case 4:o=Dr;break;case 16:o=wn;break;case 536870912:o=Ia;break;default:o=wn}o=vp(o,up.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function up(t,r){if(Sl=-1,Il=0,(Ue&6)!==0)throw Error(n(327));var o=t.callbackNode;if(Fs()&&t.callbackNode!==o)return null;var u=Si(t,t===Ct?Mt:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=kl(t,u);else{r=u;var h=Ue;Ue|=2;var p=dp();(Ct!==t||Mt!==r)&&(Cr=null,js=Je()+500,Fi(t,r));do try{j0();break}catch(x){hp(t,x)}while(!0);rc(),_l.current=p,Ue=h,vt!==null?r=0:(Ct=null,Mt=0,r=xt)}if(r!==0){if(r===2&&(h=dn(t),h!==0&&(u=h,r=zc(t,h))),r===1)throw o=$o,Fi(t,0),ei(t,u),on(t,Je()),o;if(r===6)ei(t,u);else{if(h=t.current.alternate,(u&30)===0&&!L0(h)&&(r=kl(t,u),r===2&&(p=dn(t),p!==0&&(u=p,r=zc(t,p))),r===1))throw o=$o,Fi(t,0),ei(t,u),on(t,Je()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:zi(t,sn,Cr);break;case 3:if(ei(t,u),(u&130023424)===u&&(r=Oc+500-Je(),10<r)){if(Si(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){Yt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Wu(zi.bind(null,t,sn,Cr),r);break}zi(t,sn,Cr);break;case 4:if(ei(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var y=31-Qt(u);p=1<<y,y=r[y],y>h&&(h=y),u&=~p}if(u=h,u=Je()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*M0(u/1960))-u,10<u){t.timeoutHandle=Wu(zi.bind(null,t,sn,Cr),u);break}zi(t,sn,Cr);break;case 5:zi(t,sn,Cr);break;default:throw Error(n(329))}}}return on(t,Je()),t.callbackNode===o?up.bind(null,t):null}function zc(t,r){var o=Ho;return t.current.memoizedState.isDehydrated&&(Fi(t,r).flags|=256),t=kl(t,r),t!==2&&(r=sn,sn=o,r!==null&&Uc(r)),t}function Uc(t){sn===null?sn=t:sn.push.apply(sn,t)}function L0(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!Bn(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ei(t,r){for(r&=~Lc,r&=~wl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Qt(r),u=1<<o;t[o]=-1,r&=~u}}function cp(t){if((Ue&6)!==0)throw Error(n(327));Fs();var r=Si(t,0);if((r&1)===0)return on(t,Je()),null;var o=kl(t,r);if(t.tag!==0&&o===2){var u=dn(t);u!==0&&(r=u,o=zc(t,u))}if(o===1)throw o=$o,Fi(t,0),ei(t,r),on(t,Je()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,zi(t,sn,Cr),on(t,Je()),null}function Bc(t,r){var o=Ue;Ue|=1;try{return t(r)}finally{Ue=o,Ue===0&&(js=Je()+500,Za&&Gr())}}function ji(t){Jr!==null&&Jr.tag===0&&(Ue&6)===0&&Fs();var r=Ue;Ue|=1;var o=An.transition,u=Oe;try{if(An.transition=null,Oe=1,t)return t()}finally{Oe=u,An.transition=o,Ue=r,(Ue&6)===0&&Gr()}}function $c(){yn=Os.current,nt(Os)}function Fi(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,d0(o)),vt!==null)for(o=vt.return;o!==null;){var u=o;switch(Ju(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ya();break;case 3:Ds(),nt(tn),nt(zt),hc();break;case 5:uc(u);break;case 4:Ds();break;case 13:nt(ot);break;case 19:nt(ot);break;case 10:ic(u.type._context);break;case 22:case 23:$c()}o=o.return}if(Ct=t,vt=t=ti(t.current,null),Mt=yn=r,xt=0,$o=null,Lc=wl=Oi=0,sn=Ho=null,Di!==null){for(r=0;r<Di.length;r++)if(o=Di[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var y=p.next;p.next=h,u.next=y}o.pending=u}Di=null}return t}function hp(t,r){do{var o=vt;try{if(rc(),ul.current=fl,cl){for(var u=at.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}cl=!1}if(Li=0,At=Tt=at=null,Oo=!1,jo=0,Mc.current=null,o===null||o.return===null){xt=1,$o=r,vt=null;break}e:{var p=t,y=o.return,x=o,A=r;if(r=Mt,x.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){var F=A,W=x,Q=W.tag;if((W.mode&1)===0&&(Q===0||Q===11||Q===15)){var H=W.alternate;H?(W.updateQueue=H.updateQueue,W.memoizedState=H.memoizedState,W.lanes=H.lanes):(W.updateQueue=null,W.memoizedState=null)}var re=Lf(y);if(re!==null){re.flags&=-257,Of(re,y,x,p,r),re.mode&1&&Mf(p,F,r),r=re,A=F;var oe=r.updateQueue;if(oe===null){var ae=new Set;ae.add(A),r.updateQueue=ae}else oe.add(A);break e}else{if((r&1)===0){Mf(p,F,r),Hc();break e}A=Error(n(426))}}else if(st&&x.mode&1){var mt=Lf(y);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),Of(mt,y,x,p,r),tc(Ms(A,x));break e}}p=A=Ms(A,x),xt!==4&&(xt=2),Ho===null?Ho=[p]:Ho.push(p),p=y;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var O=bf(p,A,r);of(p,O);break e;case 1:x=A;var P=p.type,j=p.stateNode;if((p.flags&128)===0&&(typeof P.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Yr===null||!Yr.has(j)))){p.flags|=65536,r&=-r,p.lanes|=r;var X=Df(p,x,r);of(p,X);break e}}p=p.return}while(p!==null)}pp(o)}catch(le){r=le,vt===o&&o!==null&&(vt=o=o.return);continue}break}while(!0)}function dp(){var t=_l.current;return _l.current=fl,t===null?fl:t}function Hc(){(xt===0||xt===3||xt===2)&&(xt=4),Ct===null||(Oi&268435455)===0&&(wl&268435455)===0||ei(Ct,Mt)}function kl(t,r){var o=Ue;Ue|=2;var u=dp();(Ct!==t||Mt!==r)&&(Cr=null,Fi(t,r));do try{O0();break}catch(h){hp(t,h)}while(!0);if(rc(),Ue=o,_l.current=u,vt!==null)throw Error(n(261));return Ct=null,Mt=0,xt}function O0(){for(;vt!==null;)fp(vt)}function j0(){for(;vt!==null&&!xa();)fp(vt)}function fp(t){var r=yp(t.alternate,t,yn);t.memoizedProps=t.pendingProps,r===null?pp(t):vt=r,Mc.current=null}function pp(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=P0(o,r,yn),o!==null){vt=o;return}}else{if(o=N0(o,r),o!==null){o.flags&=32767,vt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xt=6,vt=null;return}}if(r=r.sibling,r!==null){vt=r;return}vt=r=t}while(r!==null);xt===0&&(xt=5)}function zi(t,r,o){var u=Oe,h=An.transition;try{An.transition=null,Oe=1,F0(t,r,o,u)}finally{An.transition=h,Oe=u}return null}function F0(t,r,o,u){do Fs();while(Jr!==null);if((Ue&6)!==0)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(Ye(t,p),t===Ct&&(vt=Ct=null,Mt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Tl||(Tl=!0,vp(wn,function(){return Fs(),null})),p=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||p){p=An.transition,An.transition=null;var y=Oe;Oe=1;var x=Ue;Ue|=4,Mc.current=null,b0(t,o),ip(o,t),s0(Hu),Ur=!!$u,Hu=$u=null,t.current=o,D0(o),Au(),Ue=x,Oe=y,An.transition=p}else t.current=o;if(Tl&&(Tl=!1,Jr=t,xl=h),p=t.pendingLanes,p===0&&(Yr=null),ka(o.stateNode),on(t,Je()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(El)throw El=!1,t=jc,jc=null,t;return(xl&1)!==0&&t.tag!==0&&Fs(),p=t.pendingLanes,(p&1)!==0?t===Fc?qo++:(qo=0,Fc=t):qo=0,Gr(),null}function Fs(){if(Jr!==null){var t=Fr(xl),r=An.transition,o=Oe;try{if(An.transition=null,Oe=16>t?16:t,Jr===null)var u=!1;else{if(t=Jr,Jr=null,xl=0,(Ue&6)!==0)throw Error(n(331));var h=Ue;for(Ue|=4,se=t.current;se!==null;){var p=se,y=p.child;if((se.flags&16)!==0){var x=p.deletions;if(x!==null){for(var A=0;A<x.length;A++){var F=x[A];for(se=F;se!==null;){var W=se;switch(W.tag){case 0:case 11:case 15:Bo(8,W,p)}var Q=W.child;if(Q!==null)Q.return=W,se=Q;else for(;se!==null;){W=se;var H=W.sibling,re=W.return;if(Zf(W),W===F){se=null;break}if(H!==null){H.return=re,se=H;break}se=re}}}var oe=p.alternate;if(oe!==null){var ae=oe.child;if(ae!==null){oe.child=null;do{var mt=ae.sibling;ae.sibling=null,ae=mt}while(ae!==null)}}se=p}}if((p.subtreeFlags&2064)!==0&&y!==null)y.return=p,se=y;else e:for(;se!==null;){if(p=se,(p.flags&2048)!==0)switch(p.tag){case 0:case 11:case 15:Bo(9,p,p.return)}var O=p.sibling;if(O!==null){O.return=p.return,se=O;break e}se=p.return}}var P=t.current;for(se=P;se!==null;){y=se;var j=y.child;if((y.subtreeFlags&2064)!==0&&j!==null)j.return=y,se=j;else e:for(y=P;se!==null;){if(x=se,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:vl(9,x)}}catch(le){dt(x,x.return,le)}if(x===y){se=null;break e}var X=x.sibling;if(X!==null){X.return=x.return,se=X;break e}se=x.return}}if(Ue=h,Gr(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(xi,t)}catch{}u=!0}return u}finally{Oe=o,An.transition=r}}return!1}function mp(t,r,o){r=Ms(o,r),r=bf(t,r,1),t=Kr(t,r,1),r=Yt(),t!==null&&(Or(t,1,r),on(t,r))}function dt(t,r,o){if(t.tag===3)mp(t,t,o);else for(;r!==null;){if(r.tag===3){mp(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Yr===null||!Yr.has(u))){t=Ms(o,t),t=Df(r,t,1),r=Kr(r,t,1),t=Yt(),r!==null&&(Or(r,1,t),on(r,t));break}}r=r.return}}function z0(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=Yt(),t.pingedLanes|=t.suspendedLanes&o,Ct===t&&(Mt&o)===o&&(xt===4||xt===3&&(Mt&130023424)===Mt&&500>Je()-Oc?Fi(t,0):Lc|=o),on(t,r)}function gp(t,r){r===0&&((t.mode&1)===0?r=1:(r=ls,ls<<=1,(ls&130023424)===0&&(ls=4194304)));var o=Yt();t=Ir(t,r),t!==null&&(Or(t,r,o),on(t,o))}function U0(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),gp(t,o)}function B0(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),gp(t,o)}var yp;yp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||tn.current)rn=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return rn=!1,R0(t,r,o);rn=(t.flags&131072)!==0}else rn=!1,st&&(r.flags&1048576)!==0&&Kd(r,tl,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;gl(t,r),t=r.pendingProps;var h=As(r,zt.current);bs(r,o),h=pc(null,r,u,t,h,o);var p=mc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,nn(u)?(p=!0,Ja(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,ac(r),h.updater=pl,r.stateNode=h,h._reactInternals=r,Ec(r,u,t,o),r=Ic(null,r,u,!0,p,o)):(r.tag=0,st&&p&&Yu(r),Xt(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(gl(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=H0(u),t=Hn(u,t),h){case 0:r=Sc(null,r,u,t,o);break e;case 1:r=$f(null,r,u,t,o);break e;case 11:r=jf(null,r,u,t,o);break e;case 14:r=Ff(null,r,u,Hn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Hn(u,h),Sc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Hn(u,h),$f(t,r,u,h,o);case 3:e:{if(Hf(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,sf(t,r),al(r,u,null,o);var y=r.memoizedState;if(u=y.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=Ms(Error(n(423)),r),r=qf(t,r,u,o,h);break e}else if(u!==h){h=Ms(Error(n(424)),r),r=qf(t,r,u,o,h);break e}else for(gn=Hr(r.stateNode.containerInfo.firstChild),mn=r,st=!0,$n=null,o=nf(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ps(),u===h){r=Ar(t,r,o);break e}Xt(t,r,u,o)}r=r.child}return r;case 5:return lf(r),t===null&&ec(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,y=h.children,qu(u,h)?y=null:p!==null&&qu(u,p)&&(r.flags|=32),Bf(t,r),Xt(t,r,y,o),r.child;case 6:return t===null&&ec(r),null;case 13:return Wf(t,r,o);case 4:return lc(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Ns(r,null,u,o):Xt(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Hn(u,h),jf(t,r,u,h,o);case 7:return Xt(t,r,r.pendingProps,o),r.child;case 8:return Xt(t,r,r.pendingProps.children,o),r.child;case 12:return Xt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,y=h.value,Ze(il,u._currentValue),u._currentValue=y,p!==null)if(Bn(p.value,y)){if(p.children===h.children&&!tn.current){r=Ar(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var x=p.dependencies;if(x!==null){y=p.child;for(var A=x.firstContext;A!==null;){if(A.context===u){if(p.tag===1){A=kr(-1,o&-o),A.tag=2;var F=p.updateQueue;if(F!==null){F=F.shared;var W=F.pending;W===null?A.next=A:(A.next=W.next,W.next=A),F.pending=A}}p.lanes|=o,A=p.alternate,A!==null&&(A.lanes|=o),sc(p.return,o,r),x.lanes|=o;break}A=A.next}}else if(p.tag===10)y=p.type===r.type?null:p.child;else if(p.tag===18){if(y=p.return,y===null)throw Error(n(341));y.lanes|=o,x=y.alternate,x!==null&&(x.lanes|=o),sc(y,o,r),y=p.sibling}else y=p.child;if(y!==null)y.return=p;else for(y=p;y!==null;){if(y===r){y=null;break}if(p=y.sibling,p!==null){p.return=y.return,y=p;break}y=y.return}p=y}Xt(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,bs(r,o),h=In(h),u=u(h),r.flags|=1,Xt(t,r,u,o),r.child;case 14:return u=r.type,h=Hn(u,r.pendingProps),h=Hn(u.type,h),Ff(t,r,u,h,o);case 15:return zf(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Hn(u,h),gl(t,r),r.tag=1,nn(u)?(t=!0,Ja(r)):t=!1,bs(r,o),Nf(r,u,h),Ec(r,u,h,o),Ic(null,r,u,!0,t,o);case 19:return Qf(t,r,o);case 22:return Uf(t,r,o)}throw Error(n(156,r.tag))};function vp(t,r){return os(t,r)}function $0(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,r,o,u){return new $0(t,r,o,u)}function qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function H0(t){if(typeof t=="function")return qc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===M)return 11;if(t===ft)return 14}return 2}function ti(t,r){var o=t.alternate;return o===null?(o=Cn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Al(t,r,o,u,h,p){var y=2;if(u=t,typeof t=="function")qc(t)&&(y=1);else if(typeof t=="string")y=5;else e:switch(t){case V:return Ui(o.children,h,p,r);case T:y=8,h|=8;break;case k:return t=Cn(12,o,r,h|2),t.elementType=k,t.lanes=p,t;case I:return t=Cn(13,o,r,h),t.elementType=I,t.lanes=p,t;case Qe:return t=Cn(19,o,r,h),t.elementType=Qe,t.lanes=p,t;case $e:return Cl(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case C:y=10;break e;case b:y=9;break e;case M:y=11;break e;case ft:y=14;break e;case ct:y=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=Cn(y,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Ui(t,r,o,u){return t=Cn(7,t,u,r),t.lanes=o,t}function Cl(t,r,o,u){return t=Cn(22,t,u,r),t.elementType=$e,t.lanes=o,t.stateNode={isHidden:!1},t}function Wc(t,r,o){return t=Cn(6,t,null,r),t.lanes=o,t}function Gc(t,r,o){return r=Cn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function q0(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lr(0),this.expirationTimes=Lr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Qc(t,r,o,u,h,p,y,x,A){return t=new q0(t,r,o,x,A),r===1?(r=1,p===!0&&(r|=8)):r=0,p=Cn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ac(p),t}function W0(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ce,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function _p(t){if(!t)return Wr;t=t._reactInternals;e:{if(Mn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(nn(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(nn(o))return Wd(t,o,r)}return r}function wp(t,r,o,u,h,p,y,x,A){return t=Qc(o,u,!0,t,h,p,y,x,A),t.context=_p(null),o=t.current,u=Yt(),h=Zr(o),p=kr(u,h),p.callback=r??null,Kr(o,p,h),t.current.lanes=h,Or(t,h,u),on(t,u),t}function Rl(t,r,o,u){var h=r.current,p=Yt(),y=Zr(h);return o=_p(o),r.context===null?r.context=o:r.pendingContext=o,r=kr(p,y),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Kr(h,r,y),t!==null&&(Gn(t,h,y,p),ol(t,h,y)),y}function Pl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ep(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Kc(t,r){Ep(t,r),(t=t.alternate)&&Ep(t,r)}function G0(){return null}var Tp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xc(t){this._internalRoot=t}Nl.prototype.render=Xc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Rl(t,r,null,null)},Nl.prototype.unmount=Xc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;ji(function(){Rl(null,t,null,null)}),r[Er]=null}};function Nl(t){this._internalRoot=t}Nl.prototype.unstable_scheduleHydration=function(t){if(t){var r=Na();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Zn.length&&r!==0&&r<Zn[o].priority;o++);Zn.splice(o,0,t),o===0&&Da(t)}};function Yc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xp(){}function Q0(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var F=Pl(y);p.call(F)}}var y=wp(r,u,t,0,null,!1,!1,"",xp);return t._reactRootContainer=y,t[Er]=y.current,Ro(t.nodeType===8?t.parentNode:t),ji(),y}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var x=u;u=function(){var F=Pl(A);x.call(F)}}var A=Qc(t,0,!1,null,null,!1,!1,"",xp);return t._reactRootContainer=A,t[Er]=A.current,Ro(t.nodeType===8?t.parentNode:t),ji(function(){Rl(r,A,o,u)}),A}function bl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var y=p;if(typeof h=="function"){var x=h;h=function(){var A=Pl(y);x.call(A)}}Rl(r,y,t,h)}else y=Q0(o,r,t,h,u);return Pl(y)}Ra=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Mr(r.pendingLanes);o!==0&&(jr(r,o|1),on(r,Je()),(Ue&6)===0&&(js=Je()+500,Gr()))}break;case 13:ji(function(){var u=Ir(t,1);if(u!==null){var h=Yt();Gn(u,t,1,h)}}),Kc(t,1)}},us=function(t){if(t.tag===13){var r=Ir(t,134217728);if(r!==null){var o=Yt();Gn(r,t,134217728,o)}Kc(t,134217728)}},Pa=function(t){if(t.tag===13){var r=Zr(t),o=Ir(t,r);if(o!==null){var u=Yt();Gn(o,t,r,u)}Kc(t,r)}},Na=function(){return Oe},Va=function(t,r){var o=Oe;try{return Oe=t,r()}finally{Oe=o}},es=function(t,r,o){switch(r){case"input":if(qe(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=Xa(u);if(!h)throw Error(n(90));Kn(u),qe(u,h)}}}break;case"textarea":ue(t,o);break;case"select":r=o.value,r!=null&&Vn(t,!!o.multiple,r,!1)}},vi=Bc,uo=ji;var K0={usingClientEntryPoint:!1,Events:[Vo,Is,Xa,Yn,lo,Bc]},Wo={findFiberByHostInstance:Pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X0={bundleType:Wo.bundleType,version:Wo.version,rendererPackageName:Wo.rendererPackageName,rendererConfig:Wo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Se.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fo(t),t===null?null:t.stateNode},findFiberByHostInstance:Wo.findFiberByHostInstance||G0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dl.isDisabled&&Dl.supportsFiber)try{xi=Dl.inject(X0),hn=Dl}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K0,an.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yc(r))throw Error(n(200));return W0(t,r,null,o)},an.createRoot=function(t,r){if(!Yc(t))throw Error(n(299));var o=!1,u="",h=Tp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Qc(t,1,!1,null,null,o,!1,u,h),t[Er]=r.current,Ro(t.nodeType===8?t.parentNode:t),new Xc(r)},an.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=fo(r),t=t===null?null:t.stateNode,t},an.flushSync=function(t){return ji(t)},an.hydrate=function(t,r,o){if(!Vl(r))throw Error(n(200));return bl(null,t,r,!0,o)},an.hydrateRoot=function(t,r,o){if(!Yc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",y=Tp;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),r=wp(r,null,t,1,o??null,h,!1,p,y),t[Er]=r.current,Ro(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new Nl(r)},an.render=function(t,r,o){if(!Vl(r))throw Error(n(200));return bl(null,t,r,!1,o)},an.unmountComponentAtNode=function(t){if(!Vl(t))throw Error(n(40));return t._reactRootContainer?(ji(function(){bl(null,null,t,!1,function(){t._reactRootContainer=null,t[Er]=null})}),!0):!1},an.unstable_batchedUpdates=Bc,an.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Vl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return bl(t,r,o,!1,u)},an.version="18.3.1-next-f1338f8080-20240426",an}var Np;function sv(){if(Np)return eh.exports;Np=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),eh.exports=iv(),eh.exports}var Vp;function ov(){if(Vp)return Ml;Vp=1;var i=sv();return Ml.createRoot=i.createRoot,Ml.hydrateRoot=i.hydrateRoot,Ml}var av=ov();const lv=qm(av);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wm=(...i)=>i.filter((e,n,s)=>!!e&&s.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=fe.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:c,iconNode:d,...m},v)=>fe.createElement("svg",{ref:v,...cv,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:Wm("lucide",a),...m},[...d.map(([_,S])=>fe.createElement(_,S)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(i,e)=>{const n=fe.forwardRef(({className:s,...a},c)=>fe.createElement(hv,{ref:c,iconNode:e,className:Wm(`lucide-${uv(i)}`,s),...a}));return n.displayName=`${i}`,n};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=xe("Atom",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M20.2 20.2c2.04-2.03.02-7.36-4.5-11.9-4.54-4.52-9.87-6.54-11.9-4.5-2.04 2.03-.02 7.36 4.5 11.9 4.54 4.52 9.87 6.54 11.9 4.5Z",key:"1l2ple"}],["path",{d:"M15.7 15.7c4.52-4.54 6.54-9.87 4.5-11.9-2.03-2.04-7.36-.02-11.9 4.5-4.52 4.54-6.54 9.87-4.5 11.9 2.03 2.04 7.36.02 11.9-4.5Z",key:"1wam0m"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=xe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=xe("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=xe("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=xe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=xe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=xe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=xe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=xe("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=xe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=xe("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=xe("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=xe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=xe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=xe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=xe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=xe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=xe("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=xe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=xe("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=xe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=xe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=xe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=xe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=xe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=xe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=xe("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=xe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=xe("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=xe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=xe("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=xe("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=xe("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=xe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=xe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=xe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=xe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=xe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=xe("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=xe("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),Vv=()=>{};var Dp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},bv=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],d=i[n++],m=i[n++],v=((a&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const c=i[n++],d=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|d&63)}}return e.join("")},hg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],d=a+1<i.length,m=d?i[a+1]:0,v=a+2<i.length,_=v?i[a+2]:0,S=c>>2,R=(c&3)<<4|m>>4;let N=(m&15)<<2|_>>6,U=_&63;v||(U=64,d||(N=64)),s.push(n[S],n[R],n[N],n[U])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(cg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):bv(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const _=a<i.length?n[i.charAt(a)]:64;++a;const R=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||_==null||R==null)throw new Dv;const N=c<<2|m>>4;if(s.push(N),_!==64){const U=m<<4&240|_>>2;if(s.push(U),R!==64){const K=_<<6&192|R;s.push(K)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Dv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Mv=function(i){const e=cg(i);return hg.encodeByteArray(e,!0)},Ql=function(i){return Mv(i).replace(/\./g,"")},Lv=function(i){try{return hg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=()=>Ov().__FIREBASE_DEFAULTS__,Fv=()=>{if(typeof process>"u"||typeof Dp>"u")return;const i=Dp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},zv=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Lv(i[1]);return e&&JSON.parse(e)},Oh=()=>{try{return Vv()||jv()||Fv()||zv()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Uv=i=>{var e,n;return(n=(e=Oh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},Bv=i=>{const e=Uv(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},dg=()=>{var i;return(i=Oh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hv(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ql(JSON.stringify(n)),Ql(JSON.stringify(d)),""].join(".")}const Jo={};function Wv(){const i={prod:[],emulator:[]};for(const e of Object.keys(Jo))Jo[e]?i.emulator.push(e):i.prod.push(e);return i}function Gv(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Mp=!1;function Qv(i,e){if(typeof window>"u"||typeof document>"u"||!jh(window.location.host)||Jo[i]===e||Jo[i]||Mp)return;Jo[i]=e;function n(N){return`__firebase__banner__${N}`}const s="__firebase__banner",c=Wv().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function m(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function v(N,U){N.setAttribute("width","24"),N.setAttribute("id",U),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Mp=!0,d()},N}function S(N,U){N.setAttribute("id",U),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function R(){const N=Gv(s),U=n("text"),K=document.getElementById(U)||document.createElement("span"),Y=n("learnmore"),q=document.getElementById(Y)||document.createElement("a"),Ee=n("preprendIcon"),pe=document.getElementById(Ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const de=N.element;m(de),S(q,Y);const Se=_();v(pe,Ee),de.append(pe,K,q,Se),document.body.appendChild(de)}c?(K.innerText="Preview backend disconnected.",pe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,K.innerText="Preview backend running in this workspace."),K.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xv(){var i;const e=(i=Oh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yv(){return!Xv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jv(){try{return typeof indexedDB=="object"}catch{return!1}}function Zv(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="FirebaseError";class Ys extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=e1,Object.setPrototypeOf(this,Ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fg.prototype.create)}}class fg{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],d=c?t1(c,s):"Error",m=`${this.serviceName}: ${d} (${a}).`;return new Ys(a,m,s)}}function t1(i,e){return i.replace(n1,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const n1=/\{\$([^}]+)}/g;function Kl(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],d=e[a];if(Lp(c)&&Lp(d)){if(!Kl(c,d))return!1}else if(c!==d)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Lp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(i){return i&&i._delegate?i._delegate:i}class sa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new $v;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(s1(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&d.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const d=this.instances.get(a);return d&&e(d,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:i1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function i1(i){return i===Bi?void 0:i}function s1(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new r1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ze||(ze={}));const a1={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},l1=ze.INFO,u1={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},c1=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=u1[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pg{constructor(e){this.name=e,this._logLevel=l1,this._logHandler=c1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?a1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const h1=(i,e)=>e.some(n=>i instanceof n);let Op,jp;function d1(){return Op||(Op=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f1(){return jp||(jp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mg=new WeakMap,hh=new WeakMap,gg=new WeakMap,rh=new WeakMap,Fh=new WeakMap;function p1(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{n(ii(i.result)),a()},d=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&mg.set(n,i)}).catch(()=>{}),Fh.set(e,i),e}function m1(i){if(hh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{n(),a()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});hh.set(i,e)}let dh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return hh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||gg.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ii(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function g1(i){dh=i(dh)}function y1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(ih(this),e,...n);return gg.set(s,e.sort?e.sort():[e]),ii(s)}:f1().includes(i)?function(...e){return i.apply(ih(this),e),ii(mg.get(this))}:function(...e){return ii(i.apply(ih(this),e))}}function v1(i){return typeof i=="function"?y1(i):(i instanceof IDBTransaction&&m1(i),h1(i,d1())?new Proxy(i,dh):i)}function ii(i){if(i instanceof IDBRequest)return p1(i);if(rh.has(i))return rh.get(i);const e=v1(i);return e!==i&&(rh.set(i,e),Fh.set(e,i)),e}const ih=i=>Fh.get(i);function _1(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const d=indexedDB.open(i,e),m=ii(d);return s&&d.addEventListener("upgradeneeded",v=>{s(ii(d.result),v.oldVersion,v.newVersion,ii(d.transaction),v)}),n&&d.addEventListener("blocked",v=>n(v.oldVersion,v.newVersion,v)),m.then(v=>{c&&v.addEventListener("close",()=>c()),a&&v.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const w1=["get","getKey","getAll","getAllKeys","count"],E1=["put","add","delete","clear"],sh=new Map;function Fp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(sh.get(e))return sh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=E1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||w1.includes(n)))return;const c=async function(d,...m){const v=this.transaction(d,a?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),a&&v.done]))[0]};return sh.set(e,c),c}g1(i=>({...i,get:(e,n,s)=>Fp(e,n)||i.get(e,n,s),has:(e,n)=>!!Fp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(x1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function x1(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fh="@firebase/app",zp="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new pg("@firebase/app"),S1="@firebase/app-compat",I1="@firebase/analytics-compat",k1="@firebase/analytics",A1="@firebase/app-check-compat",C1="@firebase/app-check",R1="@firebase/auth",P1="@firebase/auth-compat",N1="@firebase/database",V1="@firebase/data-connect",b1="@firebase/database-compat",D1="@firebase/functions",M1="@firebase/functions-compat",L1="@firebase/installations",O1="@firebase/installations-compat",j1="@firebase/messaging",F1="@firebase/messaging-compat",z1="@firebase/performance",U1="@firebase/performance-compat",B1="@firebase/remote-config",$1="@firebase/remote-config-compat",H1="@firebase/storage",q1="@firebase/storage-compat",W1="@firebase/firestore",G1="@firebase/ai",Q1="@firebase/firestore-compat",K1="firebase",X1="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="[DEFAULT]",Y1={[fh]:"fire-core",[S1]:"fire-core-compat",[k1]:"fire-analytics",[I1]:"fire-analytics-compat",[C1]:"fire-app-check",[A1]:"fire-app-check-compat",[R1]:"fire-auth",[P1]:"fire-auth-compat",[N1]:"fire-rtdb",[V1]:"fire-data-connect",[b1]:"fire-rtdb-compat",[D1]:"fire-fn",[M1]:"fire-fn-compat",[L1]:"fire-iid",[O1]:"fire-iid-compat",[j1]:"fire-fcm",[F1]:"fire-fcm-compat",[z1]:"fire-perf",[U1]:"fire-perf-compat",[B1]:"fire-rc",[$1]:"fire-rc-compat",[H1]:"fire-gcs",[q1]:"fire-gcs-compat",[W1]:"fire-fst",[Q1]:"fire-fst-compat",[G1]:"fire-vertex","fire-js":"fire-js",[K1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=new Map,J1=new Map,mh=new Map;function Up(i,e){try{i.container.addComponent(e)}catch(n){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Jl(i){const e=i.name;if(mh.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;mh.set(e,i);for(const n of Yl.values())Up(n,i);for(const n of J1.values())Up(n,i);return!0}function Z1(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function e_(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new fg("app","Firebase",t_);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=X1;function yg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:ph,automaticDataCollectionEnabled:!0},e),a=s.name;if(typeof a!="string"||!a)throw si.create("bad-app-name",{appName:String(a)});if(n||(n=dg()),!n)throw si.create("no-options");const c=Yl.get(a);if(c){if(Kl(n,c.options)&&Kl(s,c.config))return c;throw si.create("duplicate-app",{appName:a})}const d=new o1(a);for(const v of mh.values())d.addComponent(v);const m=new n_(n,s,d);return Yl.set(a,m),m}function i_(i=ph){const e=Yl.get(i);if(!e&&i===ph&&dg())return yg();if(!e)throw si.create("no-app",{appName:i});return e}function Hs(i,e,n){var s;let a=(s=Y1[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(m.join(" "));return}Jl(new sa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="firebase-heartbeat-database",o_=1,oa="firebase-heartbeat-store";let oh=null;function vg(){return oh||(oh=_1(s_,o_,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(oa)}catch(n){console.warn(n)}}}}).catch(i=>{throw si.create("idb-open",{originalErrorMessage:i.message})})),oh}async function a_(i){try{const n=(await vg()).transaction(oa),s=await n.objectStore(oa).get(_g(i));return await n.done,s}catch(e){if(e instanceof Ys)Pr.warn(e.message);else{const n=si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pr.warn(n.message)}}}async function Bp(i,e){try{const s=(await vg()).transaction(oa,"readwrite");await s.objectStore(oa).put(e,_g(i)),await s.done}catch(n){if(n instanceof Ys)Pr.warn(n.message);else{const s=si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pr.warn(s.message)}}}function _g(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=1024,u_=30;class c_{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new d_(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=$p();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats.length>u_){const d=f_(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Pr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$p(),{heartbeatsToSend:s,unsentEntries:a}=h_(this._heartbeatsCache.heartbeats),c=Ql(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Pr.warn(n),""}}}function $p(){return new Date().toISOString().substring(0,10)}function h_(i,e=l_){const n=[];let s=i.slice();for(const a of i){const c=n.find(d=>d.agent===a.agent);if(c){if(c.dates.push(a.date),Hp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Hp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class d_{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jv()?Zv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await a_(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Bp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Bp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Hp(i){return Ql(JSON.stringify({version:2,heartbeats:i})).length}function f_(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(i){Jl(new sa("platform-logger",e=>new T1(e),"PRIVATE")),Jl(new sa("heartbeat",e=>new c_(e),"PRIVATE")),Hs(fh,zp,i),Hs(fh,zp,"esm2017"),Hs("fire-js","")}p_("");var qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oi,wg;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,T){function k(){}k.prototype=T.prototype,V.D=T.prototype,V.prototype=new k,V.prototype.constructor=V,V.C=function(C,b,M){for(var I=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)I[Qe-2]=arguments[Qe];return T.prototype[b].apply(C,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,T,k){k||(k=0);var C=Array(16);if(typeof T=="string")for(var b=0;16>b;++b)C[b]=T.charCodeAt(k++)|T.charCodeAt(k++)<<8|T.charCodeAt(k++)<<16|T.charCodeAt(k++)<<24;else for(b=0;16>b;++b)C[b]=T[k++]|T[k++]<<8|T[k++]<<16|T[k++]<<24;T=V.g[0],k=V.g[1],b=V.g[2];var M=V.g[3],I=T+(M^k&(b^M))+C[0]+3614090360&4294967295;T=k+(I<<7&4294967295|I>>>25),I=M+(b^T&(k^b))+C[1]+3905402710&4294967295,M=T+(I<<12&4294967295|I>>>20),I=b+(k^M&(T^k))+C[2]+606105819&4294967295,b=M+(I<<17&4294967295|I>>>15),I=k+(T^b&(M^T))+C[3]+3250441966&4294967295,k=b+(I<<22&4294967295|I>>>10),I=T+(M^k&(b^M))+C[4]+4118548399&4294967295,T=k+(I<<7&4294967295|I>>>25),I=M+(b^T&(k^b))+C[5]+1200080426&4294967295,M=T+(I<<12&4294967295|I>>>20),I=b+(k^M&(T^k))+C[6]+2821735955&4294967295,b=M+(I<<17&4294967295|I>>>15),I=k+(T^b&(M^T))+C[7]+4249261313&4294967295,k=b+(I<<22&4294967295|I>>>10),I=T+(M^k&(b^M))+C[8]+1770035416&4294967295,T=k+(I<<7&4294967295|I>>>25),I=M+(b^T&(k^b))+C[9]+2336552879&4294967295,M=T+(I<<12&4294967295|I>>>20),I=b+(k^M&(T^k))+C[10]+4294925233&4294967295,b=M+(I<<17&4294967295|I>>>15),I=k+(T^b&(M^T))+C[11]+2304563134&4294967295,k=b+(I<<22&4294967295|I>>>10),I=T+(M^k&(b^M))+C[12]+1804603682&4294967295,T=k+(I<<7&4294967295|I>>>25),I=M+(b^T&(k^b))+C[13]+4254626195&4294967295,M=T+(I<<12&4294967295|I>>>20),I=b+(k^M&(T^k))+C[14]+2792965006&4294967295,b=M+(I<<17&4294967295|I>>>15),I=k+(T^b&(M^T))+C[15]+1236535329&4294967295,k=b+(I<<22&4294967295|I>>>10),I=T+(b^M&(k^b))+C[1]+4129170786&4294967295,T=k+(I<<5&4294967295|I>>>27),I=M+(k^b&(T^k))+C[6]+3225465664&4294967295,M=T+(I<<9&4294967295|I>>>23),I=b+(T^k&(M^T))+C[11]+643717713&4294967295,b=M+(I<<14&4294967295|I>>>18),I=k+(M^T&(b^M))+C[0]+3921069994&4294967295,k=b+(I<<20&4294967295|I>>>12),I=T+(b^M&(k^b))+C[5]+3593408605&4294967295,T=k+(I<<5&4294967295|I>>>27),I=M+(k^b&(T^k))+C[10]+38016083&4294967295,M=T+(I<<9&4294967295|I>>>23),I=b+(T^k&(M^T))+C[15]+3634488961&4294967295,b=M+(I<<14&4294967295|I>>>18),I=k+(M^T&(b^M))+C[4]+3889429448&4294967295,k=b+(I<<20&4294967295|I>>>12),I=T+(b^M&(k^b))+C[9]+568446438&4294967295,T=k+(I<<5&4294967295|I>>>27),I=M+(k^b&(T^k))+C[14]+3275163606&4294967295,M=T+(I<<9&4294967295|I>>>23),I=b+(T^k&(M^T))+C[3]+4107603335&4294967295,b=M+(I<<14&4294967295|I>>>18),I=k+(M^T&(b^M))+C[8]+1163531501&4294967295,k=b+(I<<20&4294967295|I>>>12),I=T+(b^M&(k^b))+C[13]+2850285829&4294967295,T=k+(I<<5&4294967295|I>>>27),I=M+(k^b&(T^k))+C[2]+4243563512&4294967295,M=T+(I<<9&4294967295|I>>>23),I=b+(T^k&(M^T))+C[7]+1735328473&4294967295,b=M+(I<<14&4294967295|I>>>18),I=k+(M^T&(b^M))+C[12]+2368359562&4294967295,k=b+(I<<20&4294967295|I>>>12),I=T+(k^b^M)+C[5]+4294588738&4294967295,T=k+(I<<4&4294967295|I>>>28),I=M+(T^k^b)+C[8]+2272392833&4294967295,M=T+(I<<11&4294967295|I>>>21),I=b+(M^T^k)+C[11]+1839030562&4294967295,b=M+(I<<16&4294967295|I>>>16),I=k+(b^M^T)+C[14]+4259657740&4294967295,k=b+(I<<23&4294967295|I>>>9),I=T+(k^b^M)+C[1]+2763975236&4294967295,T=k+(I<<4&4294967295|I>>>28),I=M+(T^k^b)+C[4]+1272893353&4294967295,M=T+(I<<11&4294967295|I>>>21),I=b+(M^T^k)+C[7]+4139469664&4294967295,b=M+(I<<16&4294967295|I>>>16),I=k+(b^M^T)+C[10]+3200236656&4294967295,k=b+(I<<23&4294967295|I>>>9),I=T+(k^b^M)+C[13]+681279174&4294967295,T=k+(I<<4&4294967295|I>>>28),I=M+(T^k^b)+C[0]+3936430074&4294967295,M=T+(I<<11&4294967295|I>>>21),I=b+(M^T^k)+C[3]+3572445317&4294967295,b=M+(I<<16&4294967295|I>>>16),I=k+(b^M^T)+C[6]+76029189&4294967295,k=b+(I<<23&4294967295|I>>>9),I=T+(k^b^M)+C[9]+3654602809&4294967295,T=k+(I<<4&4294967295|I>>>28),I=M+(T^k^b)+C[12]+3873151461&4294967295,M=T+(I<<11&4294967295|I>>>21),I=b+(M^T^k)+C[15]+530742520&4294967295,b=M+(I<<16&4294967295|I>>>16),I=k+(b^M^T)+C[2]+3299628645&4294967295,k=b+(I<<23&4294967295|I>>>9),I=T+(b^(k|~M))+C[0]+4096336452&4294967295,T=k+(I<<6&4294967295|I>>>26),I=M+(k^(T|~b))+C[7]+1126891415&4294967295,M=T+(I<<10&4294967295|I>>>22),I=b+(T^(M|~k))+C[14]+2878612391&4294967295,b=M+(I<<15&4294967295|I>>>17),I=k+(M^(b|~T))+C[5]+4237533241&4294967295,k=b+(I<<21&4294967295|I>>>11),I=T+(b^(k|~M))+C[12]+1700485571&4294967295,T=k+(I<<6&4294967295|I>>>26),I=M+(k^(T|~b))+C[3]+2399980690&4294967295,M=T+(I<<10&4294967295|I>>>22),I=b+(T^(M|~k))+C[10]+4293915773&4294967295,b=M+(I<<15&4294967295|I>>>17),I=k+(M^(b|~T))+C[1]+2240044497&4294967295,k=b+(I<<21&4294967295|I>>>11),I=T+(b^(k|~M))+C[8]+1873313359&4294967295,T=k+(I<<6&4294967295|I>>>26),I=M+(k^(T|~b))+C[15]+4264355552&4294967295,M=T+(I<<10&4294967295|I>>>22),I=b+(T^(M|~k))+C[6]+2734768916&4294967295,b=M+(I<<15&4294967295|I>>>17),I=k+(M^(b|~T))+C[13]+1309151649&4294967295,k=b+(I<<21&4294967295|I>>>11),I=T+(b^(k|~M))+C[4]+4149444226&4294967295,T=k+(I<<6&4294967295|I>>>26),I=M+(k^(T|~b))+C[11]+3174756917&4294967295,M=T+(I<<10&4294967295|I>>>22),I=b+(T^(M|~k))+C[2]+718787259&4294967295,b=M+(I<<15&4294967295|I>>>17),I=k+(M^(b|~T))+C[9]+3951481745&4294967295,V.g[0]=V.g[0]+T&4294967295,V.g[1]=V.g[1]+(b+(I<<21&4294967295|I>>>11))&4294967295,V.g[2]=V.g[2]+b&4294967295,V.g[3]=V.g[3]+M&4294967295}s.prototype.u=function(V,T){T===void 0&&(T=V.length);for(var k=T-this.blockSize,C=this.B,b=this.h,M=0;M<T;){if(b==0)for(;M<=k;)a(this,V,M),M+=this.blockSize;if(typeof V=="string"){for(;M<T;)if(C[b++]=V.charCodeAt(M++),b==this.blockSize){a(this,C),b=0;break}}else for(;M<T;)if(C[b++]=V[M++],b==this.blockSize){a(this,C),b=0;break}}this.h=b,this.o+=T},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var T=1;T<V.length-8;++T)V[T]=0;var k=8*this.o;for(T=V.length-8;T<V.length;++T)V[T]=k&255,k/=256;for(this.u(V),V=Array(16),T=k=0;4>T;++T)for(var C=0;32>C;C+=8)V[k++]=this.g[T]>>>C&255;return V};function c(V,T){var k=m;return Object.prototype.hasOwnProperty.call(k,V)?k[V]:k[V]=T(V)}function d(V,T){this.h=T;for(var k=[],C=!0,b=V.length-1;0<=b;b--){var M=V[b]|0;C&&M==T||(k[b]=M,C=!1)}this.g=k}var m={};function v(V){return-128<=V&&128>V?c(V,function(T){return new d([T|0],0>T?-1:0)}):new d([V|0],0>V?-1:0)}function _(V){if(isNaN(V)||!isFinite(V))return R;if(0>V)return q(_(-V));for(var T=[],k=1,C=0;V>=k;C++)T[C]=V/k|0,k*=4294967296;return new d(T,0)}function S(V,T){if(V.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(V.charAt(0)=="-")return q(S(V.substring(1),T));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=_(Math.pow(T,8)),C=R,b=0;b<V.length;b+=8){var M=Math.min(8,V.length-b),I=parseInt(V.substring(b,b+M),T);8>M?(M=_(Math.pow(T,M)),C=C.j(M).add(_(I))):(C=C.j(k),C=C.add(_(I)))}return C}var R=v(0),N=v(1),U=v(16777216);i=d.prototype,i.m=function(){if(Y(this))return-q(this).m();for(var V=0,T=1,k=0;k<this.g.length;k++){var C=this.i(k);V+=(0<=C?C:4294967296+C)*T,T*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(K(this))return"0";if(Y(this))return"-"+q(this).toString(V);for(var T=_(Math.pow(V,6)),k=this,C="";;){var b=Se(k,T).g;k=Ee(k,b.j(T));var M=((0<k.g.length?k.g[0]:k.h)>>>0).toString(V);if(k=b,K(k))return M+C;for(;6>M.length;)M="0"+M;C=M+C}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function K(V){if(V.h!=0)return!1;for(var T=0;T<V.g.length;T++)if(V.g[T]!=0)return!1;return!0}function Y(V){return V.h==-1}i.l=function(V){return V=Ee(this,V),Y(V)?-1:K(V)?0:1};function q(V){for(var T=V.g.length,k=[],C=0;C<T;C++)k[C]=~V.g[C];return new d(k,~V.h).add(N)}i.abs=function(){return Y(this)?q(this):this},i.add=function(V){for(var T=Math.max(this.g.length,V.g.length),k=[],C=0,b=0;b<=T;b++){var M=C+(this.i(b)&65535)+(V.i(b)&65535),I=(M>>>16)+(this.i(b)>>>16)+(V.i(b)>>>16);C=I>>>16,M&=65535,I&=65535,k[b]=I<<16|M}return new d(k,k[k.length-1]&-2147483648?-1:0)};function Ee(V,T){return V.add(q(T))}i.j=function(V){if(K(this)||K(V))return R;if(Y(this))return Y(V)?q(this).j(q(V)):q(q(this).j(V));if(Y(V))return q(this.j(q(V)));if(0>this.l(U)&&0>V.l(U))return _(this.m()*V.m());for(var T=this.g.length+V.g.length,k=[],C=0;C<2*T;C++)k[C]=0;for(C=0;C<this.g.length;C++)for(var b=0;b<V.g.length;b++){var M=this.i(C)>>>16,I=this.i(C)&65535,Qe=V.i(b)>>>16,ft=V.i(b)&65535;k[2*C+2*b]+=I*ft,pe(k,2*C+2*b),k[2*C+2*b+1]+=M*ft,pe(k,2*C+2*b+1),k[2*C+2*b+1]+=I*Qe,pe(k,2*C+2*b+1),k[2*C+2*b+2]+=M*Qe,pe(k,2*C+2*b+2)}for(C=0;C<T;C++)k[C]=k[2*C+1]<<16|k[2*C];for(C=T;C<2*T;C++)k[C]=0;return new d(k,0)};function pe(V,T){for(;(V[T]&65535)!=V[T];)V[T+1]+=V[T]>>>16,V[T]&=65535,T++}function de(V,T){this.g=V,this.h=T}function Se(V,T){if(K(T))throw Error("division by zero");if(K(V))return new de(R,R);if(Y(V))return T=Se(q(V),T),new de(q(T.g),q(T.h));if(Y(T))return T=Se(V,q(T)),new de(q(T.g),T.h);if(30<V.g.length){if(Y(V)||Y(T))throw Error("slowDivide_ only works with positive integers.");for(var k=N,C=T;0>=C.l(V);)k=Be(k),C=Be(C);var b=Ce(k,1),M=Ce(C,1);for(C=Ce(C,2),k=Ce(k,2);!K(C);){var I=M.add(C);0>=I.l(V)&&(b=b.add(k),M=I),C=Ce(C,1),k=Ce(k,1)}return T=Ee(V,b.j(T)),new de(b,T)}for(b=R;0<=V.l(T);){for(k=Math.max(1,Math.floor(V.m()/T.m())),C=Math.ceil(Math.log(k)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),M=_(k),I=M.j(T);Y(I)||0<I.l(V);)k-=C,M=_(k),I=M.j(T);K(M)&&(M=N),b=b.add(M),V=Ee(V,I)}return new de(b,V)}i.A=function(V){return Se(this,V).h},i.and=function(V){for(var T=Math.max(this.g.length,V.g.length),k=[],C=0;C<T;C++)k[C]=this.i(C)&V.i(C);return new d(k,this.h&V.h)},i.or=function(V){for(var T=Math.max(this.g.length,V.g.length),k=[],C=0;C<T;C++)k[C]=this.i(C)|V.i(C);return new d(k,this.h|V.h)},i.xor=function(V){for(var T=Math.max(this.g.length,V.g.length),k=[],C=0;C<T;C++)k[C]=this.i(C)^V.i(C);return new d(k,this.h^V.h)};function Be(V){for(var T=V.g.length+1,k=[],C=0;C<T;C++)k[C]=V.i(C)<<1|V.i(C-1)>>>31;return new d(k,V.h)}function Ce(V,T){var k=T>>5;T%=32;for(var C=V.g.length-k,b=[],M=0;M<C;M++)b[M]=0<T?V.i(M+k)>>>T|V.i(M+k+1)<<32-T:V.i(M+k);return new d(b,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,wg=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,oi=d}).apply(typeof qp<"u"?qp:typeof self<"u"?self:typeof window<"u"?window:{});var Ll=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Eg,Qo,Tg,Ul,gh,xg,Sg,Ig;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ll=="object"&&Ll];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function a(l,f){if(f)e:{var g=s;l=l.split(".");for(var w=0;w<l.length-1;w++){var L=l[w];if(!(L in g))break e;g=g[L]}l=l[l.length-1],w=g[l],f=f(w),f!=w&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}function c(l,f){l instanceof String&&(l+="");var g=0,w=!1,L={next:function(){if(!w&&g<l.length){var z=g++;return{value:f(z,l[z]),done:!1}}return w=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}a("Array.prototype.values",function(l){return l||function(){return c(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function v(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function _(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function S(l,f,g){return l.call.apply(l.bind,arguments)}function R(l,f,g){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,w),l.apply(f,L)}}return function(){return l.apply(f,arguments)}}function N(l,f,g){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:R,N.apply(null,arguments)}function U(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var w=g.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function K(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(w,L,z){for(var Z=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)Z[Ke-2]=arguments[Ke];return f.prototype[L].apply(w,Z)}}function Y(l){const f=l.length;if(0<f){const g=Array(f);for(let w=0;w<f;w++)g[w]=l[w];return g}return[]}function q(l,f){for(let g=1;g<arguments.length;g++){const w=arguments[g];if(v(w)){const L=l.length||0,z=w.length||0;l.length=L+z;for(let Z=0;Z<z;Z++)l[L+Z]=w[Z]}else l.push(w)}}class Ee{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function pe(l){return/^[\s\xa0]*$/.test(l)}function de(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function Se(l){return Se[" "](l),l}Se[" "]=function(){};var Be=de().indexOf("Gecko")!=-1&&!(de().toLowerCase().indexOf("webkit")!=-1&&de().indexOf("Edge")==-1)&&!(de().indexOf("Trident")!=-1||de().indexOf("MSIE")!=-1)&&de().indexOf("Edge")==-1;function Ce(l,f,g){for(const w in l)f.call(g,l[w],w,l)}function V(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function T(l){const f={};for(const g in l)f[g]=l[g];return f}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,f){let g,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(g in w)l[g]=w[g];for(let z=0;z<k.length;z++)g=k[z],Object.prototype.hasOwnProperty.call(w,g)&&(l[g]=w[g])}}function b(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function M(l){m.setTimeout(()=>{throw l},0)}function I(){var l=ce;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class Qe{constructor(){this.h=this.g=null}add(f,g){const w=ft.get();w.set(f,g),this.h?this.h.next=w:this.g=w,this.h=w}}var ft=new Ee(()=>new ct,l=>l.reset());class ct{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let $e,ee=!1,ce=new Qe,te=()=>{const l=m.Promise.resolve(void 0);$e=()=>{l.then(D)}};var D=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(g){M(g)}var f=ft;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}ee=!1};function B(){this.s=this.s,this.C=this.C}B.prototype.s=!1,B.prototype.ma=function(){this.s||(this.s=!0,this.N())},B.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var ve=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,f),m.removeEventListener("test",g,f)}catch{}return l})();function Ie(l,f){if(ne.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Be){e:{try{Se(f.nodeName);var L=!0;break e}catch{}L=!1}L||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Re[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ie.aa.h.call(this)}}K(Ie,ne);var Re={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),Le=0;function We(l,f,g,w,L){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!w,this.ha=L,this.key=++Le,this.da=this.fa=!1}function ht(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function un(l){this.src=l,this.g={},this.h=0}un.prototype.add=function(l,f,g,w,L){var z=l.toString();l=this.g[z],l||(l=this.g[z]=[],this.h++);var Z=cn(l,f,w,L);return-1<Z?(f=l[Z],g||(f.fa=!1)):(f=new We(f,this.src,z,!!w,L),f.fa=g,l.push(f)),f};function Kn(l,f){var g=f.type;if(g in l.g){var w=l.g[g],L=Array.prototype.indexOf.call(w,f,void 0),z;(z=0<=L)&&Array.prototype.splice.call(w,L,1),z&&(ht(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function cn(l,f,g,w){for(var L=0;L<l.length;++L){var z=l[L];if(!z.da&&z.listener==f&&z.capture==!!g&&z.ha==w)return L}return-1}var Nn="closure_lm_"+(1e6*Math.random()|0),J={};function et(l,f,g,w,L){if(Array.isArray(f)){for(var z=0;z<f.length;z++)et(l,f[z],g,w,L);return null}return g=be(g),l&&l[Ve]?l.K(f,g,_(w)?!!w.capture:!1,L):qe(l,f,g,!1,w,L)}function qe(l,f,g,w,L,z){if(!f)throw Error("Invalid event type");var Z=_(L)?!!L.capture:!!L,Ke=pr(l);if(Ke||(l[Nn]=Ke=new un(l)),g=Ke.add(f,g,w,Z,z),g.proxy)return g;if(w=Ft(),g.proxy=w,w.src=l,w.listener=g,l.addEventListener)ve||(L=Z),L===void 0&&(L=!1),l.addEventListener(f.toString(),w,L);else if(l.attachEvent)l.attachEvent(Vn(f.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Ft(){function l(g){return f.call(l.src,l.listener,g)}const f=Ji;return l}function Gt(l,f,g,w,L){if(Array.isArray(f))for(var z=0;z<f.length;z++)Gt(l,f[z],g,w,L);else w=_(w)?!!w.capture:!!w,g=be(g),l&&l[Ve]?(l=l.i,f=String(f).toString(),f in l.g&&(z=l.g[f],g=cn(z,g,w,L),-1<g&&(ht(z[g]),Array.prototype.splice.call(z,g,1),z.length==0&&(delete l.g[f],l.h--)))):l&&(l=pr(l))&&(f=l.g[f.toString()],l=-1,f&&(l=cn(f,g,w,L)),(g=-1<l?f[l]:null)&&Jt(g))}function Jt(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Ve])Kn(f.i,l);else{var g=l.type,w=l.proxy;f.removeEventListener?f.removeEventListener(g,w,l.capture):f.detachEvent?f.detachEvent(Vn(g),w):f.addListener&&f.removeListener&&f.removeListener(w),(g=pr(f))?(Kn(g,l),g.h==0&&(g.src=null,f[Nn]=null)):ht(l)}}}function Vn(l){return l in J?J[l]:J[l]="on"+l}function Ji(l,f){if(l.da)l=!0;else{f=new Ie(f,this);var g=l.listener,w=l.ha||l.src;l.fa&&Jt(l),l=g.call(w,f)}return l}function pr(l){return l=l[Nn],l instanceof un?l:null}var ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(l){return typeof l=="function"?l:(l[ue]||(l[ue]=function(f){return l.handleEvent(f)}),l[ue])}function De(){B.call(this),this.i=new un(this),this.M=this,this.F=null}K(De,B),De.prototype[Ve]=!0,De.prototype.removeEventListener=function(l,f,g,w){Gt(this,l,f,g,w)};function Xe(l,f){var g,w=l.F;if(w)for(g=[];w;w=w.F)g.push(w);if(l=l.M,w=f.type||f,typeof f=="string")f=new ne(f,l);else if(f instanceof ne)f.target=f.target||l;else{var L=f;f=new ne(w,l),C(f,L)}if(L=!0,g)for(var z=g.length-1;0<=z;z--){var Z=f.g=g[z];L=vn(Z,w,!0,f)&&L}if(Z=f.g=l,L=vn(Z,w,!0,f)&&L,L=vn(Z,w,!1,f)&&L,g)for(z=0;z<g.length;z++)Z=f.g=g[z],L=vn(Z,w,!1,f)&&L}De.prototype.N=function(){if(De.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],w=0;w<g.length;w++)ht(g[w]);delete l.g[f],l.h--}}this.F=null},De.prototype.K=function(l,f,g,w){return this.i.add(String(l),f,!1,g,w)},De.prototype.L=function(l,f,g,w){return this.i.add(String(l),f,!0,g,w)};function vn(l,f,g,w){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var L=!0,z=0;z<f.length;++z){var Z=f[z];if(Z&&!Z.da&&Z.capture==g){var Ke=Z.listener,Et=Z.ha||Z.src;Z.fa&&Kn(l.i,Z),L=Ke.call(Et,w)!==!1&&L}}return L&&!w.defaultPrevented}function no(l,f,g){if(typeof l=="function")g&&(l=N(l,g));else if(l&&typeof l.handleEvent=="function")l=N(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:m.setTimeout(l,f||0)}function br(l){l.g=no(()=>{l.g=null,l.i&&(l.i=!1,br(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class mi extends B{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:br(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gi(l){B.call(this),this.h=l,this.g={}}K(gi,B);var ro=[];function io(l){Ce(l.g,function(f,g){this.g.hasOwnProperty(g)&&Jt(f)},l),l.g={}}gi.prototype.N=function(){gi.aa.N.call(this),io(this)},gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var so=m.JSON.stringify,oo=m.JSON.parse,ao=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function yi(){}yi.prototype.h=null;function Zi(l){return l.h||(l.h=l.i())}function es(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xn(){ne.call(this,"d")}K(Xn,ne);function ts(){ne.call(this,"c")}K(ts,ne);var Yn={},lo=null;function vi(){return lo=lo||new De}Yn.La="serverreachability";function uo(l){ne.call(this,Yn.La,l)}K(uo,ne);function mr(l){const f=vi();Xe(f,new uo(f))}Yn.STAT_EVENT="statevent";function co(l,f){ne.call(this,Yn.STAT_EVENT,l),this.stat=f}K(co,ne);function pt(l){const f=vi();Xe(f,new co(f,l))}Yn.Ma="timingevent";function ns(l,f){ne.call(this,Yn.Ma,l),this.size=f}K(ns,ne);function bn(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},f)}function _i(){this.g=!0}_i.prototype.xa=function(){this.g=!1};function wi(l,f,g,w,L,z){l.info(function(){if(l.g)if(z)for(var Z="",Ke=z.split("&"),Et=0;Et<Ke.length;Et++){var je=Ke[Et].split("=");if(1<je.length){var kt=je[0];je=je[1];var yt=kt.split("_");Z=2<=yt.length&&yt[1]=="type"?Z+(kt+"="+je+"&"):Z+(kt+"=redacted&")}}else Z=null;else Z=z;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+f+`
`+g+`
`+Z})}function rs(l,f,g,w,L,z,Z){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+f+`
`+g+`
`+z+" "+Z})}function Dn(l,f,g,w){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+ku(l,g)+(w?" "+w:"")})}function ho(l,f){l.info(function(){return"TIMEOUT: "+f})}_i.prototype.info=function(){};function ku(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var w=g[l];if(!(2>w.length)){var L=w[1];if(Array.isArray(L)&&!(1>L.length)){var z=L[0];if(z!="noop"&&z!="stop"&&z!="close")for(var Z=1;Z<L.length;Z++)L[Z]=""}}}}return so(g)}catch{return f}}var is={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ea={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mn;function Ei(){}K(Ei,yi),Ei.prototype.g=function(){return new XMLHttpRequest},Ei.prototype.i=function(){return{}},Mn=new Ei;function Ln(l,f,g,w){this.j=l,this.i=f,this.l=g,this.R=w||1,this.U=new gi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ta}function Ta(){this.i=null,this.g="",this.h=!1}var fo={},ss={};function os(l,f,g){l.L=1,l.v=jr(dn(f)),l.m=g,l.P=!0,po(l,null)}function po(l,f){l.F=Date.now(),Je(l),l.A=dn(l.v);var g=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),zr(g.i,"t",w),l.C=0,g=l.j.J,l.h=new Ta,l.g=za(l.j,g?f:null,!l.m),0<l.O&&(l.M=new mi(N(l.Y,l,l.g),l.O)),f=l.U,g=l.g,w=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(ro[0]=L.toString()),L=ro);for(var z=0;z<L.length;z++){var Z=et(g,L[z],w||f.handleEvent,!1,f.h||f);if(!Z)break;f.g[Z.key]=Z}f=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),mr(),wi(l.i,l.u,l.A,l.l,l.R,l.m)}Ln.prototype.ca=function(l){l=l.target;const f=this.M;f&&en(l)==3?f.j():this.Y(l)},Ln.prototype.Y=function(l){try{if(l==this.g)e:{const yt=en(this.g);var f=this.g.Ba();const Tn=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||wo(this.g)))){this.J||yt!=4||f==7||(f==8||0>=Tn?mr(3):mr(2)),Ti(this);var g=this.g.Z();this.X=g;t:if(xa(this)){var w=wo(this.g);l="";var L=w.length,z=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),Dr(this);var Z="";break t}this.h.i=new m.TextDecoder}for(f=0;f<L;f++)this.h.h=!0,l+=this.h.i.decode(w[f],{stream:!(z&&f==L-1)});w.length=0,this.h.g+=l,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=g==200,rs(this.i,this.u,this.A,this.l,this.R,yt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,Et=this.g;if((Ke=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pe(Ke)){var je=Ke;break t}}je=null}if(g=je)Dn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mo(this,g);else{this.o=!1,this.s=3,pt(12),wn(this),Dr(this);break e}}if(this.P){g=!0;let pn;for(;!this.J&&this.C<Z.length;)if(pn=Au(this,Z),pn==ss){yt==4&&(this.s=4,pt(14),g=!1),Dn(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==fo){this.s=4,pt(15),Dn(this.i,this.l,Z,"[Invalid Chunk]"),g=!1;break}else Dn(this.i,this.l,pn,null),mo(this,pn);if(xa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||Z.length!=0||this.h.h||(this.s=1,pt(16),g=!1),this.o=this.o&&g,!g)Dn(this.i,this.l,Z,"[Invalid Chunked Response]"),wn(this),Dr(this);else if(0<Z.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),To(kt),kt.M=!0,pt(11))}}else Dn(this.i,this.l,Z,null),mo(this,Z);yt==4&&wn(this),this.o&&!this.J&&(yt==4?ys(this.j,this):(this.o=!1,Je(this)))}else ds(this.g),g==400&&0<Z.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),wn(this),Dr(this)}}}catch{}finally{}};function xa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Au(l,f){var g=l.C,w=f.indexOf(`
`,g);return w==-1?ss:(g=Number(f.substring(g,w)),isNaN(g)?fo:(w+=1,w+g>f.length?ss:(f=f.slice(w,w+g),l.C=w+g,f)))}Ln.prototype.cancel=function(){this.J=!0,wn(this)};function Je(l){l.S=Date.now()+l.I,Sa(l,l.I)}function Sa(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=bn(N(l.ba,l),f)}function Ti(l){l.B&&(m.clearTimeout(l.B),l.B=null)}Ln.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ho(this.i,this.A),this.L!=2&&(mr(),pt(17)),wn(this),this.s=2,Dr(this)):Sa(this,this.S-l)};function Dr(l){l.j.G==0||l.J||ys(l.j,l)}function wn(l){Ti(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,io(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function mo(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||Qt(g.h,l))){if(!l.K&&Qt(g.h,l)&&g.G==3){try{var w=g.Da.g.parse(f)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)gs(g),Un(g);else break e;ms(g),pt(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=bn(N(g.Za,g),6e3));if(1>=ka(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else wr(g,11)}else if((l.K||g.g==l)&&gs(g),!pe(f))for(L=g.Da.g.parse(f),f=0;f<L.length;f++){let je=L[f];if(g.T=je[0],je=je[1],g.G==2)if(je[0]=="c"){g.K=je[1],g.ia=je[2];const kt=je[3];kt!=null&&(g.la=kt,g.j.info("VER="+g.la));const yt=je[4];yt!=null&&(g.Aa=yt,g.j.info("SVER="+g.Aa));const Tn=je[5];Tn!=null&&typeof Tn=="number"&&0<Tn&&(w=1.5*Tn,g.L=w,g.j.info("backChannelRequestTimeoutMs_="+w)),w=g;const pn=l.g;if(pn){const Ri=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ri){var z=w.h;z.g||Ri.indexOf("spdy")==-1&&Ri.indexOf("quic")==-1&&Ri.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(go(z,z.h),z.h=null))}if(w.D){const _s=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;_s&&(w.ya=_s,Ye(w.I,w.D,_s))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),w=g;var Z=l;if(w.qa=Fa(w,w.J?w.ia:null,w.W),Z.K){Aa(w.h,Z);var Ke=Z,Et=w.L;Et&&(Ke.I=Et),Ke.B&&(Ti(Ke),Je(Ke)),w.g=Z}else Ci(w);0<g.i.length&&tr(g)}else je[0]!="stop"&&je[0]!="close"||wr(g,7);else g.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?wr(g,7):bt(g):je[0]!="noop"&&g.l&&g.l.ta(je),g.v=0)}}mr(4)}catch{}}var Ia=class{constructor(l,f){this.g=l,this.map=f}};function xi(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ka(l){return l.h?1:l.g?l.g.size:0}function Qt(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function go(l,f){l.g?l.g.add(f):l.h=f}function Aa(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}xi.prototype.cancel=function(){if(this.i=Ca(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ca(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return Y(l.i)}function as(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(v(l)){for(var f=[],g=l.length,w=0;w<g;w++)f.push(l[w]);return f}f=[],g=0;for(w in l)f[g++]=l[w];return f}function ls(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(v(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const w in l)f[g++]=w;return f}}}function Mr(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(v(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=ls(l),w=as(l),L=w.length,z=0;z<L;z++)f.call(void 0,w[z],g&&g[z],l)}var Si=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cu(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var w=l[g].indexOf("="),L=null;if(0<=w){var z=l[g].substring(0,w);L=l[g].substring(w+1)}else z=l[g];f(z,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function gr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof gr){this.h=l.h,Ii(this,l.j),this.o=l.o,this.g=l.g,Lr(this,l.s),this.l=l.l;var f=l.i,g=new Jn;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Or(this,g),this.m=l.m}else l&&(f=String(l).match(Si))?(this.h=!1,Ii(this,f[1]||"",!0),this.o=Oe(f[2]||""),this.g=Oe(f[3]||"",!0),Lr(this,f[4]),this.l=Oe(f[5]||"",!0),Or(this,f[6]||"",!0),this.m=Oe(f[7]||"")):(this.h=!1,this.i=new Jn(null,this.h))}gr.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Fr(f,us,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Fr(f,us,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Fr(g,g.charAt(0)=="/"?Na:Pa,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Fr(g,yo)),l.join("")};function dn(l){return new gr(l)}function Ii(l,f,g){l.j=g?Oe(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Lr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Or(l,f,g){f instanceof Jn?(l.i=f,Zn(l.i,l.h)):(g||(f=Fr(f,Va)),l.i=new Jn(f,l.h))}function Ye(l,f,g){l.i.set(f,g)}function jr(l){return Ye(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Oe(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Fr(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,Ra),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ra(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var us=/[#\/\?@]/g,Pa=/[#\?:]/g,Na=/[#\?]/g,Va=/[#\?@]/g,yo=/#/g;function Jn(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Vt(l){l.g||(l.g=new Map,l.h=0,l.i&&Cu(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}i=Jn.prototype,i.add=function(l,f){Vt(this),this.i=null,l=En(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function On(l,f){Vt(l),f=En(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function jn(l,f){return Vt(l),f=En(l,f),l.g.has(f)}i.forEach=function(l,f){Vt(this),this.g.forEach(function(g,w){g.forEach(function(L){l.call(f,L,w,this)},this)},this)},i.na=function(){Vt(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let w=0;w<f.length;w++){const L=l[w];for(let z=0;z<L.length;z++)g.push(f[w])}return g},i.V=function(l){Vt(this);let f=[];if(typeof l=="string")jn(this,l)&&(f=f.concat(this.g.get(En(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},i.set=function(l,f){return Vt(this),this.i=null,l=En(this,l),jn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},i.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function zr(l,f,g){On(l,f),0<g.length&&(l.i=null,l.g.set(En(l,f),Y(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var w=f[g];const z=encodeURIComponent(String(w)),Z=this.V(w);for(w=0;w<Z.length;w++){var L=z;Z[w]!==""&&(L+="="+encodeURIComponent(String(Z[w]))),l.push(L)}}return this.i=l.join("&")};function En(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Zn(l,f){f&&!l.j&&(Vt(l),l.i=null,l.g.forEach(function(g,w){var L=w.toLowerCase();w!=L&&(On(this,w),zr(this,L,g))},l)),l.j=f}function Ru(l,f){const g=new _i;if(m.Image){const w=new Image;w.onload=U(Zt,g,"TestLoadImage: loaded",!0,f,w),w.onerror=U(Zt,g,"TestLoadImage: error",!1,f,w),w.onabort=U(Zt,g,"TestLoadImage: abort",!1,f,w),w.ontimeout=U(Zt,g,"TestLoadImage: timeout",!1,f,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else f(!1)}function ba(l,f){const g=new _i,w=new AbortController,L=setTimeout(()=>{w.abort(),Zt(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:w.signal}).then(z=>{clearTimeout(L),z.ok?Zt(g,"TestPingServer: ok",!0,f):Zt(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),Zt(g,"TestPingServer: error",!1,f)})}function Zt(l,f,g,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(g)}catch{}}function Pu(){this.g=new ao}function Da(l,f,g){const w=g||"";try{Mr(l,function(L,z){let Z=L;_(L)&&(Z=so(L)),f.push(w+z+"="+encodeURIComponent(Z))})}catch(L){throw f.push(w+"type="+encodeURIComponent("_badmap")),L}}function yr(l){this.l=l.Ub||null,this.j=l.eb||!1}K(yr,yi),yr.prototype.g=function(){return new ki(this.l,this.j)},yr.prototype.i=(function(l){return function(){return l}})({});function ki(l,f){De.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}K(ki,De),i=ki.prototype,i.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,zn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||m).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ma(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ma(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Fn(this):zn(this),this.readyState==3&&Ma(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Fn(this))},i.Qa=function(l){this.g&&(this.response=l,Fn(this))},i.ga=function(){this.g&&Fn(this)};function Fn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,zn(l)}i.setRequestHeader=function(l,f){this.u.append(l,f)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function zn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function vr(l){let f="";return Ce(l,function(g,w){f+=w,f+=":",f+=g,f+=`\r
`}),f}function Ur(l,f,g){e:{for(w in g){var w=!1;break e}w=!0}w||(g=vr(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Ye(l,f,g))}function it(l){De.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}K(it,De);var Nu=/^https?$/i,vo=["POST","PUT"];i=it.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,f,g,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mn.g(),this.v=this.o?Zi(this.o):Zi(Mn),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(z){Ai(this,z);return}if(l=g||"",g=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)g.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const z of w.keys())g.set(z,w.get(z));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(g.keys()).find(z=>z.toLowerCase()=="content-type"),L=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(vo,f,void 0))||w||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,Z]of g)this.g.setRequestHeader(z,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hs(this),this.u=!0,this.g.send(l),this.u=!1}catch(z){Ai(this,z)}};function Ai(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,cs(l),fn(l)}function cs(l){l.A||(l.A=!0,Xe(l,"complete"),Xe(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Xe(this,"complete"),Xe(this,"abort"),fn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fn(this,!0)),it.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?_o(this):this.bb())},i.bb=function(){_o(this)};function _o(l){if(l.h&&typeof d<"u"&&(!l.v[1]||en(l)!=4||l.Z()!=2)){if(l.u&&en(l)==4)no(l.Ea,0,l);else if(Xe(l,"readystatechange"),en(l)==4){l.h=!1;try{const Z=l.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var w;if(w=Z===0){var L=String(l.D).match(Si)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),w=!Nu.test(L?L.toLowerCase():"")}g=w}if(g)Xe(l,"complete"),Xe(l,"success");else{l.m=6;try{var z=2<en(l)?l.g.statusText:""}catch{z=""}l.l=z+" ["+l.Z()+"]",cs(l)}}finally{fn(l)}}}}function fn(l,f){if(l.g){hs(l);const g=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||Xe(l,"ready");try{g.onreadystatechange=w}catch{}}}function hs(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function en(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),oo(f)}};function wo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ds(l){const f={};l=(l.g&&2<=en(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(pe(l[w]))continue;var g=b(l[w]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const z=f[L]||[];f[L]=z,z.push(g)}V(f,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function er(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function Eo(l){this.Aa=0,this.i=[],this.j=new _i,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=er("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=er("baseRetryDelayMs",5e3,l),this.cb=er("retryDelaySeedMs",1e4,l),this.Wa=er("forwardChannelMaxRetries",2,l),this.wa=er("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new xi(l&&l.concurrentRequestLimit),this.Da=new Pu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Eo.prototype,i.la=8,i.G=1,i.connect=function(l,f,g,w){pt(0),this.W=l,this.H=f||{},g&&w!==void 0&&(this.H.OSID=g,this.H.OAID=w),this.F=this.X,this.I=Fa(this,null,this.W),tr(this)};function bt(l){if(fs(l),l.G==3){var f=l.U++,g=dn(l.I);if(Ye(g,"SID",l.K),Ye(g,"RID",f),Ye(g,"TYPE","terminate"),_r(l,g),f=new Ln(l,l.j,f),f.L=2,f.v=jr(dn(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=f.v,g=!0),g||(f.g=za(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Je(f)}ja(l)}function Un(l){l.g&&(To(l),l.g.cancel(),l.g=null)}function fs(l){Un(l),l.u&&(m.clearTimeout(l.u),l.u=null),gs(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function tr(l){if(!hn(l.h)&&!l.s){l.s=!0;var f=l.Ga;$e||te(),ee||($e(),ee=!0),ce.add(f,l),l.B=0}}function Vu(l,f){return ka(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=bn(N(l.Ga,l,f),Oa(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new Ln(this,this.j,l);let z=this.o;if(this.S&&(z?(z=T(z),C(z,this.S)):z=this.S),this.m!==null||this.O||(L.H=z,z=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var w=this.i[g];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(f+=w,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=Br(this,L,f),g=dn(this.I),Ye(g,"RID",l),Ye(g,"CVER",22),this.D&&Ye(g,"X-HTTP-Session-Id",this.D),_r(this,g),z&&(this.O?f="headers="+encodeURIComponent(String(vr(z)))+"&"+f:this.m&&Ur(g,this.m,z)),go(this.h,L),this.Ua&&Ye(g,"TYPE","init"),this.P?(Ye(g,"$req",f),Ye(g,"SID","null"),L.T=!0,os(L,g,null)):os(L,g,f),this.G=2}}else this.G==3&&(l?ps(this,l):this.i.length==0||hn(this.h)||ps(this))};function ps(l,f){var g;f?g=f.l:g=l.U++;const w=dn(l.I);Ye(w,"SID",l.K),Ye(w,"RID",g),Ye(w,"AID",l.T),_r(l,w),l.m&&l.o&&Ur(w,l.m,l.o),g=new Ln(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Br(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),go(l.h,g),os(g,w,f)}function _r(l,f){l.H&&Ce(l.H,function(g,w){Ye(f,w,g)}),l.l&&Mr({},function(g,w){Ye(f,w,g)})}function Br(l,f,g){g=Math.min(l.i.length,g);var w=l.l?N(l.l.Na,l.l,l):null;e:{var L=l.i;let z=-1;for(;;){const Z=["count="+g];z==-1?0<g?(z=L[0].g,Z.push("ofs="+z)):z=0:Z.push("ofs="+z);let Ke=!0;for(let Et=0;Et<g;Et++){let je=L[Et].g;const kt=L[Et].map;if(je-=z,0>je)z=Math.max(0,L[Et].g-100),Ke=!1;else try{Da(kt,Z,"req"+je+"_")}catch{w&&w(kt)}}if(Ke){w=Z.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,w}function Ci(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;$e||te(),ee||($e(),ee=!0),ce.add(f,l),l.v=0}}function ms(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=bn(N(l.Fa,l),Oa(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,La(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=bn(N(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Un(this),La(this))};function To(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function La(l){l.g=new Ln(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=dn(l.qa);Ye(f,"RID","rpc"),Ye(f,"SID",l.K),Ye(f,"AID",l.T),Ye(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ye(f,"TO",l.ja),Ye(f,"TYPE","xmlhttp"),_r(l,f),l.m&&l.o&&Ur(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=jr(dn(f)),g.m=null,g.P=!0,po(g,l)}i.Za=function(){this.C!=null&&(this.C=null,Un(this),ms(this),pt(19))};function gs(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function ys(l,f){var g=null;if(l.g==f){gs(l),To(l),l.g=null;var w=2}else if(Qt(l.h,f))g=f.D,Aa(l.h,f),w=1;else return;if(l.G!=0){if(f.o)if(w==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var L=l.B;w=vi(),Xe(w,new ns(w,g)),tr(l)}else Ci(l);else if(L=f.s,L==3||L==0&&0<f.X||!(w==1&&Vu(l,f)||w==2&&ms(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),L){case 1:wr(l,5);break;case 4:wr(l,10);break;case 3:wr(l,6);break;default:wr(l,2)}}}function Oa(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function wr(l,f){if(l.j.info("Error code "+f),f==2){var g=N(l.fb,l),w=l.Xa;const L=!w;w=new gr(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ii(w,"https"),jr(w),L?Ru(w.toString(),g):ba(w.toString(),g)}else pt(2);l.G=0,l.l&&l.l.sa(f),ja(l),fs(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function ja(l){if(l.G=0,l.ka=[],l.l){const f=Ca(l.h);(f.length!=0||l.i.length!=0)&&(q(l.ka,f),q(l.ka,l.i),l.h.i.length=0,Y(l.i),l.i.length=0),l.l.ra()}}function Fa(l,f,g){var w=g instanceof gr?dn(g):new gr(g);if(w.g!="")f&&(w.g=f+"."+w.g),Lr(w,w.s);else{var L=m.location;w=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;var z=new gr(null);w&&Ii(z,w),f&&(z.g=f),L&&Lr(z,L),g&&(z.l=g),w=z}return g=l.D,f=l.ya,g&&f&&Ye(w,g,f),Ye(w,"VER",l.la),_r(l,w),w}function za(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new it(new yr({eb:g})):new it(l.pa),f.Ha(l.J),f}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function xo(){}i=xo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function vs(){}vs.prototype.g=function(l,f){return new Kt(l,f)};function Kt(l,f){De.call(this),this.g=new Eo(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!pe(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!pe(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new nr(this)}K(Kt,De),Kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Kt.prototype.close=function(){bt(this.g)},Kt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=so(l),l=g);f.i.push(new Ia(f.Ya++,l)),f.G==3&&tr(f)},Kt.prototype.N=function(){this.g.l=null,delete this.j,bt(this.g),delete this.g,Kt.aa.N.call(this)};function Ua(l){Xn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}K(Ua,Xn);function Ba(){ts.call(this),this.status=1}K(Ba,ts);function nr(l){this.g=l}K(nr,xo),nr.prototype.ua=function(){Xe(this.g,"a")},nr.prototype.ta=function(l){Xe(this.g,new Ua(l))},nr.prototype.sa=function(l){Xe(this.g,new Ba)},nr.prototype.ra=function(){Xe(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,Kt.prototype.send=Kt.prototype.o,Kt.prototype.open=Kt.prototype.m,Kt.prototype.close=Kt.prototype.close,Ig=function(){return new vs},Sg=function(){return vi()},xg=Yn,gh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},is.NO_ERROR=0,is.TIMEOUT=8,is.HTTP_ERROR=6,Ul=is,Ea.COMPLETE="complete",Tg=Ea,es.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",De.prototype.listen=De.prototype.K,Qo=es,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,Eg=it}).apply(typeof Ll<"u"?Ll:typeof self<"u"?self:typeof window<"u"?window:{});const Wp="@firebase/firestore",Gp="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Js="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi=new pg("@firebase/firestore");function zs(){return Wi.logLevel}function ie(i,...e){if(Wi.logLevel<=ze.DEBUG){const n=e.map(zh);Wi.debug(`Firestore (${Js}): ${i}`,...n)}}function Nr(i,...e){if(Wi.logLevel<=ze.ERROR){const n=e.map(zh);Wi.error(`Firestore (${Js}): ${i}`,...n)}}function li(i,...e){if(Wi.logLevel<=ze.WARN){const n=e.map(zh);Wi.warn(`Firestore (${Js}): ${i}`,...n)}}function zh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,kg(i,s,n)}function kg(i,e,n){let s=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Nr(s),new Error(s)}function Ge(i,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,i||kg(e,a,s)}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ys{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class m_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(qt.UNAUTHENTICATED)))}shutdown(){}}class g_{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class y_{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const a=v=>this.i!==s?(s=this.i,n(v)):Promise.resolve();let c=new ai;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ai,e.enqueueRetryable((()=>a(this.currentUser)))};const d=()=>{const v=c;e.enqueueRetryable((async()=>{await v.promise,await a(this.currentUser)}))},m=v=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>m(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ai)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new Ag(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new qt(e)}}class v_{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class __{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new v_(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(qt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Qp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class w_{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,e_(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=c=>{c.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ie("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>s(c)))};const a=c=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>a(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?a(c):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Qp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Qp(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=E_(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%62))}return s}}function Pe(i,e){return i<e?-1:i>e?1:0}function yh(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),a=e.codePointAt(n);if(s!==a){if(s<128&&a<128)return Pe(s,a);{const c=Cg(),d=T_(c.encode(Kp(i,n)),c.encode(Kp(e,n)));return d!==0?d:Pe(s,a)}}n+=s>65535?2:1}return Pe(i.length,e.length)}function Kp(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function T_(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Pe(i[n],e[n]);return Pe(i.length,e.length)}function Ws(i,e,n){return i.length===e.length&&i.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="__name__";class ar{constructor(e,n,s){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&_e(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ar?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=ar.compareSegments(e.get(a),n.get(a));if(c!==0)return c}return Pe(e.length,n.length)}static compareSegments(e,n){const s=ar.isNumericId(e),a=ar.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?ar.extractNumericId(e).compare(ar.extractNumericId(n)):yh(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oi.fromString(e.substring(4,e.length-2))}}class lt extends ar{construct(e,n,s){return new lt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(G.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new lt(n)}static emptyPath(){return new lt([])}}const x_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends ar{construct(e,n,s){return new Ot(e,n,s)}static isValidIdentifier(e){return x_.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xp}static keyField(){return new Ot([Xp])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new he(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new he(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[a+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new he(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,a+=2}else m==="`"?(d=!d,a++):m!=="."||d?(s+=m,a++):(c(),a++)}if(c(),d)throw new he(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(n)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(lt.fromString(e))}static fromName(e){return new ye(lt.fromString(e).popFirst(5))}static empty(){return new ye(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(i,e,n){if(!n)throw new he(G.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function I_(i,e,n,s){if(e===!0&&s===!0)throw new he(G.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Yp(i){if(!ye.isDocumentKey(i))throw new he(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Rg(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Bh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":_e(12329,{type:typeof i})}function aa(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bh(i);throw new he(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(i,e){const n={typeString:i};return e&&(n.value=e),n}function ga(i,e){if(!Rg(i))throw new he(G.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const d=i[s];if(a&&typeof d!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${s}' field to equal '${c.value}'`;break}}if(n)throw new he(G.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=-62135596800,Zp=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Zp);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Jp)throw new he(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zp}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ga(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:wt("string",rt._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new rt(0,0))}static max(){return new ke(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=-1;function k_(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=ke.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new ui(a,ye.empty(),e)}function A_(i){return new ui(i.readTime,i.key,la)}class ui{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ui(ke.min(),ye.empty(),la)}static max(){return new ui(ke.max(),ye.empty(),la)}}function C_(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:Pe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class P_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(i){if(i.code!==G.FAILED_PRECONDITION||i.message!==R_)throw i;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $(((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):$.reject(n)}static resolve(e){return new $(((n,s)=>{n(e)}))}static reject(e){return new $(((n,s)=>{s(e)}))}static waitFor(e){return new $(((n,s)=>{let a=0,c=0,d=!1;e.forEach((m=>{++a,m.next((()=>{++c,d&&c===a&&n()}),(v=>s(v)))})),d=!0,c===a&&n()}))}static or(e){let n=$.resolve(!1);for(const s of e)n=n.next((a=>a?$.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,c)=>{s.push(n.call(this,a,c))})),this.waitFor(s)}static mapArray(e,n){return new $(((s,a)=>{const c=e.length,d=new Array(c);let m=0;for(let v=0;v<c;v++){const _=v;n(e[_]).next((S=>{d[_]=S,++m,m===c&&s(d)}),(S=>a(S)))}}))}static doWhile(e,n){return new $(((s,a)=>{const c=()=>{e()===!0?n().next((()=>{c()}),a):s()};c()}))}}function N_(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function eo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}pu.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=-1;function mu(i){return i==null}function Zl(i){return i===0&&1/i==-1/0}function V_(i){return typeof i=="number"&&Number.isInteger(i)&&!Zl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pg="";function b_(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=em(e)),e=D_(i.get(n),e);return em(e)}function D_(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case Pg:n+="";break;default:n+=c}}return n}function em(i){return i+Pg+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Qi(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Ng(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Lt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ol(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ol(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ol(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ol(this.root,e,this.comparator,!0)}}class Ol{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??Lt.RED,this.left=a??Lt.EMPTY,this.right=c??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new Lt(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Lt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,s,a,c){return this}insert(e,n,s){return new Lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nm(this.data.getIterator())}getIteratorFrom(e){return new nm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class nm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new It(Ot.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ws(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Vg("Invalid base64 string: "+c):c}})(e);return new jt(n)}static fromUint8Array(e){const n=(function(a){let c="";for(let d=0;d<a.length;++d)c+=String.fromCharCode(a[d]);return c})(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const M_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ci(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const n=M_.exec(i);if(Ge(!!n,46558,{timestamp:i}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(i.seconds),nanos:gt(i.nanos)}}function gt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function hi(i){return typeof i=="string"?jt.fromBase64String(i):jt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="server_timestamp",Dg="__type__",Mg="__previous_value__",Lg="__local_write_time__";function Hh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Dg])===null||n===void 0?void 0:n.stringValue)===bg}function gu(i){const e=i.mapValue.fields[Mg];return Hh(e)?gu(e):e}function ua(i){const e=ci(i.mapValue.fields[Lg].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,n,s,a,c,d,m,v,_,S){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S}}const eu="(default)";class ca{constructor(e,n){this.projectId=e,this.database=n||eu}static empty(){return new ca("","")}get isDefaultDatabase(){return this.database===eu}isEqual(e){return e instanceof ca&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="__type__",O_="__max__",jl={mapValue:{}},jg="__vector__",tu="value";function di(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Hh(i)?4:F_(i)?9007199254740991:j_(i)?10:11:_e(28295,{value:i})}function dr(i,e){if(i===e)return!0;const n=di(i);if(n!==di(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ua(i).isEqual(ua(e));case 3:return(function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const d=ci(a.timestampValue),m=ci(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(a,c){return hi(a.bytesValue).isEqual(hi(c.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(a,c){return gt(a.geoPointValue.latitude)===gt(c.geoPointValue.latitude)&&gt(a.geoPointValue.longitude)===gt(c.geoPointValue.longitude)})(i,e);case 2:return(function(a,c){if("integerValue"in a&&"integerValue"in c)return gt(a.integerValue)===gt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const d=gt(a.doubleValue),m=gt(c.doubleValue);return d===m?Zl(d)===Zl(m):isNaN(d)&&isNaN(m)}return!1})(i,e);case 9:return Ws(i.arrayValue.values||[],e.arrayValue.values||[],dr);case 10:case 11:return(function(a,c){const d=a.mapValue.fields||{},m=c.mapValue.fields||{};if(tm(d)!==tm(m))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(m[v]===void 0||!dr(d[v],m[v])))return!1;return!0})(i,e);default:return _e(52216,{left:i})}}function ha(i,e){return(i.values||[]).find((n=>dr(n,e)))!==void 0}function Gs(i,e){if(i===e)return 0;const n=di(i),s=di(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(i.booleanValue,e.booleanValue);case 2:return(function(c,d){const m=gt(c.integerValue||c.doubleValue),v=gt(d.integerValue||d.doubleValue);return m<v?-1:m>v?1:m===v?0:isNaN(m)?isNaN(v)?0:-1:1})(i,e);case 3:return rm(i.timestampValue,e.timestampValue);case 4:return rm(ua(i),ua(e));case 5:return yh(i.stringValue,e.stringValue);case 6:return(function(c,d){const m=hi(c),v=hi(d);return m.compareTo(v)})(i.bytesValue,e.bytesValue);case 7:return(function(c,d){const m=c.split("/"),v=d.split("/");for(let _=0;_<m.length&&_<v.length;_++){const S=Pe(m[_],v[_]);if(S!==0)return S}return Pe(m.length,v.length)})(i.referenceValue,e.referenceValue);case 8:return(function(c,d){const m=Pe(gt(c.latitude),gt(d.latitude));return m!==0?m:Pe(gt(c.longitude),gt(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return im(i.arrayValue,e.arrayValue);case 10:return(function(c,d){var m,v,_,S;const R=c.fields||{},N=d.fields||{},U=(m=R[tu])===null||m===void 0?void 0:m.arrayValue,K=(v=N[tu])===null||v===void 0?void 0:v.arrayValue,Y=Pe(((_=U==null?void 0:U.values)===null||_===void 0?void 0:_.length)||0,((S=K==null?void 0:K.values)===null||S===void 0?void 0:S.length)||0);return Y!==0?Y:im(U,K)})(i.mapValue,e.mapValue);case 11:return(function(c,d){if(c===jl.mapValue&&d===jl.mapValue)return 0;if(c===jl.mapValue)return 1;if(d===jl.mapValue)return-1;const m=c.fields||{},v=Object.keys(m),_=d.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let R=0;R<v.length&&R<S.length;++R){const N=yh(v[R],S[R]);if(N!==0)return N;const U=Gs(m[v[R]],_[S[R]]);if(U!==0)return U}return Pe(v.length,S.length)})(i.mapValue,e.mapValue);default:throw _e(23264,{le:n})}}function rm(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Pe(i,e);const n=ci(i),s=ci(e),a=Pe(n.seconds,s.seconds);return a!==0?a:Pe(n.nanos,s.nanos)}function im(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Gs(n[a],s[a]);if(c)return c}return Pe(n.length,s.length)}function Qs(i){return vh(i)}function vh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=ci(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return hi(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ye.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=vh(c);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const d of s)c?c=!1:a+=",",a+=`${d}:${vh(n.fields[d])}`;return a+"}"})(i.mapValue):_e(61005,{value:i})}function Bl(i){switch(di(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gu(i);return e?16+Bl(e):16;case 5:return 2*i.stringValue.length;case 6:return hi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,c)=>a+Bl(c)),0)})(i.arrayValue);case 10:case 11:return(function(s){let a=0;return Qi(s.fields,((c,d)=>{a+=c.length+Bl(d)})),a})(i.mapValue);default:throw _e(13486,{value:i})}}function _h(i){return!!i&&"integerValue"in i}function qh(i){return!!i&&"arrayValue"in i}function sm(i){return!!i&&"nullValue"in i}function om(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function $l(i){return!!i&&"mapValue"in i}function j_(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Og])===null||n===void 0?void 0:n.stringValue)===jg}function Zo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Qi(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Zo(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function F_(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===O_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.value=e}static empty(){return new Rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!$l(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zo(n)}setAll(e){let n=Ot.emptyPath(),s={},a=[];e.forEach(((d,m)=>{if(!n.isImmediateParentOf(m)){const v=this.getFieldsMap(n);this.applyChanges(v,s,a),s={},a=[],n=m.popLast()}d?s[m.lastSegment()]=Zo(d):a.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());$l(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];$l(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Qi(n,((a,c)=>e[a]=c));for(const a of s)delete e[a]}clone(){return new Rn(Zo(this.value))}}function Fg(i){const e=[];return Qi(i.fields,((n,s)=>{const a=new Ot([n]);if($l(s)){const c=Fg(s.mapValue).fields;if(c.length===0)e.push(a);else for(const d of c)e.push(a.child(d))}else e.push(a)})),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,a,c,d,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,ke.min(),ke.min(),ke.min(),Rn.empty(),0)}static newFoundDocument(e,n,s,a){return new Wt(e,1,n,ke.min(),s,a,0)}static newNoDocument(e,n){return new Wt(e,2,n,ke.min(),ke.min(),Rn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,ke.min(),ke.min(),Rn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.position=e,this.inclusive=n}}function am(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],d=i.position[a];if(c.field.isKeyField()?s=ye.comparator(ye.fromName(d.referenceValue),n.key):s=Gs(d,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function lm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!dr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function z_(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{}class St extends zg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new B_(e,n,s):n==="array-contains"?new q_(e,s):n==="in"?new W_(e,s):n==="not-in"?new G_(e,s):n==="array-contains-any"?new Q_(e,s):new St(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new $_(e,s):new H_(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Gs(n,this.value)):n!==null&&di(this.value)===di(n)&&this.matchesComparison(Gs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends zg{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new fr(e,n)}matches(e){return Ug(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Ug(i){return i.op==="and"}function Bg(i){return U_(i)&&Ug(i)}function U_(i){for(const e of i.filters)if(e instanceof fr)return!1;return!0}function wh(i){if(i instanceof St)return i.field.canonicalString()+i.op.toString()+Qs(i.value);if(Bg(i))return i.filters.map((e=>wh(e))).join(",");{const e=i.filters.map((n=>wh(n))).join(",");return`${i.op}(${e})`}}function $g(i,e){return i instanceof St?(function(s,a){return a instanceof St&&s.op===a.op&&s.field.isEqual(a.field)&&dr(s.value,a.value)})(i,e):i instanceof fr?(function(s,a){return a instanceof fr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((c,d,m)=>c&&$g(d,a.filters[m])),!0):!1})(i,e):void _e(19439)}function Hg(i){return i instanceof St?(function(n){return`${n.field.canonicalString()} ${n.op} ${Qs(n.value)}`})(i):i instanceof fr?(function(n){return n.op.toString()+" {"+n.getFilters().map(Hg).join(" ,")+"}"})(i):"Filter"}class B_ extends St{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class $_ extends St{constructor(e,n){super(e,"in",n),this.keys=qg("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class H_ extends St{constructor(e,n){super(e,"not-in",n),this.keys=qg("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function qg(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((s=>ye.fromName(s.referenceValue)))}class q_ extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qh(n)&&ha(n.arrayValue,this.value)}}class W_ extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ha(this.value.arrayValue,n)}}class G_ extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(ha(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ha(this.value.arrayValue,n)}}class Q_ extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ha(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n=null,s=[],a=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=d,this.endAt=m,this.Pe=null}}function um(i,e=null,n=[],s=[],a=null,c=null,d=null){return new K_(i,e,n,s,a,c,d)}function Wh(i){const e=Ae(i);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>wh(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),mu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Qs(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Qs(s))).join(",")),e.Pe=n}return e.Pe}function Gh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!z_(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!$g(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!lm(i.startAt,e.startAt)&&lm(i.endAt,e.endAt)}function Eh(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n=null,s=[],a=[],c=null,d="F",m=null,v=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=v,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function X_(i,e,n,s,a,c,d,m){return new yu(i,e,n,s,a,c,d,m)}function Qh(i){return new yu(i)}function cm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Y_(i){return i.collectionGroup!==null}function ea(i){const e=Ae(i);if(e.Te===null){e.Te=[];const n=new Set;for(const c of e.explicitOrderBy)e.Te.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new It(Ot.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(m=m.add(_.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Te.push(new ru(c,s))})),n.has(Ot.keyField().canonicalString())||e.Te.push(new ru(Ot.keyField(),s))}return e.Te}function lr(i){const e=Ae(i);return e.Ie||(e.Ie=J_(e,ea(i))),e.Ie}function J_(i,e){if(i.limitType==="F")return um(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((a=>{const c=a.dir==="desc"?"asc":"desc";return new ru(a.field,c)}));const n=i.endAt?new nu(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new nu(i.startAt.position,i.startAt.inclusive):null;return um(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Th(i,e,n){return new yu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function vu(i,e){return Gh(lr(i),lr(e))&&i.limitType===e.limitType}function Wg(i){return`${Wh(lr(i))}|lt:${i.limitType}`}function Us(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>Hg(a))).join(", ")}]`),mu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>Qs(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>Qs(a))).join(",")),`Target(${s})`})(lr(i))}; limitType=${i.limitType})`}function _u(i,e){return e.isFoundDocument()&&(function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ye.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(i,e)&&(function(s,a){for(const c of ea(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0})(i,e)&&(function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0})(i,e)&&(function(s,a){return!(s.startAt&&!(function(d,m,v){const _=am(d,m,v);return d.inclusive?_<=0:_<0})(s.startAt,ea(s),a)||s.endAt&&!(function(d,m,v){const _=am(d,m,v);return d.inclusive?_>=0:_>0})(s.endAt,ea(s),a))})(i,e)}function Z_(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Gg(i){return(e,n)=>{let s=!1;for(const a of ea(i)){const c=ew(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function ew(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):(function(c,d,m){const v=d.data.field(c),_=m.data.field(c);return v!==null&&_!==null?Gs(v,_):_e(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,((n,s)=>{for(const[a,c]of s)e(a,c)}))}isEmpty(){return Ng(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=new ut(ye.comparator);function Vr(){return tw}const Qg=new ut(ye.comparator);function Ko(...i){let e=Qg;for(const n of i)e=e.insert(n.key,n);return e}function Kg(i){let e=Qg;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function $i(){return ta()}function Xg(){return ta()}function ta(){return new Ki((i=>i.toString()),((i,e)=>i.isEqual(e)))}const nw=new ut(ye.comparator),rw=new It(ye.comparator);function Me(...i){let e=rw;for(const n of i)e=e.add(n);return e}const iw=new It(Pe);function sw(){return iw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zl(e)?"-0":e}}function Yg(i){return{integerValue:""+i}}function ow(i,e){return V_(e)?Yg(e):Kh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(){this._=void 0}}function aw(i,e,n){return i instanceof iu?(function(a,c){const d={fields:{[Dg]:{stringValue:bg},[Lg]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Hh(c)&&(c=gu(c)),c&&(d.fields[Mg]=c),{mapValue:d}})(n,e):i instanceof da?Zg(i,e):i instanceof fa?ey(i,e):(function(a,c){const d=Jg(a,c),m=hm(d)+hm(a.Ee);return _h(d)&&_h(a.Ee)?Yg(m):Kh(a.serializer,m)})(i,e)}function lw(i,e,n){return i instanceof da?Zg(i,e):i instanceof fa?ey(i,e):n}function Jg(i,e){return i instanceof su?(function(s){return _h(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(e)?e:{integerValue:0}:null}class iu extends wu{}class da extends wu{constructor(e){super(),this.elements=e}}function Zg(i,e){const n=ty(e);for(const s of i.elements)n.some((a=>dr(a,s)))||n.push(s);return{arrayValue:{values:n}}}class fa extends wu{constructor(e){super(),this.elements=e}}function ey(i,e){let n=ty(e);for(const s of i.elements)n=n.filter((a=>!dr(a,s)));return{arrayValue:{values:n}}}class su extends wu{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function hm(i){return gt(i.integerValue||i.doubleValue)}function ty(i){return qh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function uw(i,e){return i.field.isEqual(e.field)&&(function(s,a){return s instanceof da&&a instanceof da||s instanceof fa&&a instanceof fa?Ws(s.elements,a.elements,dr):s instanceof su&&a instanceof su?dr(s.Ee,a.Ee):s instanceof iu&&a instanceof iu})(i.transform,e.transform)}class cw{constructor(e,n){this.version=e,this.transformResults=n}}class Rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Eu{}function ny(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new iy(i.key,Rr.none()):new ya(i.key,i.data,Rr.none());{const n=i.data,s=Rn.empty();let a=new It(Ot.comparator);for(let c of e.fields)if(!a.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?s.delete(c):s.set(c,d),a=a.add(c)}return new Xi(i.key,s,new Qn(a.toArray()),Rr.none())}}function hw(i,e,n){i instanceof ya?(function(a,c,d){const m=a.value.clone(),v=fm(a.fieldTransforms,c,d.transformResults);m.setAll(v),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Xi?(function(a,c,d){if(!Hl(a.precondition,c))return void c.convertToUnknownDocument(d.version);const m=fm(a.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(ry(a)),v.setAll(m),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(i,e,n):(function(a,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function na(i,e,n,s){return i instanceof ya?(function(c,d,m,v){if(!Hl(c.precondition,d))return m;const _=c.value.clone(),S=pm(c.fieldTransforms,v,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(i,e,n,s):i instanceof Xi?(function(c,d,m,v){if(!Hl(c.precondition,d))return m;const _=pm(c.fieldTransforms,v,d),S=d.data;return S.setAll(ry(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((R=>R.field)))})(i,e,n,s):(function(c,d,m){return Hl(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m})(i,e,n)}function dw(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=Jg(s.transform,a||null);c!=null&&(n===null&&(n=Rn.empty()),n.set(s.field,c))}return n||null}function dm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ws(s,a,((c,d)=>uw(c,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ya extends Eu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Xi extends Eu{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ry(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function fm(i,e,n){const s=new Map;Ge(i.length===n.length,32656,{Ae:n.length,Re:i.length});for(let a=0;a<n.length;a++){const c=i[a],d=c.transform,m=e.data.field(c.field);s.set(c.field,lw(d,m,n[a]))}return s}function pm(i,e,n){const s=new Map;for(const a of i){const c=a.transform,d=n.data.field(a.field);s.set(a.field,aw(c,d,e))}return s}class iy extends Eu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fw extends Eu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&hw(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=na(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=na(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Xg();return this.mutations.forEach((a=>{const c=e.get(a.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=n.has(a.key)?null:m;const v=ny(d,m);v!==null&&s.set(a.key,v),d.isValidDocument()||d.convertToNoDocument(ke.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Me())}isEqual(e){return this.batchId===e.batchId&&Ws(this.mutations,e.mutations,((n,s)=>dm(n,s)))&&Ws(this.baseMutations,e.baseMutations,((n,s)=>dm(n,s)))}}class Xh{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let a=(function(){return nw})();const c=e.mutations;for(let d=0;d<c.length;d++)a=a.insert(c[d].key,s[d].version);return new Xh(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Fe;function yw(i){switch(i){case G.OK:return _e(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return _e(15467,{code:i})}}function sy(i){if(i===void 0)return Nr("GRPC error has no .code"),G.UNKNOWN;switch(i){case _t.OK:return G.OK;case _t.CANCELLED:return G.CANCELLED;case _t.UNKNOWN:return G.UNKNOWN;case _t.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case _t.INTERNAL:return G.INTERNAL;case _t.UNAVAILABLE:return G.UNAVAILABLE;case _t.UNAUTHENTICATED:return G.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case _t.NOT_FOUND:return G.NOT_FOUND;case _t.ALREADY_EXISTS:return G.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return G.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case _t.ABORTED:return G.ABORTED;case _t.OUT_OF_RANGE:return G.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return G.UNIMPLEMENTED;case _t.DATA_LOSS:return G.DATA_LOSS;default:return _e(39323,{code:i})}}(Fe=_t||(_t={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=new oi([4294967295,4294967295],0);function mm(i){const e=Cg().encode(i),n=new wg;return n.update(e),new Uint8Array(n.digest())}function gm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new oi([n,s],0),new oi([a,c],0)]}class Yh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Xo(`Invalid padding: ${n}`);if(s<0)throw new Xo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Xo(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=oi.fromNumber(this.fe)}pe(e,n,s){let a=e.add(n.multiply(oi.fromNumber(s)));return a.compare(vw)===1&&(a=new oi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=mm(e),[s,a]=gm(n);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,a,c);if(!this.ye(d))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Yh(c,a,n);return s.forEach((m=>d.insert(m))),d}insert(e){if(this.fe===0)return;const n=mm(e),[s,a]=gm(n);for(let c=0;c<this.hashCount;c++){const d=this.pe(s,a,c);this.we(d)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Xo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,va.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Tu(ke.min(),a,new ut(Pe),Vr(),Me())}}class va{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new va(s,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n,s,a){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=a}}class oy{constructor(e,n){this.targetId=e,this.De=n}}class ay{constructor(e,n,s=jt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class ym{constructor(){this.ve=0,this.Ce=vm(),this.Fe=jt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Me(),n=Me(),s=Me();return this.Ce.forEach(((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:_e(38017,{changeType:c})}})),new va(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=vm()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class _w{constructor(e){this.We=e,this.Ge=new Map,this.ze=Vr(),this.je=Fl(),this.Je=Fl(),this.He=new ut(Pe)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,(n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach(((s,a)=>{this.nt(a)&&n(a)}))}it(e){const n=e.targetId,s=e.De.count,a=this.st(n);if(a){const c=a.target;if(Eh(c))if(s===0){const d=new ye(c.path);this.Xe(n,d,Wt.newNoDocument(d,ke.min()))}else Ge(s===1,20013,{expectedCount:s});else{const d=this.ot(n);if(d!==s){const m=this._t(e),v=m?this.ut(m,e,d):1;if(v!==0){this.rt(n);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,_)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let d,m;try{d=hi(s).toUint8Array()}catch(v){if(v instanceof Vg)return li("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{m=new Yh(d,a,c)}catch(v){return li(v instanceof Xo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return m.fe===0?null:m}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let a=0;return s.forEach((c=>{const d=this.We.lt(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,c,null),a++)})),a}Pt(e){const n=new Map;this.Ge.forEach(((c,d)=>{const m=this.st(d);if(m){if(c.current&&Eh(m.target)){const v=new ye(m.target.path);this.Tt(v).has(d)||this.It(d,v)||this.Xe(d,v,Wt.newNoDocument(v,e))}c.Ne&&(n.set(d,c.Le()),c.ke())}}));let s=Me();this.Je.forEach(((c,d)=>{let m=!0;d.forEachWhile((v=>{const _=this.st(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(c))})),this.ze.forEach(((c,d)=>d.setReadTime(e)));const a=new Tu(e,n,this.He,this.ze,s);return this.ze=Vr(),this.je=Fl(),this.Je=Fl(),this.He=new ut(Pe),a}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const a=this.tt(e);this.It(e,n)?a.qe(n,1):a.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new ym,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new It(Pe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new It(Pe),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new ym),this.We.getRemoteKeysForTarget(e).forEach((n=>{this.Xe(e,n,null)}))}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function Fl(){return new ut(ye.comparator)}function vm(){return new ut(ye.comparator)}const ww={asc:"ASCENDING",desc:"DESCENDING"},Ew={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tw={and:"AND",or:"OR"};class xw{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xh(i,e){return i.useProto3Json||mu(e)?e:{value:e}}function ou(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ly(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Sw(i,e){return ou(i,e.toTimestamp())}function ur(i){return Ge(!!i,49232),ke.fromTimestamp((function(n){const s=ci(n);return new rt(s.seconds,s.nanos)})(i))}function Jh(i,e){return Sh(i,e).canonicalString()}function Sh(i,e){const n=(function(a){return new lt(["projects",a.projectId,"databases",a.database])})(i).child("documents");return e===void 0?n:n.child(e)}function uy(i){const e=lt.fromString(i);return Ge(py(e),10190,{key:e.toString()}),e}function Ih(i,e){return Jh(i.databaseId,e.path)}function ah(i,e){const n=uy(e);if(n.get(1)!==i.databaseId.projectId)throw new he(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new he(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(hy(n))}function cy(i,e){return Jh(i.databaseId,e)}function Iw(i){const e=uy(i);return e.length===4?lt.emptyPath():hy(e)}function kh(i){return new lt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function hy(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function _m(i,e,n){return{name:Ih(i,e),fields:n.value.mapValue.fields}}function kw(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_e(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(Ge(S===void 0||typeof S=="string",58123),jt.fromBase64String(S||"")):(Ge(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),jt.fromUint8Array(S||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&(function(_){const S=_.code===void 0?G.UNKNOWN:sy(_.code);return new he(S,_.message||"")})(d);n=new ay(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=ah(i,s.document.name),c=ur(s.document.updateTime),d=s.document.createTime?ur(s.document.createTime):ke.min(),m=new Rn({mapValue:{fields:s.document.fields}}),v=Wt.newFoundDocument(a,c,d,m),_=s.targetIds||[],S=s.removedTargetIds||[];n=new ql(_,S,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=ah(i,s.document),c=s.readTime?ur(s.readTime):ke.min(),d=Wt.newNoDocument(a,c),m=s.removedTargetIds||[];n=new ql([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=ah(i,s.document),c=s.removedTargetIds||[];n=new ql([],c,a,null)}else{if(!("filter"in e))return _e(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,d=new gw(a,c),m=s.targetId;n=new oy(m,d)}}return n}function Aw(i,e){let n;if(e instanceof ya)n={update:_m(i,e.key,e.value)};else if(e instanceof iy)n={delete:Ih(i,e.key)};else if(e instanceof Xi)n={update:_m(i,e.key,e.data),updateMask:Lw(e.fieldMask)};else{if(!(e instanceof fw))return _e(16599,{Rt:e.type});n={verify:Ih(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(c,d){const m=d.transform;if(m instanceof iu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof da)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof fa)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof su)return{fieldPath:d.field.canonicalString(),increment:m.Ee};throw _e(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,c){return c.updateTime!==void 0?{updateTime:Sw(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_e(27497)})(i,e.precondition)),n}function Cw(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map((n=>(function(a,c){let d=a.updateTime?ur(a.updateTime):ur(c);return d.isEqual(ke.min())&&(d=ur(c)),new cw(d,a.transformResults||[])})(n,e)))):[]}function Rw(i,e){return{documents:[cy(i,e.path)]}}function Pw(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=cy(i,a);const c=(function(_){if(_.length!==0)return fy(fr.create(_,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(N){return{field:Bs(N.field),direction:bw(N.dir)}})(S)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=xh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{Vt:n,parent:a}}function Nw(i){let e=Iw(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Ge(s===1,65062);const S=n.from[0];S.allDescendants?a=S.collectionId:e=e.child(S.collectionId)}let c=[];n.where&&(c=(function(R){const N=dy(R);return N instanceof fr&&Bg(N)?N.getFilters():[N]})(n.where));let d=[];n.orderBy&&(d=(function(R){return R.map((N=>(function(K){return new ru($s(K.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(K.direction))})(N)))})(n.orderBy));let m=null;n.limit&&(m=(function(R){let N;return N=typeof R=="object"?R.value:R,mu(N)?null:N})(n.limit));let v=null;n.startAt&&(v=(function(R){const N=!!R.before,U=R.values||[];return new nu(U,N)})(n.startAt));let _=null;return n.endAt&&(_=(function(R){const N=!R.before,U=R.values||[];return new nu(U,N)})(n.endAt)),X_(e,a,d,c,m,"F",v,_)}function Vw(i,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function dy(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=$s(n.unaryFilter.field);return St.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=$s(n.unaryFilter.field);return St.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=$s(n.unaryFilter.field);return St.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=$s(n.unaryFilter.field);return St.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(i):i.fieldFilter!==void 0?(function(n){return St.create($s(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return fr.create(n.compositeFilter.filters.map((s=>dy(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(i):_e(30097,{filter:i})}function bw(i){return ww[i]}function Dw(i){return Ew[i]}function Mw(i){return Tw[i]}function Bs(i){return{fieldPath:i.canonicalString()}}function $s(i){return Ot.fromServerFormat(i.fieldPath)}function fy(i){return i instanceof St?(function(n){if(n.op==="=="){if(om(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NAN"}};if(sm(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(om(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NAN"}};if(sm(n.value))return{unaryFilter:{field:Bs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bs(n.field),op:Dw(n.op),value:n.value}}})(i):i instanceof fr?(function(n){const s=n.getFilters().map((a=>fy(a)));return s.length===1?s[0]:{compositeFilter:{op:Mw(n.op),filters:s}}})(i):_e(54877,{filter:i})}function Lw(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function py(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n,s,a,c=ke.min(),d=ke.min(),m=jt.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=v}withSequenceNumber(e){return new ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e){this.gt=e}}function jw(i){const e=Nw({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Th(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(){this.Dn=new zw}addToCollectionParentIndex(e,n){return this.Dn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(ui.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(ui.min())}updateCollectionGroup(e,n,s){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class zw{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new It(lt.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new It(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},my=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(my,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ks(0)}static ur(){return new Ks(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="LruGarbageCollector",Uw=1048576;function Tm([i,e],[n,s]){const a=Pe(i,n);return a===0?Pe(e,s):a}class Bw{constructor(e){this.Tr=e,this.buffer=new It(Tm),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Tm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $w{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ie(Em,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){eo(n)?ie(Em,"Ignoring IndexedDB error during garbage collection: ",n):await Zs(n)}await this.Rr(3e5)}))}}class Hw{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return $.resolve(pu.ue);const s=new Bw(n);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.gr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(wm)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wm):this.pr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,a,c,d,m,v,_;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),a=this.params.maximumSequenceNumbersToCollect):a=R,d=Date.now(),this.nthSequenceNumber(e,a)))).next((R=>(s=R,m=Date.now(),this.removeTargets(e,s,n)))).next((R=>(c=R,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((R=>(_=Date.now(),zs()<=ze.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${a} in `+(m-d)+`ms
	Removed ${c} targets in `+(v-m)+`ms
	Removed ${R} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:R}))))}}function qw(i,e){return new Hw(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this.changes=new Ki((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&na(s.mutation,a,Qn.empty(),rt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Me()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Me()){const a=$i();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((c=>{let d=Ko();return c.forEach(((m,v)=>{d=d.insert(m,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const s=$i();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Me())))}populateOverlays(e,n,s){const a=[];return s.forEach((c=>{n.has(c)||a.push(c)})),this.documentOverlayCache.getOverlays(e,a).next((c=>{c.forEach(((d,m)=>{n.set(d,m)}))}))}computeViews(e,n,s,a){let c=Vr();const d=ta(),m=(function(){return ta()})();return n.forEach(((v,_)=>{const S=s.get(_.key);a.has(_.key)&&(S===void 0||S.mutation instanceof Xi)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),na(S.mutation,_,S.mutation.getFieldMask(),rt.now())):d.set(_.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,c).next((v=>(v.forEach(((_,S)=>d.set(_,S))),n.forEach(((_,S)=>{var R;return m.set(_,new Gw(S,(R=d.get(_))!==null&&R!==void 0?R:null))})),m)))}recalculateAndSaveOverlays(e,n){const s=ta();let a=new ut(((d,m)=>d-m)),c=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const m of d)m.keys().forEach((v=>{const _=n.get(v);if(_===null)return;let S=s.get(v)||Qn.empty();S=m.applyToLocalView(_,S),s.set(v,S);const R=(a.get(m.batchId)||Me()).add(v);a=a.insert(m.batchId,R)}))})).next((()=>{const d=[],m=a.getReverseIterator();for(;m.hasNext();){const v=m.getNext(),_=v.key,S=v.value,R=Xg();S.forEach((N=>{if(!c.has(N)){const U=ny(n.get(N),s.get(N));U!==null&&R.set(N,U),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,R))}return $.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Y_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((c=>{const d=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):$.resolve($i());let m=la,v=c;return d.next((_=>$.forEach(_,((S,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),c.get(S)?$.resolve():this.remoteDocumentCache.getEntry(e,S).next((N=>{v=v.insert(S,N)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,v,_,Me()))).next((S=>({batchId:m,changes:Kg(S)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let a=Ko();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let d=Ko();return this.indexManager.getCollectionParents(e,c).next((m=>$.forEach(m,(v=>{const _=(function(R,N){return new yu(N,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(n,v.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,s,a).next((S=>{S.forEach(((R,N)=>{d=d.insert(R,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a)))).next((d=>{c.forEach(((v,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,Wt.newInvalidDocument(S)))}));let m=Ko();return d.forEach(((v,_)=>{const S=c.get(v);S!==void 0&&na(S.mutation,_,Qn.empty(),rt.now()),_u(n,_)&&(m=m.insert(v,_))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return $.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:ur(a.createTime)}})(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(a){return{name:a.name,query:jw(a.bundledQuery),readTime:ur(a.readTime)}})(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.overlays=new ut(ye.comparator),this.kr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const s=$i();return $.forEach(n,(a=>this.getOverlay(e,a).next((c=>{c!==null&&s.set(a,c)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,c)=>{this.wt(e,n,c)})),$.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.kr.get(s);return a!==void 0&&(a.forEach((c=>this.overlays=this.overlays.remove(c))),this.kr.delete(s)),$.resolve()}getOverlaysForCollection(e,n,s){const a=$i(),c=n.length+1,d=new ye(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const v=m.getNext().value,_=v.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&v.largestBatchId>s&&a.set(v.getKey(),v)}return $.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new ut(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let S=c.get(_.largestBatchId);S===null&&(S=$i(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const m=$i(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,S)=>m.set(_,S))),!(m.size()>=a)););return $.resolve(m)}wt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const d=this.kr.get(a.largestBatchId).delete(s.key);this.kr.set(a.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new mw(n,s));let c=this.kr.get(n);c===void 0&&(c=Me(),this.kr.set(n,c)),this.kr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(){this.qr=new It(Pt.Qr),this.$r=new It(Pt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new Pt(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Pt(e,n))}Gr(e,n){e.forEach((s=>this.removeReference(s,n)))}zr(e){const n=new ye(new lt([])),s=new Pt(n,e),a=new Pt(n,e+1),c=[];return this.$r.forEachInRange([s,a],(d=>{this.Wr(d),c.push(d.key)})),c}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ye(new lt([])),s=new Pt(n,e),a=new Pt(n,e+1);let c=Me();return this.$r.forEachInRange([s,a],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new Pt(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Pt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ye.comparator(e.key,n.key)||Pe(e.Hr,n.Hr)}static Ur(e,n){return Pe(e.Hr,n.Hr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new It(Pt.Qr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new pw(c,n,s,a);this.mutationQueue.push(d);for(const m of a)this.Yr=this.Yr.add(new Pt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return $.resolve(d)}lookupMutationBatch(e,n){return $.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Xr(s),c=a<0?0:a;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?$h:this.er-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Pt(n,0),a=new Pt(n,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([s,a],(d=>{const m=this.Zr(d.Hr);c.push(m)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new It(Pe);return n.forEach((a=>{const c=new Pt(a,0),d=new Pt(a,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,d],(m=>{s=s.add(m.Hr)}))})),$.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;ye.isDocumentKey(c)||(c=c.child(""));const d=new Pt(new ye(c),0);let m=new It(Pe);return this.Yr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===a&&(m=m.add(v.Hr)),!0)}),d),$.resolve(this.ei(m))}ei(e){const n=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Ge(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return $.forEach(n.mutations,(a=>{const c=new Pt(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Yr=s}))}rr(e){}containsKey(e,n){const s=new Pt(n,0),a=this.Yr.firstAfterOrEqual(s);return $.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e){this.ni=e,this.docs=(function(){return new ut(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,d=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=Vr();return n.forEach((a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Wt.newInvalidDocument(a))})),$.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=Vr();const d=n.path,m=new ye(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(m);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||C_(A_(S),s)<=0||(a.has(S.key)||_u(n,S))&&(c=c.insert(S.key,S.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(e,n,s,a){_e(9500)}ri(e,n){return $.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new eE(this)}getSize(e){return $.resolve(this.size)}}class eE extends Ww{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Or.addEntry(e,a)):this.Or.removeEntry(s)})),$.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e){this.persistence=e,this.ii=new Ki((n=>Wh(n)),Gh),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.si=0,this.oi=new Zh,this.targetCount=0,this._i=Ks.ar()}forEachTarget(e,n){return this.ii.forEach(((s,a)=>n(a))),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),$.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Ks(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.hr(n),$.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.ii.forEach(((d,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)})),$.waitFor(c).next((()=>a))}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return $.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),$.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach((d=>{c.push(a.markPotentiallyOrphaned(e,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return $.resolve(s)}containsKey(e,n){return $.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n){this.ai={},this.overlays={},this.ui=new pu(0),this.ci=!1,this.ci=!0,this.li=new Yw,this.referenceDelegate=e(this),this.hi=new tE(this),this.indexManager=new Fw,this.remoteDocumentCache=(function(a){return new Zw(a)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new Ow(n),this.Ti=new Kw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Xw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new Jw(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){ie("MemoryPersistence","Starting transaction:",e);const a=new nE(this.ui.next());return this.referenceDelegate.Ii(),s(a).next((c=>this.referenceDelegate.di(a).next((()=>c)))).toPromise().then((c=>(a.raiseOnCommittedEvent(),c)))}Ei(e,n){return $.or(Object.values(this.ai).map((s=>()=>s.containsKey(e,n))))}}class nE extends P_{constructor(e){super(),this.currentSequenceNumber=e}}class ed{constructor(e){this.persistence=e,this.Ai=new Zh,this.Ri=null}static Vi(e){return new ed(e)}get mi(){if(this.Ri)return this.Ri;throw _e(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),$.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach((a=>this.mi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((c=>this.mi.add(c.toString())))})).next((()=>s.removeTargetData(e,n)))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.mi,(s=>{const a=ye.fromPath(s);return this.fi(e,a).next((c=>{c||n.removeEntry(a,ke.min())}))})).next((()=>(this.Ri=null,n.apply(e))))}updateLimboDocument(e,n){return this.fi(e,n).next((s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())}))}Pi(e){return 0}fi(e,n){return $.or([()=>$.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class au{constructor(e,n){this.persistence=e,this.gi=new Ki((s=>b_(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=qw(this,n)}static Vi(e,n){return new au(e,n)}Ii(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}yr(e){let n=0;return this.gr(e,(s=>{n++})).next((()=>n))}gr(e,n){return $.forEach(this.gi,((s,a)=>this.Sr(e,s,a).next((c=>c?$.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.ri(e,(d=>this.Sr(e,d,n).next((m=>{m||(s++,c.removeEntry(d,ke.min()))})))).next((()=>c.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),$.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),$.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Bl(e.data.value)),n}Sr(e,n,s){return $.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.gi.get(n);return $.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=a}static Es(e,n){let s=Me(),a=Me();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new td(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return Yv()?8:N_(Kv())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.ps(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ys(e,n,a,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new rE;return this.ws(e,n,d).next((m=>{if(c.result=m,this.Rs)return this.Ss(e,n,d,m.size)}))})).next((()=>c.result))}Ss(e,n,s,a){return s.documentReadCount<this.Vs?(zs()<=ze.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Us(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(zs()<=ze.DEBUG&&ie("QueryEngine","Query:",Us(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.fs*a?(zs()<=ze.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Us(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,lr(n))):$.resolve())}ps(e,n){if(cm(n))return $.resolve(null);let s=lr(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Th(n,null,"F"),s=lr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((c=>{const d=Me(...c);return this.gs.getDocuments(e,d).next((m=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.bs(n,m);return this.Ds(n,_,d,v.readTime)?this.ps(e,Th(n,null,"F")):this.vs(e,_,n,v)}))))})))))}ys(e,n,s,a){return cm(n)||a.isEqual(ke.min())?$.resolve(null):this.gs.getDocuments(e,s).next((c=>{const d=this.bs(n,c);return this.Ds(n,d,s,a)?$.resolve(null):(zs()<=ze.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Us(n)),this.vs(e,d,n,k_(a,la)).next((m=>m)))}))}bs(e,n){let s=new It(Gg(e));return n.forEach(((a,c)=>{_u(e,c)&&(s=s.add(c))})),s}Ds(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ws(e,n,s){return zs()<=ze.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Us(n)),this.gs.getDocumentsMatchingQuery(e,n,ui.min(),s)}vs(e,n,s,a){return this.gs.getDocumentsMatchingQuery(e,s,a).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="LocalStore",sE=3e8;class oE{constructor(e,n,s,a){this.persistence=e,this.Cs=n,this.serializer=a,this.Fs=new ut(Pe),this.Ms=new Ki((c=>Wh(c)),Gh),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qw(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Fs)))}}function aE(i,e,n,s){return new oE(i,e,n,s)}async function yy(i,e){const n=Ae(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((c=>(a=c,n.Ns(e),n.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],m=[];let v=Me();for(const _ of a){d.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of c){m.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return n.localDocuments.getDocuments(s,v).next((_=>({Bs:_,removedBatchIds:d,addedBatchIds:m})))}))}))}function lE(i,e){const n=Ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),c=n.Os.newChangeBuffer({trackRemovals:!0});return(function(m,v,_,S){const R=_.batch,N=R.keys();let U=$.resolve();return N.forEach((K=>{U=U.next((()=>S.getEntry(v,K))).next((Y=>{const q=_.docVersions.get(K);Ge(q!==null,48541),Y.version.compareTo(q)<0&&(R.applyToRemoteDocument(Y,_),Y.isValidDocument()&&(Y.setReadTime(_.commitVersion),S.addEntry(Y)))}))})),U.next((()=>m.mutationQueue.removeMutationBatch(v,R)))})(n,s,e,c).next((()=>c.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let v=Me();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(v=v.add(m.batch.mutations[_].key));return v})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function vy(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.hi.getLastRemoteSnapshotVersion(n)))}function uE(i,e){const n=Ae(i),s=e.snapshotVersion;let a=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Os.newChangeBuffer({trackRemovals:!0});a=n.Fs;const m=[];e.targetChanges.forEach(((S,R)=>{const N=a.get(R);if(!N)return;m.push(n.hi.removeMatchingKeys(c,S.removedDocuments,R).next((()=>n.hi.addMatchingKeys(c,S.addedDocuments,R))));let U=N.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(R)!==null?U=U.withResumeToken(jt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):S.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(S.resumeToken,s)),a=a.insert(R,U),(function(Y,q,Ee){return Y.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=sE?!0:Ee.addedDocuments.size+Ee.modifiedDocuments.size+Ee.removedDocuments.size>0})(N,U,S)&&m.push(n.hi.updateTargetData(c,U))}));let v=Vr(),_=Me();if(e.documentUpdates.forEach((S=>{e.resolvedLimboDocuments.has(S)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,S))})),m.push(cE(c,d,e.documentUpdates).next((S=>{v=S.Ls,_=S.ks}))),!s.isEqual(ke.min())){const S=n.hi.getLastRemoteSnapshotVersion(c).next((R=>n.hi.setTargetsMetadata(c,c.currentSequenceNumber,s)));m.push(S)}return $.waitFor(m).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,v,_))).next((()=>v))})).then((c=>(n.Fs=a,c)))}function cE(i,e,n){let s=Me(),a=Me();return n.forEach((c=>s=s.add(c))),e.getEntries(i,s).next((c=>{let d=Vr();return n.forEach(((m,v)=>{const _=c.get(m);v.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(m)),v.isNoDocument()&&v.version.isEqual(ke.min())?(e.removeEntry(m,v.readTime),d=d.insert(m,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(m,v)):ie(nd,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",v.version)})),{Ls:d,ks:a}}))}function hE(i,e){const n=Ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=$h),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function dE(i,e){const n=Ae(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.hi.getTargetData(s,e).next((c=>c?(a=c,$.resolve(a)):n.hi.allocateTargetId(s).next((d=>(a=new ri(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Fs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s}))}async function Ah(i,e,n){const s=Ae(i),a=s.Fs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,a)))}catch(d){if(!eo(d))throw d;ie(nd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(a.target)}function xm(i,e,n){const s=Ae(i);let a=ke.min(),c=Me();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,S){const R=Ae(v),N=R.Ms.get(S);return N!==void 0?$.resolve(R.Fs.get(N)):R.hi.getTargetData(_,S)})(s,d,lr(e)).next((m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(d,m.targetId).next((v=>{c=v}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,e,n?a:ke.min(),n?c:Me()))).next((m=>(fE(s,Z_(e),m),{documents:m,qs:c})))))}function fE(i,e,n){let s=i.xs.get(e)||ke.min();n.forEach(((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),i.xs.set(e,s)}class Sm{constructor(){this.activeTargetIds=sw()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pE{constructor(){this.Fo=new Sm,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Sm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="ConnectivityMonitor";class km{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ie(Im,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ie(Im,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl=null;function Ch(){return zl===null?zl=(function(){return 268435456+Math.round(2147483648*Math.random())})():zl++,"0x"+zl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh="RestConnection",gE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yE{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.Ko=this.databaseId.database===eu?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,n,s,a,c){const d=Ch(),m=this.Go(e,n.toUriEncodedString());ie(lh,`Sending RPC '${e}' ${d}:`,m,s);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(v,a,c);const{host:_}=new URL(m),S=jh(_);return this.jo(e,m,v,s,S).then((R=>(ie(lh,`Received RPC '${e}' ${d}: `,R),R)),(R=>{throw li(lh,`RPC '${e}' ${d} failed with error: `,R,"url: ",m,"request:",s),R}))}Jo(e,n,s,a,c,d){return this.Wo(e,n,s,a,c)}zo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Js})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,c)=>e[c]=a)),s&&s.headers.forEach(((a,c)=>e[c]=a))}Go(e,n){const s=gE[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class _E extends yE{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,a,c){const d=Ch();return new Promise(((m,v)=>{const _=new Eg;_.setWithCredentials(!0),_.listenOnce(Tg.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Ul.NO_ERROR:const R=_.getResponseJson();ie(Ht,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(R)),m(R);break;case Ul.TIMEOUT:ie(Ht,`RPC '${e}' ${d} timed out`),v(new he(G.DEADLINE_EXCEEDED,"Request time out"));break;case Ul.HTTP_ERROR:const N=_.getStatus();if(ie(Ht,`RPC '${e}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let U=_.getResponseJson();Array.isArray(U)&&(U=U[0]);const K=U==null?void 0:U.error;if(K&&K.status&&K.message){const Y=(function(Ee){const pe=Ee.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(pe)>=0?pe:G.UNKNOWN})(K.status);v(new he(Y,K.message))}else v(new he(G.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new he(G.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{c_:e,streamId:d,l_:_.getLastErrorCode(),h_:_.getLastError()})}}finally{ie(Ht,`RPC '${e}' ${d} completed.`)}}));const S=JSON.stringify(a);ie(Ht,`RPC '${e}' ${d} sending request:`,a),_.send(n,"POST",S,s,15)}))}P_(e,n,s){const a=Ch(),c=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Ig(),m=Sg(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.zo(v.initMessageHeaders,n,s),v.encodeInitMessageHeaders=!0;const S=c.join("");ie(Ht,`Creating RPC '${e}' stream ${a}: ${S}`,v);const R=d.createWebChannel(S,v);this.T_(R);let N=!1,U=!1;const K=new vE({Ho:q=>{U?ie(Ht,`Not sending because RPC '${e}' stream ${a} is closed:`,q):(N||(ie(Ht,`Opening RPC '${e}' stream ${a} transport.`),R.open(),N=!0),ie(Ht,`RPC '${e}' stream ${a} sending:`,q),R.send(q))},Yo:()=>R.close()}),Y=(q,Ee,pe)=>{q.listen(Ee,(de=>{try{pe(de)}catch(Se){setTimeout((()=>{throw Se}),0)}}))};return Y(R,Qo.EventType.OPEN,(()=>{U||(ie(Ht,`RPC '${e}' stream ${a} transport opened.`),K.s_())})),Y(R,Qo.EventType.CLOSE,(()=>{U||(U=!0,ie(Ht,`RPC '${e}' stream ${a} transport closed`),K.__(),this.I_(R))})),Y(R,Qo.EventType.ERROR,(q=>{U||(U=!0,li(Ht,`RPC '${e}' stream ${a} transport errored. Name:`,q.name,"Message:",q.message),K.__(new he(G.UNAVAILABLE,"The operation could not be completed")))})),Y(R,Qo.EventType.MESSAGE,(q=>{var Ee;if(!U){const pe=q.data[0];Ge(!!pe,16349);const de=pe,Se=(de==null?void 0:de.error)||((Ee=de[0])===null||Ee===void 0?void 0:Ee.error);if(Se){ie(Ht,`RPC '${e}' stream ${a} received error:`,Se);const Be=Se.status;let Ce=(function(k){const C=_t[k];if(C!==void 0)return sy(C)})(Be),V=Se.message;Ce===void 0&&(Ce=G.INTERNAL,V="Unknown error status: "+Be+" with message "+Se.message),U=!0,K.__(new he(Ce,V)),R.close()}else ie(Ht,`RPC '${e}' stream ${a} received:`,pe),K.a_(pe)}})),Y(m,xg.STAT_EVENT,(q=>{q.stat===gh.PROXY?ie(Ht,`RPC '${e}' stream ${a} detected buffering proxy`):q.stat===gh.NOPROXY&&ie(Ht,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{K.o_()}),0),K}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((n=>n===e))}}function uh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(i){return new xw(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n,s=1e3,a=1.5,c=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=a,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),a=Math.max(0,n-s);a>0&&ie("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,a,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="PersistentStream";class wy{constructor(e,n,s,a,c,d,m,v){this.Fi=e,this.w_=s,this.S_=a,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=v,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new _y(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(Nr(n.toString()),Nr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.b_===n&&this.W_(s,a)}),(s=>{e((()=>{const a=new he(G.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(a)}))}))}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((a=>{s((()=>this.G_(a)))})),this.stream.onMessage((a=>{s((()=>++this.C_==1?this.j_(a):this.onNext(a)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return ie(Am,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget((()=>this.b_===e?n():(ie(Am,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class wE extends wy{constructor(e,n,s,a,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,d),this.serializer=c}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=kw(this.serializer,e),s=(function(c){if(!("targetChange"in c))return ke.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?ke.min():d.readTime?ur(d.readTime):ke.min()})(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=kh(this.serializer),n.addTarget=(function(c,d){let m;const v=d.target;if(m=Eh(v)?{documents:Rw(c,v)}:{query:Pw(c,v).Vt},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=ly(c,d.resumeToken);const _=xh(c,d.expectedCount);_!==null&&(m.expectedCount=_)}else if(d.snapshotVersion.compareTo(ke.min())>0){m.readTime=ou(c,d.snapshotVersion.toTimestamp());const _=xh(c,d.expectedCount);_!==null&&(m.expectedCount=_)}return m})(this.serializer,e);const s=Vw(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=kh(this.serializer),n.removeTarget=e,this.k_(n)}}class EE extends wy{constructor(e,n,s,a,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,d),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=Cw(e.writeResults,e.commitTime),s=ur(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=kh(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Aw(this.serializer,s)))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{}class xE extends TE{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ra=!1}ia(){if(this.ra)throw new he(G.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,a){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Wo(e,Sh(n,s),a,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(G.UNKNOWN,c.toString())}))}Jo(e,n,s,a,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,m])=>this.connection.Jo(e,Sh(n,s),a,d,m,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(G.UNKNOWN,d.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class SE{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Nr(n),this._a=!1):ie("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gi="RemoteStore";class IE{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo((d=>{s.enqueueAndForget((async()=>{Yi(this)&&(ie(Gi,"Restarting streams for network reachability change."),await(async function(v){const _=Ae(v);_.Ia.add(4),await _a(_),_.Aa.set("Unknown"),_.Ia.delete(4),await Su(_)})(this))}))})),this.Aa=new SE(s,a)}}async function Su(i){if(Yi(i))for(const e of i.da)await e(!0)}async function _a(i){for(const e of i.da)await e(!1)}function Ey(i,e){const n=Ae(i);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),od(n)?sd(n):to(n).x_()&&id(n,e))}function rd(i,e){const n=Ae(i),s=to(n);n.Ta.delete(e),s.x_()&&Ty(n,e),n.Ta.size===0&&(s.x_()?s.B_():Yi(n)&&n.Aa.set("Unknown"))}function id(i,e){if(i.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}to(i).H_(e)}function Ty(i,e){i.Ra.$e(e),to(i).Y_(e)}function sd(i){i.Ra=new _w({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Ta.get(e)||null,lt:()=>i.datastore.serializer.databaseId}),to(i).start(),i.Aa.aa()}function od(i){return Yi(i)&&!to(i).M_()&&i.Ta.size>0}function Yi(i){return Ae(i).Ia.size===0}function xy(i){i.Ra=void 0}async function kE(i){i.Aa.set("Online")}async function AE(i){i.Ta.forEach(((e,n)=>{id(i,e)}))}async function CE(i,e){xy(i),od(i)?(i.Aa.la(e),sd(i)):i.Aa.set("Unknown")}async function RE(i,e,n){if(i.Aa.set("Online"),e instanceof ay&&e.state===2&&e.cause)try{await(async function(a,c){const d=c.cause;for(const m of c.targetIds)a.Ta.has(m)&&(await a.remoteSyncer.rejectListen(m,d),a.Ta.delete(m),a.Ra.removeTarget(m))})(i,e)}catch(s){ie(Gi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await lu(i,s)}else if(e instanceof ql?i.Ra.Ye(e):e instanceof oy?i.Ra.it(e):i.Ra.et(e),!n.isEqual(ke.min()))try{const s=await vy(i.localStore);n.compareTo(s)>=0&&await(function(c,d){const m=c.Ra.Pt(d);return m.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=c.Ta.get(_);S&&c.Ta.set(_,S.withResumeToken(v.resumeToken,d))}})),m.targetMismatches.forEach(((v,_)=>{const S=c.Ta.get(v);if(!S)return;c.Ta.set(v,S.withResumeToken(jt.EMPTY_BYTE_STRING,S.snapshotVersion)),Ty(c,v);const R=new ri(S.target,v,_,S.sequenceNumber);id(c,R)})),c.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){ie(Gi,"Failed to raise snapshot:",s),await lu(i,s)}}async function lu(i,e,n){if(!eo(e))throw e;i.Ia.add(1),await _a(i),i.Aa.set("Offline"),n||(n=()=>vy(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ie(Gi,"Retrying IndexedDB access"),await n(),i.Ia.delete(1),await Su(i)}))}function Sy(i,e){return e().catch((n=>lu(i,n,e)))}async function Iu(i){const e=Ae(i),n=fi(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:$h;for(;PE(e);)try{const a=await hE(e.localStore,s);if(a===null){e.Pa.length===0&&n.B_();break}s=a.batchId,NE(e,a)}catch(a){await lu(e,a)}Iy(e)&&ky(e)}function PE(i){return Yi(i)&&i.Pa.length<10}function NE(i,e){i.Pa.push(e);const n=fi(i);n.x_()&&n.Z_&&n.X_(e.mutations)}function Iy(i){return Yi(i)&&!fi(i).M_()&&i.Pa.length>0}function ky(i){fi(i).start()}async function VE(i){fi(i).na()}async function bE(i){const e=fi(i);for(const n of i.Pa)e.X_(n.mutations)}async function DE(i,e,n){const s=i.Pa.shift(),a=Xh.from(s,e,n);await Sy(i,(()=>i.remoteSyncer.applySuccessfulWrite(a))),await Iu(i)}async function ME(i,e){e&&fi(i).Z_&&await(async function(s,a){if((function(d){return yw(d)&&d!==G.ABORTED})(a.code)){const c=s.Pa.shift();fi(s).N_(),await Sy(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a))),await Iu(s)}})(i,e),Iy(i)&&ky(i)}async function Cm(i,e){const n=Ae(i);n.asyncQueue.verifyOperationInProgress(),ie(Gi,"RemoteStore received new credentials");const s=Yi(n);n.Ia.add(3),await _a(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Su(n)}async function LE(i,e){const n=Ae(i);e?(n.Ia.delete(2),await Su(n)):e||(n.Ia.add(2),await _a(n),n.Aa.set("Unknown"))}function to(i){return i.Va||(i.Va=(function(n,s,a){const c=Ae(n);return c.ia(),new wE(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(i.datastore,i.asyncQueue,{Zo:kE.bind(null,i),e_:AE.bind(null,i),n_:CE.bind(null,i),J_:RE.bind(null,i)}),i.da.push((async e=>{e?(i.Va.N_(),od(i)?sd(i):i.Aa.set("Unknown")):(await i.Va.stop(),xy(i))}))),i.Va}function fi(i){return i.ma||(i.ma=(function(n,s,a){const c=Ae(n);return c.ia(),new EE(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:VE.bind(null,i),n_:ME.bind(null,i),ea:bE.bind(null,i),ta:DE.bind(null,i)}),i.da.push((async e=>{e?(i.ma.N_(),await Iu(i)):(await i.ma.stop(),i.Pa.length>0&&(ie(Gi,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))}))),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const d=Date.now()+s,m=new ad(e,n,d,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ld(i,e){if(Nr("AsyncQueue",`${e}: ${i}`),eo(i))return new he(G.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{static emptySet(e){return new qs(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Ko(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new qs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(){this.fa=new ut(ye.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):_e(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Xs{constructor(e,n,s,a,c,d,m,v,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,a,c){const d=[];return n.forEach((m=>{d.push({type:0,doc:m})})),new Xs(e,n,qs.emptySet(n),d,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class jE{constructor(){this.queries=Pm(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const a=Ae(n),c=a.queries;a.queries=Pm(),c.forEach(((d,m)=>{for(const v of m.wa)v.onError(s)}))})(this,new he(G.ABORTED,"Firestore shutting down"))}}function Pm(){return new Ki((i=>Wg(i)),vu)}async function FE(i,e){const n=Ae(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Sa()&&e.ba()&&(s=2):(c=new OE,s=e.ba()?0:1);try{switch(s){case 0:c.ya=await n.onListen(a,!0);break;case 1:c.ya=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(d){const m=ld(d,`Initialization of query '${Us(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.wa.push(e),e.va(n.onlineState),c.ya&&e.Ca(c.ya)&&ud(n)}async function zE(i,e){const n=Ae(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const d=c.wa.indexOf(e);d>=0&&(c.wa.splice(d,1),c.wa.length===0?a=e.ba()?0:1:!c.Sa()&&e.ba()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function UE(i,e){const n=Ae(i);let s=!1;for(const a of e){const c=a.query,d=n.queries.get(c);if(d){for(const m of d.wa)m.Ca(a)&&(s=!0);d.ya=a}}s&&ud(n)}function BE(i,e,n){const s=Ae(i),a=s.queries.get(e);if(a)for(const c of a.wa)c.onError(n);s.queries.delete(e)}function ud(i){i.Da.forEach((e=>{e.next()}))}var Rh,Nm;(Nm=Rh||(Rh={})).Fa="default",Nm.Cache="cache";class $E{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Xs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Rh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e){this.key=e}}class Cy{constructor(e){this.key=e}}class HE{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Me(),this.mutatedKeys=Me(),this.Xa=Gg(e),this.eu=new qs(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new Rm,a=n?n.eu:this.eu;let c=n?n.mutatedKeys:this.mutatedKeys,d=a,m=!1;const v=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((S,R)=>{const N=a.get(S),U=_u(this.query,R)?R:null,K=!!N&&this.mutatedKeys.has(N.key),Y=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let q=!1;N&&U?N.data.isEqual(U.data)?K!==Y&&(s.track({type:3,doc:U}),q=!0):this.iu(N,U)||(s.track({type:2,doc:U}),q=!0,(v&&this.Xa(U,v)>0||_&&this.Xa(U,_)<0)&&(m=!0)):!N&&U?(s.track({type:0,doc:U}),q=!0):N&&!U&&(s.track({type:1,doc:N}),q=!0,(v||_)&&(m=!0)),q&&(U?(d=d.add(U),c=Y?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),s.track({type:1,doc:S})}return{eu:d,ru:s,Ds:m,mutatedKeys:c}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const d=e.ru.pa();d.sort(((S,R)=>(function(U,K){const Y=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{At:q})}};return Y(U)-Y(K)})(S.type,R.type)||this.Xa(S.doc,R.doc))),this.su(s),a=a!=null&&a;const m=n&&!a?this.ou():[],v=this.Za.size===0&&this.current&&!a?1:0,_=v!==this.Ya;return this.Ya=v,d.length!==0||_?{snapshot:new Xs(this.query,e.eu,c,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Rm,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((n=>this.Ha=this.Ha.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ha=this.Ha.delete(n))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Me(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const n=[];return e.forEach((s=>{this.Za.has(s)||n.push(new Cy(s))})),this.Za.forEach((s=>{e.has(s)||n.push(new Ay(s))})),n}uu(e){this.Ha=e.qs,this.Za=Me();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Xs.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const cd="SyncEngine";class qE{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class WE{constructor(e){this.key=e,this.lu=!1}}class GE{constructor(e,n,s,a,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.hu={},this.Pu=new Ki((m=>Wg(m)),vu),this.Tu=new Map,this.Iu=new Set,this.du=new ut(ye.comparator),this.Eu=new Map,this.Au=new Zh,this.Ru={},this.Vu=new Map,this.mu=Ks.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function QE(i,e,n=!0){const s=Dy(i);let a;const c=s.Pu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.cu()):a=await Ry(s,e,n,!0),a}async function KE(i,e){const n=Dy(i);await Ry(n,e,!0,!1)}async function Ry(i,e,n,s){const a=await dE(i.localStore,lr(e)),c=a.targetId,d=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await XE(i,e,c,d==="current",a.resumeToken)),i.isPrimaryClient&&n&&Ey(i.remoteStore,a),m}async function XE(i,e,n,s,a){i.gu=(R,N,U)=>(async function(Y,q,Ee,pe){let de=q.view.nu(Ee);de.Ds&&(de=await xm(Y.localStore,q.query,!1).then((({documents:V})=>q.view.nu(V,de))));const Se=pe&&pe.targetChanges.get(q.targetId),Be=pe&&pe.targetMismatches.get(q.targetId)!=null,Ce=q.view.applyChanges(de,Y.isPrimaryClient,Se,Be);return bm(Y,q.targetId,Ce._u),Ce.snapshot})(i,R,N,U);const c=await xm(i.localStore,e,!0),d=new HE(e,c.qs),m=d.nu(c.documents),v=va.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),_=d.applyChanges(m,i.isPrimaryClient,v);bm(i,n,_._u);const S=new qE(e,n,d);return i.Pu.set(e,S),i.Tu.has(n)?i.Tu.get(n).push(e):i.Tu.set(n,[e]),_.snapshot}async function YE(i,e,n){const s=Ae(i),a=s.Pu.get(e),c=s.Tu.get(a.targetId);if(c.length>1)return s.Tu.set(a.targetId,c.filter((d=>!vu(d,e)))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Ah(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&rd(s.remoteStore,a.targetId),Ph(s,a.targetId)})).catch(Zs)):(Ph(s,a.targetId),await Ah(s.localStore,a.targetId,!0))}async function JE(i,e){const n=Ae(i),s=n.Pu.get(e),a=n.Tu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),rd(n.remoteStore,s.targetId))}async function ZE(i,e,n){const s=o2(i);try{const a=await(function(d,m){const v=Ae(d),_=rt.now(),S=m.reduce(((U,K)=>U.add(K.key)),Me());let R,N;return v.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let K=Vr(),Y=Me();return v.Os.getEntries(U,S).next((q=>{K=q,K.forEach(((Ee,pe)=>{pe.isValidDocument()||(Y=Y.add(Ee))}))})).next((()=>v.localDocuments.getOverlayedDocuments(U,K))).next((q=>{R=q;const Ee=[];for(const pe of m){const de=dw(pe,R.get(pe.key).overlayedDocument);de!=null&&Ee.push(new Xi(pe.key,de,Fg(de.value.mapValue),Rr.exists(!0)))}return v.mutationQueue.addMutationBatch(U,_,Ee,m)})).next((q=>{N=q;const Ee=q.applyToLocalDocumentSet(R,Y);return v.documentOverlayCache.saveOverlays(U,q.batchId,Ee)}))})).then((()=>({batchId:N.batchId,changes:Kg(R)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(d,m,v){let _=d.Ru[d.currentUser.toKey()];_||(_=new ut(Pe)),_=_.insert(m,v),d.Ru[d.currentUser.toKey()]=_})(s,a.batchId,n),await wa(s,a.changes),await Iu(s.remoteStore)}catch(a){const c=ld(a,"Failed to persist write");n.reject(c)}}async function Py(i,e){const n=Ae(i);try{const s=await uE(n.localStore,e);e.targetChanges.forEach(((a,c)=>{const d=n.Eu.get(c);d&&(Ge(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?d.lu=!0:a.modifiedDocuments.size>0?Ge(d.lu,14607):a.removedDocuments.size>0&&(Ge(d.lu,42227),d.lu=!1))})),await wa(n,s,e)}catch(s){await Zs(s)}}function Vm(i,e,n){const s=Ae(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Pu.forEach(((c,d)=>{const m=d.view.va(e);m.snapshot&&a.push(m.snapshot)})),(function(d,m){const v=Ae(d);v.onlineState=m;let _=!1;v.queries.forEach(((S,R)=>{for(const N of R.wa)N.va(m)&&(_=!0)})),_&&ud(v)})(s.eventManager,e),a.length&&s.hu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function e2(i,e,n){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Eu.get(e),c=a&&a.key;if(c){let d=new ut(ye.comparator);d=d.insert(c,Wt.newNoDocument(c,ke.min()));const m=Me().add(c),v=new Tu(ke.min(),new Map,new ut(Pe),d,m);await Py(s,v),s.du=s.du.remove(c),s.Eu.delete(e),hd(s)}else await Ah(s.localStore,e,!1).then((()=>Ph(s,e,n))).catch(Zs)}async function t2(i,e){const n=Ae(i),s=e.batch.batchId;try{const a=await lE(n.localStore,e);Vy(n,s,null),Ny(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await wa(n,a)}catch(a){await Zs(a)}}async function n2(i,e,n){const s=Ae(i);try{const a=await(function(d,m){const v=Ae(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return v.mutationQueue.lookupMutationBatch(_,m).next((R=>(Ge(R!==null,37113),S=R.keys(),v.mutationQueue.removeMutationBatch(_,R)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,S,m))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>v.localDocuments.getDocuments(_,S)))}))})(s.localStore,e);Vy(s,e,n),Ny(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await wa(s,a)}catch(a){await Zs(a)}}function Ny(i,e){(i.Vu.get(e)||[]).forEach((n=>{n.resolve()})),i.Vu.delete(e)}function Vy(i,e,n){const s=Ae(i);let a=s.Ru[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.Ru[s.currentUser.toKey()]=a}}function Ph(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Tu.get(e))i.Pu.delete(s),n&&i.hu.pu(s,n);i.Tu.delete(e),i.isPrimaryClient&&i.Au.zr(e).forEach((s=>{i.Au.containsKey(s)||by(i,s)}))}function by(i,e){i.Iu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(rd(i.remoteStore,n),i.du=i.du.remove(e),i.Eu.delete(n),hd(i))}function bm(i,e,n){for(const s of n)s instanceof Ay?(i.Au.addReference(s.key,e),r2(i,s)):s instanceof Cy?(ie(cd,"Document no longer in limbo: "+s.key),i.Au.removeReference(s.key,e),i.Au.containsKey(s.key)||by(i,s.key)):_e(19791,{yu:s})}function r2(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Iu.has(s)||(ie(cd,"New document in limbo: "+n),i.Iu.add(s),hd(i))}function hd(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Iu.values().next().value;i.Iu.delete(e);const n=new ye(lt.fromString(e)),s=i.mu.next();i.Eu.set(s,new WE(n)),i.du=i.du.insert(n,s),Ey(i.remoteStore,new ri(lr(Qh(n.path)),s,"TargetPurposeLimboResolution",pu.ue))}}async function wa(i,e,n){const s=Ae(i),a=[],c=[],d=[];s.Pu.isEmpty()||(s.Pu.forEach(((m,v)=>{d.push(s.gu(v,e,n).then((_=>{var S;if((_||n)&&s.isPrimaryClient){const R=_?!_.fromCache:(S=n==null?void 0:n.targetChanges.get(v.targetId))===null||S===void 0?void 0:S.current;s.sharedClientState.updateQueryState(v.targetId,R?"current":"not-current")}if(_){a.push(_);const R=td.Es(v.targetId,_);c.push(R)}})))})),await Promise.all(d),s.hu.J_(a),await(async function(v,_){const S=Ae(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>$.forEach(_,(N=>$.forEach(N.Is,(U=>S.persistence.referenceDelegate.addReference(R,N.targetId,U))).next((()=>$.forEach(N.ds,(U=>S.persistence.referenceDelegate.removeReference(R,N.targetId,U)))))))))}catch(R){if(!eo(R))throw R;ie(nd,"Failed to update sequence numbers: "+R)}for(const R of _){const N=R.targetId;if(!R.fromCache){const U=S.Fs.get(N),K=U.snapshotVersion,Y=U.withLastLimboFreeSnapshotVersion(K);S.Fs=S.Fs.insert(N,Y)}}})(s.localStore,c))}async function i2(i,e){const n=Ae(i);if(!n.currentUser.isEqual(e)){ie(cd,"User change. New user:",e.toKey());const s=await yy(n.localStore,e);n.currentUser=e,(function(c,d){c.Vu.forEach((m=>{m.forEach((v=>{v.reject(new he(G.CANCELLED,d))}))})),c.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await wa(n,s.Bs)}}function s2(i,e){const n=Ae(i),s=n.Eu.get(e);if(s&&s.lu)return Me().add(s.key);{let a=Me();const c=n.Tu.get(e);if(!c)return a;for(const d of c){const m=n.Pu.get(d);a=a.unionWith(m.view.tu)}return a}}function Dy(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Py.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e2.bind(null,e),e.hu.J_=UE.bind(null,e.eventManager),e.hu.pu=BE.bind(null,e.eventManager),e}function o2(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=t2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=n2.bind(null,e),e}class uu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xu(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return aE(this.persistence,new iE,e.initialUser,this.serializer)}Du(e){return new gy(ed.Vi,this.serializer)}bu(e){return new pE}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uu.provider={build:()=>new uu};class a2 extends uu{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ge(this.persistence.referenceDelegate instanceof au,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new $w(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new gy((s=>au.Vi(s,n)),this.serializer)}}class Nh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Vm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=i2.bind(null,this.syncEngine),await LE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new jE})()}createDatastore(e){const n=xu(e.databaseInfo.databaseId),s=(function(c){return new _E(c)})(e.databaseInfo);return(function(c,d,m,v){return new xE(c,d,m,v)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,c,d,m){return new IE(s,a,c,d,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>Vm(this.syncEngine,n,0)),(function(){return km.C()?new km:new mE})())}createSyncEngine(e,n){return(function(a,c,d,m,v,_,S){const R=new GE(a,c,d,m,v,_);return S&&(R.fu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(a){const c=Ae(a);ie(Gi,"RemoteStore shutting down."),c.Ia.add(5),await _a(c),c.Ea.shutdown(),c.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Nh.provider={build:()=>new Nh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Nr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="FirestoreClient";class u2{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=qt.UNAUTHENTICATED,this.clientId=Uh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{ie(pi,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ie(pi,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ld(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ch(i,e){i.asyncQueue.verifyOperationInProgress(),ie(pi,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async a=>{s.isEqual(a)||(await yy(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>{li("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then((()=>{ie("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((a=>{li("Terminating Firestore due to IndexedDb database deletion failed",a)}))})),i._offlineComponents=e}async function Dm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await c2(i);ie(pi,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>Cm(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,a)=>Cm(e.remoteStore,a))),i._onlineComponents=e}async function c2(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ie(pi,"Using user provided OfflineComponentProvider");try{await ch(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===G.FAILED_PRECONDITION||a.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;li("Error using user provided cache. Falling back to memory cache: "+n),await ch(i,new uu)}}else ie(pi,"Using default OfflineComponentProvider"),await ch(i,new a2(void 0));return i._offlineComponents}async function My(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ie(pi,"Using user provided OnlineComponentProvider"),await Dm(i,i._uninitializedComponentsProvider._online)):(ie(pi,"Using default OnlineComponentProvider"),await Dm(i,new Nh))),i._onlineComponents}function h2(i){return My(i).then((e=>e.syncEngine))}async function d2(i){const e=await My(i),n=e.eventManager;return n.onListen=QE.bind(null,e.syncEngine),n.onUnlisten=YE.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KE.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=JE.bind(null,e.syncEngine),n}function f2(i,e,n={}){const s=new ai;return i.asyncQueue.enqueueAndForget((async()=>(function(c,d,m,v,_){const S=new l2({next:N=>{S.Ou(),d.enqueueAndForget((()=>zE(c,R)));const U=N.docs.has(m);!U&&N.fromCache?_.reject(new he(G.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&N.fromCache&&v&&v.source==="server"?_.reject(new he(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(N)},error:N=>_.reject(N)}),R=new $E(Qh(m.path),S,{includeMetadataChanges:!0,ka:!0});return FE(c,R)})(await d2(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="firestore.googleapis.com",Lm=!0;class Om{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Oy,this.ssl=Lm}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Lm;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=my;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Uw)throw new he(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}I_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ly((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new he(G.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new he(G.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new he(G.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dd{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Om({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Om(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new m_;switch(s.type){case"firstParty":return new __(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Mm.get(n);s&&(ie("ComponentProvider","Removing Datastore"),Mm.delete(n),s.terminate())})(this),Promise.resolve()}}function p2(i,e,n,s={}){var a;i=aa(i,dd);const c=jh(e),d=i._getSettings(),m=Object.assign(Object.assign({},d),{emulatorOptions:i._getEmulatorOptions()}),v=`${e}:${n}`;c&&(Hv(`https://${v}`),Qv("Firestore",!0)),d.host!==Oy&&d.host!==v&&li("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},d),{host:v,ssl:c,emulatorOptions:s});if(!Kl(_,m)&&(i._setSettings(_),s.mockUserToken)){let S,R;if(typeof s.mockUserToken=="string")S=s.mockUserToken,R=qt.MOCK_USER;else{S=qv(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const N=s.mockUserToken.sub||s.mockUserToken.user_id;if(!N)throw new he(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new qt(N)}i._authCredentials=new g_(new Ag(S,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new fd(this.firestore,e,this._query)}}class Nt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ga(n,Nt._jsonSchema))return new Nt(e,s||null,new ye(lt.fromString(n.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:wt("string",Nt._jsonSchemaVersion),referencePath:wt("string")};class pa extends fd{constructor(e,n,s){super(e,n,Qh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new ye(e))}withConverter(e){return new pa(this.firestore,e,this._path)}}function jm(i,e,...n){if(i=Xl(i),arguments.length===1&&(e=Uh.newId()),S_("doc","path",e),i instanceof dd){const s=lt.fromString(e,...n);return Yp(s),new Nt(i,null,new ye(s))}{if(!(i instanceof Nt||i instanceof pa))throw new he(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(lt.fromString(e,...n));return Yp(s),new Nt(i.firestore,i instanceof pa?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="AsyncQueue";class zm{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new _y(this,"async_queue_retry"),this.oc=()=>{const s=uh();s&&ie(Fm,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=uh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=uh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const n=new ai;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!eo(e))throw e;ie(Fm,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const n=this._c.then((()=>(this.nc=!0,e().catch((s=>{throw this.tc=s,this.nc=!1,Nr("INTERNAL UNHANDLED ERROR: ",Um(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const a=ad.createAndSchedule(this,e,n,s,(c=>this.lc(c)));return this.ec.push(a),a}ac(){this.tc&&_e(47125,{hc:Um(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function Um(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class pd extends dd{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new zm,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zm(e),this._firestoreClient=void 0,await e}}}function m2(i,e){const n=typeof i=="object"?i:i_(),s=typeof i=="string"?i:eu,a=Z1(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=Bv("firestore");c&&p2(a,...c)}return a}function jy(i){if(i._terminated)throw new he(G.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||g2(i),i._firestoreClient}function g2(i){var e,n,s;const a=i._freezeSettings(),c=(function(m,v,_,S){return new L_(m,v,_,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,Ly(S.experimentalLongPollingOptions),S.useFetchStreams,S.isUsingEmulator)})(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new u2(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&(function(m){const v=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(v),_online:v}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pn(jt.fromBase64String(e))}catch(n){throw new he(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Pn(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ga(e,Pn._jsonSchema))return Pn.fromBase64String(e.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:wt("string",Pn._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cr._jsonSchemaVersion}}static fromJSON(e){if(ga(e,cr._jsonSchema))return new cr(e.latitude,e.longitude)}}cr._jsonSchemaVersion="firestore/geoPoint/1.0",cr._jsonSchema={type:wt("string",cr._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ga(e,hr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new hr(e.vectorValues);throw new he(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hr._jsonSchemaVersion="firestore/vectorValue/1.0",hr._jsonSchema={type:wt("string",hr._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=/^__.*__$/;class v2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Xi(e,this.data,this.fieldMask,n,this.fieldTransforms):new ya(e,this.data,n,this.fieldTransforms)}}function zy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ec:i})}}class gd{constructor(e,n,s,a,c,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new gd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Rc({path:s,mc:!1});return a.fc(e),a}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Rc({path:s,mc:!1});return a.Ac(),a}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return cu(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(zy(this.Ec)&&y2.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class _2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||xu(e)}Dc(e,n,s,a=!1){return new gd({Ec:e,methodName:n,bc:s,path:Ot.emptyPath(),mc:!1,Sc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function w2(i){const e=i._freezeSettings(),n=xu(i._databaseId);return new _2(i._databaseId,!!e.ignoreUndefinedProperties,n)}function E2(i,e,n,s,a,c={}){const d=i.Dc(c.merge||c.mergeFields?2:0,e,n,a);Hy("Data must be an object, but it was:",d,s);const m=By(s,d);let v,_;if(c.merge)v=new Qn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const R of c.mergeFields){const N=T2(e,R,n);if(!d.contains(N))throw new he(G.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);S2(S,N)||S.push(N)}v=new Qn(S),_=d.fieldTransforms.filter((R=>v.covers(R.field)))}else v=null,_=d.fieldTransforms;return new v2(new Rn(m),v,_)}function Uy(i,e){if($y(i=Xl(i)))return Hy("Unsupported field value:",e,i),By(i,e);if(i instanceof Fy)return(function(s,a){if(!zy(a.Ec))throw a.wc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.wc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(s,a){const c=[];let d=0;for(const m of s){let v=Uy(m,a.yc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(i,e)}return(function(s,a){if((s=Xl(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return ow(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=rt.fromDate(s);return{timestampValue:ou(a.serializer,c)}}if(s instanceof rt){const c=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ou(a.serializer,c)}}if(s instanceof cr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Pn)return{bytesValue:ly(a.serializer,s._byteString)};if(s instanceof Nt){const c=a.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw a.wc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Jh(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof hr)return(function(d,m){return{mapValue:{fields:{[Og]:{stringValue:jg},[tu]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw m.wc("VectorValues must only contain numeric values.");return Kh(m.serializer,_)}))}}}}}})(s,a);throw a.wc(`Unsupported field value: ${Bh(s)}`)})(i,e)}function By(i,e){const n={};return Ng(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(i,((s,a)=>{const c=Uy(a,e.Vc(s));c!=null&&(n[s]=c)})),{mapValue:{fields:n}}}function $y(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof rt||i instanceof cr||i instanceof Pn||i instanceof Nt||i instanceof Fy||i instanceof hr)}function Hy(i,e,n){if(!$y(n)||!Rg(n)){const s=Bh(n);throw s==="an object"?e.wc(i+" a custom object"):e.wc(i+" "+s)}}function T2(i,e,n){if((e=Xl(e))instanceof md)return e._internalPath;if(typeof e=="string")return qy(i,e);throw cu("Field path arguments must be of type string or ",i,!1,void 0,n)}const x2=new RegExp("[~\\*/\\[\\]]");function qy(i,e,n){if(e.search(x2)>=0)throw cu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new md(...e.split("."))._internalPath}catch{throw cu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function cu(i,e,n,s,a){const c=s&&!s.isEmpty(),d=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${s}`),d&&(v+=` in document ${a}`),v+=")"),new he(G.INVALID_ARGUMENT,m+i+v)}function S2(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class I2 extends Wy{data(){return super.data()}}function Gy(i,e){return typeof e=="string"?qy(i,e):e instanceof md?e._internalPath:e._delegate._internalPath}class k2{convertValue(e,n="none"){switch(di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Qi(e,((a,c)=>{s[a]=this.convertValue(c,n)})),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n[tu].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map((d=>gt(d.doubleValue)));return new hr(c)}convertGeoPoint(e){return new cr(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=gu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ua(e));default:return null}}convertTimestamp(e){const n=ci(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=lt.fromString(e);Ge(py(s),9688,{name:e});const a=new ca(s.get(1),s.get(3)),c=new ye(s.popFirst(5));return a.isEqual(n)||Nr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class Yo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qi extends Wy{constructor(e,n,s,a,c,d){super(e,n,s,a,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Wl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Gy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=qi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}qi._jsonSchemaVersion="firestore/documentSnapshot/1.0",qi._jsonSchema={type:wt("string",qi._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class Wl extends qi{data(e={}){return super.data(e)}}class ra{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Yo(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Wl(this._firestore,this._userDataWriter,s.key,s,new Yo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,c){if(a._snapshot.oldDocs.isEmpty()){let d=0;return a._snapshot.docChanges.map((m=>{const v=new Wl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Yo(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const v=new Wl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Yo(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let _=-1,S=-1;return m.type!==0&&(_=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),S=d.indexOf(m.doc.key)),{type:C2(m.type),doc:v,oldIndex:_,newIndex:S}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Uh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),a.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function C2(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(i){i=aa(i,Nt);const e=aa(i.firestore,pd);return f2(jy(e),i._key).then((n=>b2(e,i,n)))}ra._jsonSchemaVersion="firestore/querySnapshot/1.0",ra._jsonSchema={type:wt("string",ra._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class P2 extends k2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}function N2(i,e,n){i=aa(i,Nt);const s=aa(i.firestore,pd),a=A2(i.converter,e,n);return V2(s,[E2(w2(s),"setDoc",i._key,a,i.converter!==null,n).toMutation(i._key,Rr.none())])}function V2(i,e){return(function(s,a){const c=new ai;return s.asyncQueue.enqueueAndForget((async()=>ZE(await h2(s),a,c))),c.promise})(jy(i),e)}function b2(i,e,n){const s=n.docs.get(e._key),a=new P2(i);return new qi(i,a,e._key,s,new Yo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Js=a})(r_),Jl(new sa("firestore",((s,{instanceIdentifier:a,options:c})=>{const d=s.getProvider("app").getImmediate(),m=new pd(new y_(s.getProvider("auth-internal")),new w_(d,s.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new he(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ca(_.options.projectId,S)})(d,a),d);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),Hs(Wp,Gp,e),Hs(Wp,Gp,"esm2017")})();var D2="firebase",M2="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hs(D2,M2,"app");const L2={apiKey:"AIzaSyCFfZ_3n8Xd3j_p31Ww8Xol_oAH41mrFI0",authDomain:"pdfhunt2025.firebaseapp.com",databaseURL:"https://pdfhunt2025-default-rtdb.firebaseio.com",projectId:"pdfhunt2025",storageBucket:"pdfhunt2025.firebasestorage.app",messagingSenderId:"563842614186",appId:"1:563842614186:web:0355787eca62cd6a5e21d3",measurementId:"G-5225FFQ932"},O2=yg(L2),Bm=m2(O2),we={light:()=>{"vibrate"in navigator&&navigator.vibrate(10)},medium:()=>{"vibrate"in navigator&&navigator.vibrate(20)},heavy:()=>{"vibrate"in navigator&&navigator.vibrate([10,50,20])},success:()=>{"vibrate"in navigator&&navigator.vibrate([10,50,10,50,10])},error:()=>{"vibrate"in navigator&&navigator.vibrate([100,50,100])}},$m=()=>E.jsx("style",{children:`
    @import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap');

    :root {
      font-family: 'Montserrat', sans-serif;
    }
    body {
      font-family: 'Montserrat', sans-serif;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    @keyframes fall {
      0% { top: -10%; }
      100% { top: 110%; }
    }
    .animate-float {
      animation: float 3s ease-in-out infinite;
    }
    .animate-fall {
      animation-name: fall;
      animation-timing-function: linear;
      animation-iteration-count: infinite;
    }

    @keyframes stagger-enter {
      0% { opacity: 0; transform: translateY(20px) scale(0.95); }
      100% { opacity: 1; transform: translateY(0) scale(1); }
    }
    .animate-stagger-enter {
      animation: stagger-enter 0.4s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; 
    }

    @keyframes page-enter {
      0% { opacity: 0; transform: scale(0.98); }
      100% { opacity: 1; transform: scale(1); }
    }
    .animate-page-enter {
      animation: page-enter 0.3s ease-out forwards;
    }
    
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      10%, 30%, 50%, 70%, 90% { transform: translateX(-4px); }
      20%, 40%, 60%, 80% { transform: translateX(4px); }
    }
    .animate-shake {
      animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both;
    }

    .glass-panel {
      backdrop-filter: blur(10px); 
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.15);
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
    }
    
    .dark .glass-panel {
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
    }

    .glass-input {
        background: rgba(255, 255, 255, 0.1);
        backdrop-filter: blur(4px);
        border: 1px solid rgba(255, 255, 255, 0.2);
        color: inherit;
    }
    .dark .glass-input {
        background: rgba(0, 0, 0, 0.2);
        border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }
    .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    ::-webkit-scrollbar {
      width: 6px;
    }
    ::-webkit-scrollbar-track {
      background: transparent;
    }
    ::-webkit-scrollbar-thumb {
      background: #cbd5e1;
      border-radius: 10px;
    }
    .dark ::-webkit-scrollbar-thumb {
      background: #475569;
    }
    .pdf-viewer-frame {
      width: 100%;
      height: 100%;
      border: none;
    }
  `}),ia={BookOpen:hu,Globe:Jm,Laptop:Zm,Atom:Qm,FlaskConical:Ym,Calculator:Xm,Microscope:tg,Layers:Dh,Folder:fu,FileText:du,PenTool:ig,Ruler:sg,Brain:Km,Lightbulb:eg,Music:ng,Palette:rg,Facebook:gv,Instagram:Ev,MessageCircle:Iv,Github:yv,Linkedin:xv,Twitter:Pv,Youtube:Nv,LinkIcon:Mh},j2=i=>{if(!i)return"";const e=i.match(/\/d\/([a-zA-Z0-9_-]+)/);if(e)return e[1];const n=i.match(/[?&]id=([a-zA-Z0-9_-]+)/);return n?n[1]:(/^[a-zA-Z0-9_-]{25,}$/.test(i),i)},F2={Udvash:[{id:"u-1",type:"folder",title:"Physics 1st Paper",items:[],customColor:"emerald",iconName:"Atom"},{id:"u-2",type:"folder",title:"Chemistry 1st Paper",items:[],customColor:"emerald",iconName:"FlaskConical"}],ACS:[{id:"a-1",type:"folder",title:"Bangla 1st Paper",items:[],customColor:"blue",iconName:"BookOpen"}],Others:[{id:"o-1",type:"file",title:"Admission Guide 2024",author:"Udvash",size:"15 MB",date:"Jan 2024",link:"1-7hSg_9g6eSgL4yT4_c7yV7qX4_x7yZ8"}],About:{name:"Admin User",title:"Full Stack Web & App Developer",bio:"I am a passionate Full Stack Developer creating modern, responsive, and user-friendly web and mobile applications.",avatarUrl:null,links:[{id:1,platform:"Facebook",handle:"@admin.user",url:"#",color:"bg-blue-600",iconName:"Facebook"},{id:2,platform:"Instagram",handle:"@admin_dev",url:"#",color:"bg-gradient-to-tr from-yellow-400 via-red-500 to-purple-500",iconName:"Instagram"},{id:3,platform:"WhatsApp",handle:"+880 1XXX",url:"#",color:"bg-green-500",iconName:"MessageCircle"}]}},z2="140075",Hm=()=>{const i=[vv,ig,Xm,Ym,Qm,Jm,Zm,sg,Km,eg,tg,ng,rg,hu,Dh,du],e=["#94a3b8","#a78bfa","#f472b6","#34d399","#60a5fa","#fbbf24","#2dd4bf","#f87171"],n=50,[s]=fe.useState(()=>Array.from({length:n}).map((a,c)=>({Icon:i[c%i.length],key:c,style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*15}s`,animationDuration:`${10+Math.random()*15}s`,transform:`rotate(${Math.random()*360}deg)`,color:e[c%e.length]}})));return E.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden pointer-events-none select-none",children:[E.jsx("div",{className:"absolute inset-0 bg-[#f0f2f5] dark:bg-[#0b141a] transition-colors duration-300"}),s.map(({Icon:a,key:c,style:d})=>E.jsx("div",{className:"absolute top-[-10%] animate-fall opacity-20 dark:opacity-15",style:d,children:E.jsx(a,{size:24,style:{color:d.color}})},c))]})},Hi=({name:i,active:e,onClick:n,icon:s})=>E.jsxs("button",{onClick:()=>{we.light(),n()},className:`relative flex flex-col items-center justify-end w-full h-full pb-2 transition-all duration-300 ${e?"text-blue-500 dark:text-blue-400":"text-gray-400 dark:text-gray-500 hover:text-gray-600 dark:hover:text-gray-300"} active:scale-95`,children:[E.jsx("div",{className:`p-2 rounded-2xl transition-all duration-500 cubic-bezier(0.4, 0, 0.2, 1) ${e?"bg-blue-100/20 dark:bg-blue-900/30 -translate-y-4 shadow-lg shadow-blue-500/20 backdrop-blur-md mb-1":"mb-0"}`,children:E.jsx(s,{size:24,strokeWidth:e?2.5:2})}),E.jsx("span",{className:`text-[10px] font-bold transition-all duration-300 ${e?"opacity-100 translate-y-0":"opacity-70"}`,children:i})]}),U2=({value:i,onChange:e})=>E.jsxs("div",{className:"relative w-full max-w-md mx-auto group",children:[E.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-500 group-focus-within:text-blue-500 transition-colors z-10",children:E.jsx(og,{size:18})}),E.jsx("input",{type:"text",value:i,onChange:n=>e(n.target.value),onFocus:()=>we.light(),placeholder:"Search folders or files...",className:"w-full pl-10 pr-4 py-3 glass-panel bg-white/10 dark:bg-black/10 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all shadow-sm text-sm font-medium text-gray-800 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400"})]}),Qy=({item:i,colorTheme:e,onClick:n,index:s,isAdmin:a,onDelete:c,onEdit:d})=>{var N;const m=i.type==="folder",v=ia[i.iconName]||(m?fu:du),S=(U=>{const K={emerald:{border:"hover:border-emerald-500/50",bg:"bg-emerald-100/50 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-400"},blue:{border:"hover:border-blue-500/50",bg:"bg-blue-100/50 dark:bg-blue-900/40 text-blue-700 dark:text-blue-400"},purple:{border:"hover:border-purple-500/50",bg:"bg-purple-100/50 dark:bg-purple-900/40 text-purple-700 dark:text-purple-400"},red:{border:"hover:border-red-500/50",bg:"bg-red-100/50 dark:bg-red-900/40 text-red-700 dark:text-red-400"},orange:{border:"hover:border-orange-500/50",bg:"bg-orange-100/50 dark:bg-orange-900/40 text-orange-700 dark:text-orange-400"}};return U?K[U]||K.blue:e==="Udvash"?K.emerald:e==="ACS"?K.blue:K.purple})(i.customColor),R=()=>{if(m)return`bg-white/10 dark:bg-black/20 border-white/20 dark:border-white/10 hover:bg-white/20 dark:hover:bg-black/30 ${S.border}`;switch(e){case"Udvash":return"bg-gradient-to-br from-emerald-500/5 to-green-600/5 border-emerald-500/20 hover:border-emerald-500/50";case"ACS":return"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border-blue-500/20 hover:border-blue-500/50";default:return"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border-purple-500/20 hover:border-purple-500/50"}};return E.jsxs("div",{onClick:()=>{we.medium(),n(i)},className:`group relative flex items-center gap-4 p-4 rounded-2xl glass-panel ${R()} transition-transform duration-300 hover:scale-[1.02] active:scale-[0.98] cursor-pointer shadow-sm animate-stagger-enter opacity-0`,style:{animationDelay:`${s*.05}s`},children:[E.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center ${S.bg}`,children:E.jsx(v,{size:24})}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-100 truncate",children:i.title}),E.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1 font-semibold",children:m?`${((N=i.items)==null?void 0:N.length)||0} items`:`${i.author}  ${i.date}`})]}),E.jsx("div",{className:"flex flex-col items-center justify-center",onClick:U=>U.stopPropagation(),children:a?E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:U=>{U.stopPropagation(),we.light(),d(i)},className:"p-2 bg-white/20 dark:bg-black/20 rounded-lg hover:bg-blue-500 hover:text-white transition-colors active:scale-95",children:E.jsx(Av,{size:16})}),E.jsx("button",{onClick:U=>{U.stopPropagation(),we.error(),c(i.id)},className:"p-2 bg-white/20 dark:bg-black/20 rounded-lg hover:bg-red-500 hover:text-white transition-colors active:scale-95",children:E.jsx(ug,{size:16})})]}):m?E.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center bg-white/10 dark:bg-black/20 group-hover:bg-blue-500/20 transition-colors",children:E.jsx(bh,{className:"text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400",size:18})}):E.jsx("div",{className:"flex flex-col items-end gap-2",children:E.jsx("span",{className:"text-[10px] font-mono font-bold px-2 py-1 rounded-full bg-black/5 dark:bg-white/10 text-gray-600 dark:text-gray-300",children:i.size})})})]})},B2=({file:i,onClose:e})=>{const n=`https://drive.google.com/file/d/${i.link}/preview`;return E.jsxs("div",{className:"fixed inset-0 z-[60] flex flex-col bg-white dark:bg-gray-900 animate-in fade-in zoom-in-95 duration-300",children:[E.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-800 bg-white/80 dark:bg-gray-900/80 backdrop-blur-md",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("button",{onClick:()=>{we.light(),e()},className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors active:scale-95",children:E.jsx(Gm,{size:20,className:"text-gray-700 dark:text-gray-200"})}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-bold text-sm md:text-base text-gray-900 dark:text-gray-100 max-w-[200px] md:max-w-md truncate",children:i.title}),E.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:i.size})]})]}),E.jsx("div",{className:"flex gap-2",children:E.jsxs("a",{href:`https://drive.google.com/u/0/uc?id=${i.link}&export=download`,target:"_blank",rel:"noreferrer",onClick:()=>we.success(),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-xl text-sm font-bold transition-colors active:scale-95",children:[E.jsx(ma,{size:16}),E.jsx("span",{className:"hidden sm:inline",children:"Download"})]})})]}),E.jsxs("div",{className:"flex-1 bg-gray-100 dark:bg-gray-950 relative",children:[E.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400",children:E.jsx("p",{className:"font-medium",children:"Loading Preview..."})}),E.jsx("iframe",{src:n,className:"pdf-viewer-frame relative z-10",allow:"autoplay",title:"PDF Viewer"})]})]})},$2=({onClose:i,onLogin:e})=>{const[n,s]=fe.useState(""),[a,c]=fe.useState(!1),d=m=>{m.preventDefault(),n===z2?(e(),i()):(c(!0),setTimeout(()=>c(!1),500))};return E.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-page-enter",children:E.jsxs("div",{className:`glass-panel bg-white/20 dark:bg-black/40 p-8 rounded-3xl w-full max-w-sm flex flex-col items-center shadow-2xl ${a?"animate-shake border-red-500/50":""}`,children:[E.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-tr from-blue-500 to-purple-600 flex items-center justify-center mb-6 shadow-lg",children:E.jsx(Sv,{size:32,className:"text-white"})}),E.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Admin Access"}),E.jsx("p",{className:"text-gray-200 text-xs mb-6 text-center",children:"Enter your security PIN to access the control panel."}),E.jsxs("form",{onSubmit:d,className:"w-full",children:[E.jsxs("div",{className:"relative mb-6",children:[E.jsx(Tv,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"}),E.jsx("input",{type:"password",autoFocus:!0,value:n,onChange:m=>s(m.target.value),className:"w-full p-4 pl-12 rounded-xl bg-black/20 border border-white/10 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all text-center tracking-widest font-bold text-lg",placeholder:""})]}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{type:"button",onClick:()=>{we.light(),i()},className:"flex-1 py-3 rounded-xl bg-white/10 text-white font-bold hover:bg-white/20 transition-colors active:scale-95",children:"Cancel"}),E.jsx("button",{type:"submit",onClick:()=>we.medium(),className:"flex-1 py-3 rounded-xl bg-blue-600 text-white font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-600/30 active:scale-95",children:"Login"})]})]})]})})},H2=({onClose:i})=>E.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-page-enter",children:E.jsx("div",{className:"glass-panel bg-white/20 dark:bg-black/40 rounded-3xl p-8 max-w-md w-full shadow-2xl border border-white/20",children:E.jsxs("div",{className:"flex flex-col items-center text-center",children:[E.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center mb-6 shadow-lg",children:E.jsx(ag,{size:40,className:"text-white"})}),E.jsx("h2",{className:"text-2xl font-extrabold text-gray-900 dark:text-white mb-4",children:"Install PDF Hunt"}),E.jsxs("div",{className:"w-full space-y-4 mb-6 text-left",children:[E.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-white/10 dark:bg-black/20",children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 text-white flex items-center justify-center font-bold flex-shrink-0",children:"1"}),E.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium pt-1",children:["Tap the ",E.jsx("strong",{children:"Share button"})," (square with arrow) at the bottom of your screen"]})]}),E.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-white/10 dark:bg-black/20",children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 text-white flex items-center justify-center font-bold flex-shrink-0",children:"2"}),E.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium pt-1",children:["Scroll down and tap ",E.jsx("strong",{children:'"Add to Home Screen"'})]})]}),E.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-xl bg-white/10 dark:bg-black/20",children:[E.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 text-white flex items-center justify-center font-bold flex-shrink-0",children:"3"}),E.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium pt-1",children:["Tap ",E.jsx("strong",{children:'"Add"'})," in the top right to finish"]})]})]}),E.jsx("button",{onClick:()=>{we.light(),i()},className:"w-full py-3 px-6 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold transition-colors active:scale-95",children:"Got It!"})]})})}),q2=({onUpdate:i,onDismiss:e})=>E.jsx("div",{className:"fixed top-4 left-1/2 -translate-x-1/2 z-[100] animate-page-enter max-w-md w-full px-4",children:E.jsx("div",{className:"glass-panel bg-gradient-to-r from-blue-500 to-purple-600 p-4 rounded-2xl shadow-2xl border border-white/20",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center flex-shrink-0",children:E.jsx(ma,{size:20,className:"text-white"})}),E.jsxs("div",{className:"flex-1",children:[E.jsx("h3",{className:"font-bold text-white mb-1",children:"New Update Available!"}),E.jsx("p",{className:"text-xs text-white/90",children:"Get the latest features and improvements"})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:i,className:"px-4 py-2 bg-white text-blue-600 rounded-xl text-sm font-bold transition-colors hover:bg-white/90 active:scale-95",children:"Update Now"}),E.jsx("button",{onClick:e,className:"p-2 text-white/80 hover:text-white transition-colors active:scale-95",children:E.jsx(Lh,{size:18})})]})]})})}),W2=({deferredPrompt:i,onInstall:e,onDismiss:n})=>i?E.jsx("div",{className:"fixed bottom-24 left-1/2 -translate-x-1/2 z-50 animate-page-enter max-w-md w-full px-4",children:E.jsx("div",{className:"glass-panel bg-white/20 dark:bg-black/40 p-4 rounded-2xl shadow-2xl border border-blue-500/30",children:E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:E.jsx(ma,{size:24,className:"text-white"})}),E.jsxs("div",{className:"flex-1",children:[E.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-1",children:"Install PDF Hunt"}),E.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 mb-3",children:"Install our app for a better experience and offline access!"}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>{we.medium(),e()},className:"flex-1 py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl text-sm font-bold transition-colors active:scale-95",children:"Install Now"}),E.jsx("button",{onClick:()=>{we.light(),n()},className:"py-2 px-4 glass-input hover:bg-white/20 rounded-xl text-sm font-bold transition-colors active:scale-95",children:"Later"})]})]}),E.jsx("button",{onClick:()=>{we.light(),n()},className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 active:scale-95 transition-transform",children:E.jsx(Lh,{size:18})})]})})}):null,G2=({onStart:i,onSkip:e})=>{const[n,s]=fe.useState(0),a=[{title:"Welcome to PDF Hunt!",description:"Your one-stop solution for managing study materials",icon:hu,color:"from-blue-500 to-cyan-500"},{title:"Browse & Search",description:"Easily navigate through folders and search for files",icon:og,color:"from-emerald-500 to-green-500"},{title:"PDF Preview",description:"View PDFs directly in your browser without downloading",icon:du,color:"from-purple-500 to-pink-500"},{title:"Install App",description:"Install PDF Hunt on your device for offline access and faster loading",icon:ag,color:"from-orange-500 to-red-500"}],c=()=>{n<a.length-1?s(n+1):i()},d=()=>{n>0&&s(n-1)},m=a[n].icon;return E.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm animate-page-enter",children:E.jsxs("div",{className:"glass-panel bg-white/20 dark:bg-black/40 rounded-3xl p-8 max-w-md w-full shadow-2xl border border-white/20",children:[E.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[E.jsx("div",{className:`w-24 h-24 rounded-full bg-gradient-to-br ${a[n].color} flex items-center justify-center mb-4 shadow-lg`,children:E.jsx(m,{size:40,className:"text-white"})}),E.jsx("h2",{className:"text-2xl font-extrabold text-gray-900 dark:text-white mb-2",children:a[n].title}),E.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:a[n].description})]}),E.jsx("div",{className:"flex justify-center gap-2 mb-6",children:a.map((v,_)=>E.jsx("div",{className:`h-2 rounded-full transition-all ${_===n?"w-8 bg-blue-500":"w-2 bg-gray-400"}`},_))}),E.jsxs("div",{className:"flex gap-3",children:[n>0&&E.jsxs("button",{onClick:()=>{we.light(),d()},className:"flex-1 py-3 px-4 glass-input hover:bg-white/20 rounded-xl font-bold text-sm transition-colors flex items-center justify-center gap-2 active:scale-95",children:[E.jsx(dv,{size:18}),"Previous"]}),E.jsx("button",{onClick:()=>{we.medium(),c()},className:"flex-1 py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-bold text-sm transition-colors flex items-center justify-center gap-2 active:scale-95",children:n===a.length-1?E.jsxs(E.Fragment,{children:[E.jsx(ma,{size:18}),"Install App"]}):E.jsxs(E.Fragment,{children:["Next",E.jsx(bh,{size:18})]})}),E.jsx("button",{onClick:()=>{we.light(),e()},className:"py-3 px-4 glass-input hover:bg-white/20 rounded-xl font-bold text-sm transition-colors active:scale-95",children:"Skip"})]})]})})},Q2=({data:i,onAdminLogin:e,isAdmin:n})=>{const s=({icon:a,title:c,handle:d,colorClass:m,link:v})=>E.jsxs("a",{href:v||"#",target:"_blank",rel:"noopener noreferrer",onClick:()=>we.medium(),className:"group flex items-center justify-between p-4 w-full rounded-2xl glass-panel bg-white/10 dark:bg-black/10 hover:bg-white/20 dark:hover:bg-white/5 transition-all duration-300 mb-3 animate-stagger-enter opacity-0 active:scale-[0.98] cursor-pointer",style:{animationDelay:"0.1s"},children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-white shadow-lg ${m}`,children:E.jsx(a,{size:22,strokeWidth:2})}),E.jsxs("div",{className:"text-left",children:[E.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-100",children:c}),E.jsx("p",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400",children:d})]})]}),E.jsx(mv,{size:18,className:"text-gray-400 group-hover:text-gray-600 dark:group-hover:text-gray-200 transition-colors"})]});return E.jsxs("div",{className:"animate-page-enter flex flex-col items-center pt-8 px-6 pb-32 max-w-md mx-auto",children:[E.jsxs("div",{className:"relative mb-6 group animate-stagger-enter opacity-0",style:{animationDelay:"0s"},children:[E.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full blur opacity-60 group-hover:opacity-100 transition duration-500"}),E.jsx("div",{className:"relative w-32 h-32 rounded-full p-[4px] bg-white dark:bg-gray-800 shadow-2xl",children:E.jsx("div",{className:"w-full h-full rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center overflow-hidden",children:i.avatarUrl?E.jsx("img",{src:i.avatarUrl,alt:"Profile",className:"w-full h-full object-cover"}):E.jsx(Gl,{size:64,className:"text-gray-400"})})})]}),E.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 dark:text-white mb-2 tracking-tight animate-stagger-enter opacity-0",style:{animationDelay:"0.05s"},children:i.name}),E.jsx("p",{className:"text-xs font-bold text-blue-600 dark:text-blue-400 mb-8 uppercase tracking-widest animate-stagger-enter opacity-0",style:{animationDelay:"0.1s"},children:i.title}),E.jsx("div",{className:"w-full",children:i.links.map((a,c)=>{const d=ia[a.iconName]||Mh;return E.jsx("div",{className:"animate-stagger-enter opacity-0",style:{animationDelay:`${.2+c*.1}s`},children:E.jsx(s,{icon:d,title:a.platform,handle:a.handle,colorClass:a.color,link:a.url})},a.id)})}),E.jsxs("div",{className:"mt-6 p-6 rounded-3xl glass-panel bg-white/10 dark:bg-black/10 w-full text-center shadow-sm animate-stagger-enter opacity-0",style:{animationDelay:"0.5s"},children:[E.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 font-medium leading-relaxed mb-4",children:i.bio}),E.jsxs("button",{onClick:()=>{we.medium(),e()},className:"flex items-center justify-center gap-2 mx-auto px-5 py-2.5 rounded-xl bg-gray-900 dark:bg-white text-white dark:text-black font-bold text-xs uppercase tracking-wider hover:opacity-80 transition-all active:scale-95",children:[E.jsx(Rv,{size:14})," ",n?"Go to Admin Console":"Login to Admin Console"]})]})]})},K2=({data:i,setData:e,onLogout:n,isDarkMode:s,setDarkMode:a})=>{const[c,d]=fe.useState("Content"),[m,v]=fe.useState("Udvash"),[_,S]=fe.useState([]),[R,N]=fe.useState(null),[U,K]=fe.useState(null),[Y,q]=fe.useState(!1),[Ee,pe]=fe.useState(""),[de,Se]=fe.useState("file"),[Be,Ce]=fe.useState(""),[V,T]=fe.useState(""),[k,C]=fe.useState("emerald"),[b,M]=fe.useState("Folder"),[I,Qe]=fe.useState(i.About.name),[ft,ct]=fe.useState(i.About.title),[$e,ee]=fe.useState(i.About.bio),[ce,te]=fe.useState(i.About.avatarUrl||""),[D,B]=fe.useState(i.About.links),[ne,ve]=fe.useState({platform:"",handle:"",url:"",color:"bg-blue-600",iconName:"LinkIcon"}),Ie=()=>{let J=i[m];for(const et of _){const qe=J.find(Ft=>Ft.id===et.id);if(qe&&qe.items)J=qe.items;else return[]}return J},Re=async J=>{if(_.length===0){await e({...i,[m]:J});return}const et={...i};let qe=et[m];for(let Gt=0;Gt<_.length-1;Gt++)qe=qe.find(Jt=>Jt.id===_[Gt].id).items;const Ft=qe.findIndex(Gt=>Gt.id===_[_.length-1].id);Ft!==-1&&(qe[Ft].items=J,await e(et))},Ve=J=>{if(window.confirm("Delete this item?")){const et=Ie();Re(et.filter(qe=>qe.id!==J))}},Le=()=>{we.medium(),K(null),pe(""),Se("file"),Ce(""),T(""),C("emerald"),M("Folder"),N("add")},We=J=>{we.light(),K(J),pe(J.title),Se(J.type),Ce(J.link||""),T(J.size||""),C(J.customColor||"emerald"),M(J.iconName||"Folder"),N("edit")},ht=async()=>{if(!Ee){we.error();return}we.success();const J={id:U?U.id:Date.now().toString(),type:de,title:Ee,author:"Admin",date:U?U.date:new Date().toLocaleDateString("en-US",{month:"short",year:"numeric"}),size:V||(de==="folder"?"-":"1 MB"),link:j2(Be)||"#",iconName:b};de==="folder"&&(J.items=U?U.items||[]:[],J.customColor=k);const et=Ie();let qe;R==="edit"?qe=et.map(Ft=>Ft.id===U.id?J:Ft):qe=[...et,J],await Re(qe),N(null)},un=async()=>{we.success(),await e({...i,About:{name:I,title:ft,bio:$e,avatarUrl:ce,links:D}}),alert("Profile Updated!")},Kn=()=>{we.medium(),B([...D,{...ne,id:Date.now()}]),ve({platform:"",handle:"",url:"",color:"bg-blue-600",iconName:"LinkIcon"})},cn=J=>{we.error(),B(D.filter(et=>et.id!==J))},Nn=({selected:J,onSelect:et})=>E.jsx("div",{className:"grid grid-cols-6 gap-2 mt-2 h-32 overflow-y-auto pr-2 custom-scrollbar",children:Object.keys(ia).map(qe=>{const Ft=ia[qe];return E.jsx("button",{onClick:()=>{we.light(),et(qe)},className:`p-2 rounded-lg flex items-center justify-center transition-colors ${J===qe?"bg-blue-500 text-white":"glass-input hover:bg-white/20"} active:scale-95`,children:E.jsx(Ft,{size:18})},qe)})});return E.jsxs("div",{className:`min-h-screen ${s?"dark text-white":"text-gray-900"} pb-24 transition-colors relative`,children:[E.jsxs("div",{className:"p-6 pb-2",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsxs("div",{children:[E.jsx("h1",{className:"text-2xl font-extrabold italic bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-purple-600",children:"Admin Console"}),E.jsx("p",{className:"text-xs text-gray-500 font-bold mt-1",children:"Manage Your App"})]}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:()=>{we.light(),q(!Y)},className:"p-2 rounded-xl glass-panel bg-white/10 dark:bg-black/10 text-blue-500 active:scale-95",children:E.jsx(fv,{size:20})}),E.jsx("button",{onClick:()=>{we.light(),a(!s)},className:"p-2 rounded-xl glass-panel bg-white/10 dark:bg-black/10 active:scale-95",children:E.jsx(lg,{size:20})}),E.jsx("button",{onClick:()=>{we.error(),n()},className:"p-2 rounded-xl bg-red-500/20 text-red-600 border border-red-500/30 active:scale-95",children:E.jsx(bp,{size:20})})]})]}),Y&&E.jsxs("div",{className:"mb-6 p-4 rounded-2xl glass-panel bg-blue-500/10 border border-blue-500/20 animate-stagger-enter",children:[E.jsxs("h4",{className:"font-bold text-sm mb-2 flex items-center gap-2",children:[E.jsx(wv,{size:16})," How to Use"]}),E.jsxs("ul",{className:"text-xs space-y-1 opacity-80 list-disc pl-4",children:[E.jsxs("li",{children:[E.jsx("strong",{children:"Adding Files:"})," Paste the full Google Drive link. The app will extract the ID automatically."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Folders:"})," Create folders to organize content. You can nest them."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Customization:"})," Pick colors and icons for folders to match your theme."]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Profile:"})," Use direct image URLs (like from Imgur) for your profile picture."]})]})]})]}),E.jsxs("div",{className:"px-6",children:[c==="Content"&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2 scrollbar-hide",children:["Udvash","ACS","Others"].map(J=>E.jsx("button",{onClick:()=>{we.light(),v(J),S([]),N(null)},className:`px-5 py-2 rounded-full font-bold text-xs whitespace-nowrap transition-all ${m===J?"bg-blue-600 text-white shadow-lg":"glass-panel bg-white/10 dark:bg-black/10"} active:scale-95`,children:J},J))}),R?E.jsxs("div",{className:"glass-panel bg-white/10 dark:bg-black/10 p-6 rounded-2xl mb-8 animate-stagger-enter",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsx("h3",{className:"font-bold text-lg",children:R==="edit"?"Edit Item":"Add New Item"}),E.jsx("button",{onClick:()=>{we.light(),N(null)},className:"active:scale-95",children:E.jsx(Lh,{size:20,className:"text-gray-500"})})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Title"}),E.jsx("input",{value:Ee,onChange:J=>pe(J.target.value),className:"w-full p-3 rounded-xl glass-input mt-1"})]}),R==="add"&&E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Type"}),E.jsxs("div",{className:"flex gap-2 mt-1",children:[E.jsx("button",{onClick:()=>{we.light(),Se("folder")},className:`flex-1 py-2 rounded-lg font-bold text-sm transition-colors ${de==="folder"?"bg-blue-500 text-white":"glass-input"} active:scale-95`,children:"Folder"}),E.jsx("button",{onClick:()=>{we.light(),Se("file")},className:`flex-1 py-2 rounded-lg font-bold text-sm transition-colors ${de==="file"?"bg-blue-500 text-white":"glass-input"} active:scale-95`,children:"File"})]})]}),de==="folder"&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Color"}),E.jsx("div",{className:"flex gap-2 mt-1",children:["emerald","blue","purple","orange","red"].map(J=>E.jsx("button",{onClick:()=>{we.light(),C(J)},className:`w-8 h-8 rounded-full border-2 transition-transform hover:scale-110 active:scale-95 ${k===J?"border-white scale-110":"border-transparent"}`,style:{backgroundColor:J==="emerald"?"#10b981":J==="blue"?"#3b82f6":J==="purple"?"#a855f7":J==="orange"?"#f97316":"#ef4444"}},J))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Icon"}),E.jsx(Nn,{selected:b,onSelect:M})]})]}),de==="file"&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Drive Link"}),E.jsx("input",{value:Be,onChange:J=>Ce(J.target.value),placeholder:"Paste full link or ID",className:"w-full p-3 rounded-xl glass-input mt-1"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Size"}),E.jsx("input",{value:V,onChange:J=>T(J.target.value),className:"w-full p-3 rounded-xl glass-input mt-1"})]})]})]}),E.jsxs("div",{className:"flex gap-3 mt-8",children:[E.jsx("button",{onClick:()=>{we.light(),N(null)},className:"flex-1 py-3 rounded-xl font-bold glass-input hover:bg-white/10 active:scale-95",children:"Cancel"}),E.jsx("button",{onClick:ht,className:"flex-1 py-3 rounded-xl font-bold bg-blue-600 text-white shadow-lg shadow-blue-500/30 hover:bg-blue-700 active:scale-95",children:"Save Item"})]})]}):E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex items-center gap-2 mb-4 text-sm font-bold text-gray-500",children:[E.jsxs("button",{onClick:()=>{we.light(),S([])},className:"hover:text-blue-500 flex items-center gap-1 active:scale-95",children:[E.jsx(_v,{size:14})," Root"]}),_.map((J,et)=>E.jsxs("span",{className:"flex items-center gap-2",children:[E.jsx(bh,{size:14}),E.jsx("button",{onClick:()=>{we.light(),S(_.slice(0,et+1))},className:"hover:text-blue-500 active:scale-95",children:J.title})]},J.id))]}),E.jsxs("button",{onClick:Le,className:"w-full mb-4 py-3 rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700 text-gray-400 font-bold flex items-center justify-center gap-2 hover:border-blue-500 hover:text-blue-500 transition-all active:scale-95",children:[E.jsx(Cv,{size:20})," Add New Item"]}),E.jsxs("div",{className:"space-y-3",children:[Ie().length===0&&E.jsx("p",{className:"text-center text-gray-400 py-4 font-medium italic",children:"This folder is empty."}),Ie().map((J,et)=>E.jsx(Qy,{item:J,index:et,colorTheme:m,isAdmin:!0,onClick:qe=>qe.type==="folder"?S([..._,{id:qe.id,title:qe.title}]):null,onEdit:We,onDelete:Ve},J.id))]})]})]}),c==="Profile"&&E.jsxs("div",{className:"space-y-6 animate-page-enter max-w-2xl mx-auto",children:[E.jsxs("div",{className:"glass-panel bg-white/10 dark:bg-black/10 p-6 rounded-2xl",children:[E.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[E.jsx(Gl,{size:18})," Personal Info"]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("input",{value:I,onChange:J=>Qe(J.target.value),className:"w-full p-3 rounded-xl glass-input border-none outline-none text-sm",placeholder:"Name"}),E.jsx("input",{value:ft,onChange:J=>ct(J.target.value),className:"w-full p-3 rounded-xl glass-input border-none outline-none text-sm",placeholder:"Title"}),E.jsx("textarea",{value:$e,onChange:J=>ee(J.target.value),rows:"3",className:"w-full p-3 rounded-xl glass-input border-none outline-none text-sm",placeholder:"Bio"}),E.jsx("input",{value:ce,onChange:J=>te(J.target.value),className:"w-full p-3 rounded-xl glass-input border-none outline-none text-sm",placeholder:"Profile Image URL (https://...)"})]})]}),E.jsxs("div",{className:"glass-panel bg-white/10 dark:bg-black/10 p-6 rounded-2xl",children:[E.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[E.jsx(Mh,{size:18})," Social Links"]}),E.jsx("div",{className:"space-y-3 mb-4",children:D.map(J=>E.jsxs("div",{className:"flex items-center justify-between p-3 glass-input rounded-xl",children:[E.jsx("span",{className:"text-sm font-bold",children:J.platform}),E.jsx("button",{onClick:()=>cn(J.id),className:"text-red-500 active:scale-95",children:E.jsx(ug,{size:16})})]},J.id))}),E.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[E.jsx("input",{placeholder:"Platform",value:ne.platform,onChange:J=>ve({...ne,platform:J.target.value}),className:"p-2 rounded-lg glass-input text-xs"}),E.jsx("input",{placeholder:"Handle",value:ne.handle,onChange:J=>ve({...ne,handle:J.target.value}),className:"p-2 rounded-lg glass-input text-xs"}),E.jsx("input",{placeholder:"URL",value:ne.url,onChange:J=>ve({...ne,url:J.target.value}),className:"p-2 rounded-lg glass-input text-xs"}),E.jsx("select",{value:ne.iconName,onChange:J=>ve({...ne,iconName:J.target.value}),className:"p-2 rounded-lg glass-input text-xs dark:bg-gray-800",children:Object.keys(ia).map(J=>E.jsx("option",{value:J,children:J},J))})]}),E.jsx("button",{onClick:Kn,className:"mt-2 w-full py-2 bg-blue-500 text-white rounded-lg text-xs font-bold active:scale-95",children:"Add Link"})]}),E.jsx("button",{onClick:un,className:"w-full py-4 bg-green-600 hover:bg-green-700 text-white rounded-2xl font-bold shadow-lg shadow-green-500/30 active:scale-95",children:"Save Changes"})]})]}),E.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 z-50",children:E.jsxs("nav",{className:"glass-panel mx-auto max-w-md bg-white/10 dark:bg-black/10 rounded-3xl h-16 px-6 shadow-2xl flex items-center justify-between pointer-events-auto",children:[E.jsx(Hi,{name:"Content",active:c==="Content",onClick:()=>{we.light(),d("Content")},icon:fu}),E.jsx(Hi,{name:"Profile",active:c==="Profile",onClick:()=>{we.light(),d("Profile")},icon:Gl}),E.jsx(Hi,{name:"Exit",active:!1,onClick:()=>{we.error(),n()},icon:bp})]})})]})};function X2(){console.log("App component rendering...");const[i,e]=fe.useState("Udvash"),[n,s]=fe.useState(()=>{const ue=localStorage.getItem("pdfhunt-darkmode");return ue!==null?ue==="true":!0}),[a,c]=fe.useState(""),[d,m]=fe.useState([]),[v,_]=fe.useState(null),[S,R]=fe.useState("app"),[N,U]=fe.useState(F2),[K,Y]=fe.useState(!1),[q,Ee]=fe.useState(!1),[pe,de]=fe.useState(!0),Se=fe.useRef(!1),[Be,Ce]=fe.useState(null),[V,T]=fe.useState(!1),[k,C]=fe.useState(!1),[b,M]=fe.useState(!1),[I,Qe]=fe.useState(!1),[ft,ct]=fe.useState(!1),[$e,ee]=fe.useState(!1),[ce,te]=fe.useState(!1),[D,B]=fe.useState(null),ne=d.length>0?d[d.length-1].items:N[i]||[],ve=ue=>{ue===i&&d.length===0||(e(ue),m([]),c(""))},Ie=ue=>{ue.type==="folder"?(m([...d,{title:ue.title,items:ue.items}]),c("")):_(ue)},Re=async()=>{try{const ue=await R2(jm(Bm,"app","state"));ue.exists()&&U(ue.data())}finally{Se.current=!0,de(!1)}},Ve=ue=>{if(ue==null)return null;if(Array.isArray(ue))return ue.map(be=>Ve(be));if(typeof ue=="object"){const be={};for(const De in ue)ue[De]!==void 0&&(be[De]=Ve(ue[De]));return be}return ue},Le=async ue=>{try{const be=Ve(ue);console.log(" Saving to Firestore...",be),await N2(jm(Bm,"app","state"),be,{merge:!1}),console.log(" Data saved to Firestore successfully")}catch(be){console.error(" Error saving to Firestore:",be),console.error("Error details:",be.message),alert(`Failed to save data: ${be.message}. Please check console for details.`)}},We=async ue=>{const be=typeof ue=="function"?ue(N):ue;U(be),await Le(be)},ht=()=>{const ue=[...d];ue.pop(),m(ue)};fe.useEffect(()=>{if(Re(),(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone)&&M(!0),!localStorage.getItem("pdfhunt-tour-seen")&&!b&&setTimeout(()=>{C(!0)},1e3),"serviceWorker"in navigator){const be=()=>{console.log("Update notification triggered"),sessionStorage.getItem("pdfhunt-update-dismissed")||te(!0)};return window.addEventListener("sw-update-available",be),navigator.serviceWorker.getRegistration().then(De=>{De&&(B(De),De.addEventListener("updatefound",()=>{const Xe=De.installing;Xe&&Xe.addEventListener("statechange",()=>{Xe.state==="installed"&&navigator.serviceWorker.controller&&(sessionStorage.getItem("pdfhunt-update-dismissed")||te(!0))})}))}),()=>{window.removeEventListener("sw-update-available",be)}}},[]),fe.useEffect(()=>{Se.current||Re()},[]),fe.useEffect(()=>{try{const ue=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;ee(ue);const be=window.matchMedia("(display-mode: standalone)").matches||window.navigator&&window.navigator.standalone===!0;if(be){M(!0),Qe(!1),console.log("App is already installed");return}const De=vn=>{console.log("beforeinstallprompt event fired! (Android/Desktop)"),vn.preventDefault(),Ce(vn),Qe(!0)},Xe=()=>{console.log("App installed successfully!"),M(!0),Ce(null),Qe(!1),T(!1),localStorage.setItem("pdfhunt-install-dismissed","true")};return ue&&!be&&(console.log("iOS detected - showing install button"),Qe(!0)),window.addEventListener("beforeinstallprompt",De),window.addEventListener("appinstalled",Xe),()=>{window.removeEventListener("beforeinstallprompt",De),window.removeEventListener("appinstalled",Xe)}}catch(ue){console.error("PWA install setup error:",ue)}},[]),fe.useEffect(()=>{n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("pdfhunt-darkmode",n.toString())},[n]),fe.useEffect(()=>{const ue=localStorage.getItem("pdfhunt-darkmode");(ue!==null?ue==="true":!0)?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]);const un=()=>{Y(!0)},Kn=()=>{Ee(!1),R("app")},cn=async()=>{if(we.medium(),Be)try{await Be.prompt();const{outcome:ue}=await Be.userChoice;ue==="accepted"?(M(!0),we.success(),console.log("User accepted the install prompt")):(we.light(),console.log("User dismissed the install prompt")),Ce(null),Qe(!1)}catch(ue){we.error(),console.error("Error showing install prompt:",ue),Be||ct(!0)}else ct(!0)},Nn=()=>{T(!1),localStorage.setItem("pdfhunt-install-dismissed","true")},J=()=>{C(!1),localStorage.setItem("pdfhunt-tour-seen","true"),setTimeout(()=>{Be&&!localStorage.getItem("pdfhunt-install-dismissed")?T(!0):Be||console.log("Install prompt not available. Icons may be missing or browser doesn't support PWA install.")},500)},et=()=>{C(!1),localStorage.setItem("pdfhunt-tour-seen","true")},qe=()=>{we.success(),D&&D.waiting?D.waiting.postMessage({type:"SKIP_WAITING"}):navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"SKIP_WAITING"}),setTimeout(()=>{window.location.reload()},100)},Ft=()=>{we.light(),te(!1),sessionStorage.setItem("pdfhunt-update-dismissed","true")},Gt=ue=>{let be=[];return ue&&ue.forEach(De=>{if(be.push(De),De.type==="folder"&&De.items&&De.items.length>0){const Xe=Gt(De.items);be=[...be,...Xe]}}),be},Jt=fe.useMemo(()=>a.trim()?Gt(ne).filter(be=>be.title.toLowerCase().includes(a.toLowerCase())):ne,[ne,a]),Vn=d.length>0?d[d.length-1].title:`${i} Materials`,pr=i==="Udvash"?"bg-gradient-to-r from-emerald-500 to-green-700 dark:from-emerald-400 dark:to-green-500":i==="ACS"?"bg-gradient-to-r from-blue-600 to-cyan-600 dark:from-blue-400 dark:to-cyan-400":"bg-gradient-to-r from-purple-600 to-pink-600 dark:from-purple-400 dark:to-pink-400";return S==="admin"?E.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${n?"dark text-white":"text-gray-800"}`,children:[E.jsx($m,{}),E.jsx(Hm,{}),E.jsx(K2,{data:N,setData:We,onLogout:Kn,isDarkMode:n,setDarkMode:s})]}):E.jsxs("div",{className:`min-h-screen transition-colors duration-300 ${n?"dark text-white":"text-gray-800"}`,children:[E.jsx($m,{}),E.jsx(Hm,{}),K&&E.jsx($2,{onClose:()=>Y(!1),onLogin:()=>{Ee(!0),Y(!1),R("admin")}}),ce&&E.jsx(q2,{onUpdate:qe,onDismiss:Ft}),k&&E.jsx(G2,{onStart:J,onSkip:et}),ft&&E.jsx(H2,{onClose:()=>{we.light(),ct(!1)}}),V&&E.jsx(W2,{deferredPrompt:Be,onInstall:cn,onDismiss:Nn}),v&&E.jsx(B2,{file:v,onClose:()=>_(null)}),E.jsxs("div",{className:"flex flex-col h-screen overflow-hidden relative",children:[E.jsxs("header",{className:"px-6 pt-6 pb-2 z-10 flex-shrink-0",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsxs("div",{children:[E.jsxs("div",{className:"relative",children:[E.jsx("h1",{className:"text-2xl font-extrabold italic bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400",children:"PDF Hunt"}),E.jsx("div",{className:"h-1.5 w-12 rounded-full mt-1 bg-gradient-to-r from-blue-600 to-purple-600 dark:from-blue-400 dark:to-purple-400"})]}),E.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-bold mt-2",children:"Find your resources"})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[I&&!b&&E.jsxs("button",{onClick:cn,className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white rounded-xl font-bold text-sm transition-all shadow-lg border-2 border-white/20 active:scale-95 flex items-center gap-2",children:[E.jsx(ma,{size:16}),E.jsx("span",{className:"hidden sm:inline",children:"Install App"})]}),E.jsx("button",{onClick:()=>{we.light(),s(!n)},className:"p-3 rounded-full bg-white/20 dark:bg-black/20 glass-panel hover:bg-white/30 dark:hover:bg-white/10 transition-colors text-gray-700 dark:text-gray-200 active:scale-95",children:n?E.jsx(lg,{size:20,className:"text-yellow-400"}):E.jsx(kv,{size:20})})]})]}),i!=="About Me"&&E.jsx(U2,{value:a,onChange:c})]}),E.jsx("main",{className:"flex-1 overflow-y-auto px-6 pb-24 scroll-smooth",children:i==="About Me"?E.jsx(Q2,{data:N.About,onAdminLogin:un,isAdmin:q}):E.jsxs("div",{className:"space-y-4 pt-4",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.length>0&&E.jsx("button",{onClick:ht,className:"p-2 -ml-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors active:scale-95",children:E.jsx(Gm,{size:18})}),E.jsxs("div",{className:"relative",children:[E.jsx("h2",{className:`text-xl font-extrabold italic bg-clip-text text-transparent truncate ${pr}`,children:Vn}),E.jsx("div",{className:`h-1.5 w-12 rounded-full mt-1 ${pr}`})]})]}),Jt.length>0?Jt.map((ue,be)=>E.jsx("div",{className:"mb-4",children:E.jsx(Qy,{item:ue,colorTheme:i==="Others"?"Others":i,onClick:Ie,index:be})},ue.id)):E.jsxs("div",{className:"text-center py-10 opacity-50 flex flex-col items-center text-gray-600 dark:text-gray-400",children:[E.jsx(fu,{size:40,className:"mb-2 opacity-30"}),E.jsx("p",{className:"font-medium",children:"Empty Folder"})]})]})}),E.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 z-40 pointer-events-none",children:E.jsxs("nav",{className:"glass-panel mx-auto max-w-md bg-white/10 dark:bg-black/10 rounded-3xl h-16 px-6 shadow-2xl flex items-center justify-between pointer-events-auto",children:[E.jsx(Hi,{name:"Udvash",active:i==="Udvash",onClick:()=>ve("Udvash"),icon:Dh}),E.jsx(Hi,{name:"ACS",active:i==="ACS",onClick:()=>ve("ACS"),icon:hu}),E.jsx(Hi,{name:"Others",active:i==="Others",onClick:()=>ve("Others"),icon:pv}),E.jsx(Hi,{name:"About Me",active:i==="About Me",onClick:()=>ve("About Me"),icon:Gl})]})})]})]})}lv.createRoot(document.getElementById("root")).render(E.jsx(tv.StrictMode,{children:E.jsx(X2,{})}));
